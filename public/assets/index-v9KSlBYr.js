function Wz(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vz(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Jy={exports:{}},Au={},Zy={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function Hz(){if(ZC)return nt;ZC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function b(U,Y,he){this.props=U,this.context=Y,this.refs=y,this.updater=he||w}b.prototype.isReactComponent={},b.prototype.setState=function(U,Y){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Y,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function E(){}E.prototype=b.prototype;function O(U,Y,he){this.props=U,this.context=Y,this.refs=y,this.updater=he||w}var A=O.prototype=new E;A.constructor=O,x(A,b.prototype),A.isPureReactComponent=!0;var P=Array.isArray,T=Object.prototype.hasOwnProperty,C={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function N(U,Y,he){var we,Se={},de=null,le=null;if(Y!=null)for(we in Y.ref!==void 0&&(le=Y.ref),Y.key!==void 0&&(de=""+Y.key),Y)T.call(Y,we)&&!j.hasOwnProperty(we)&&(Se[we]=Y[we]);var ce=arguments.length-2;if(ce===1)Se.children=he;else if(1<ce){for(var ee=Array(ce),ae=0;ae<ce;ae++)ee[ae]=arguments[ae+2];Se.children=ee}if(U&&U.defaultProps)for(we in ce=U.defaultProps,ce)Se[we]===void 0&&(Se[we]=ce[we]);return{$$typeof:t,type:U,key:de,ref:le,props:Se,_owner:C.current}}function D(U,Y){return{$$typeof:t,type:U.type,key:Y,ref:U.ref,props:U.props,_owner:U._owner}}function M(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function R(U){var Y={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(he){return Y[he]})}var $=/\/+/g;function F(U,Y){return typeof U=="object"&&U!==null&&U.key!=null?R(""+U.key):Y.toString(36)}function K(U,Y,he,we,Se){var de=typeof U;(de==="undefined"||de==="boolean")&&(U=null);var le=!1;if(U===null)le=!0;else switch(de){case"string":case"number":le=!0;break;case"object":switch(U.$$typeof){case t:case e:le=!0}}if(le)return le=U,Se=Se(le),U=we===""?"."+F(le,0):we,P(Se)?(he="",U!=null&&(he=U.replace($,"$&/")+"/"),K(Se,Y,he,"",function(ae){return ae})):Se!=null&&(M(Se)&&(Se=D(Se,he+(!Se.key||le&&le.key===Se.key?"":(""+Se.key).replace($,"$&/")+"/")+U)),Y.push(Se)),1;if(le=0,we=we===""?".":we+":",P(U))for(var ce=0;ce<U.length;ce++){de=U[ce];var ee=we+F(de,ce);le+=K(de,Y,he,ee,Se)}else if(ee=g(U),typeof ee=="function")for(U=ee.call(U),ce=0;!(de=U.next()).done;)de=de.value,ee=we+F(de,ce++),le+=K(de,Y,he,ee,Se);else if(de==="object")throw Y=String(U),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return le}function G(U,Y,he){if(U==null)return U;var we=[],Se=0;return K(U,we,"","",function(de){return Y.call(he,de,Se++)}),we}function V(U){if(U._status===-1){var Y=U._result;Y=Y(),Y.then(function(he){(U._status===0||U._status===-1)&&(U._status=1,U._result=he)},function(he){(U._status===0||U._status===-1)&&(U._status=2,U._result=he)}),U._status===-1&&(U._status=0,U._result=Y)}if(U._status===1)return U._result.default;throw U._result}var Q={current:null},z={transition:null},J={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:z,ReactCurrentOwner:C};function ie(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:G,forEach:function(U,Y,he){G(U,function(){Y.apply(this,arguments)},he)},count:function(U){var Y=0;return G(U,function(){Y++}),Y},toArray:function(U){return G(U,function(Y){return Y})||[]},only:function(U){if(!M(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},nt.Component=b,nt.Fragment=r,nt.Profiler=i,nt.PureComponent=O,nt.StrictMode=n,nt.Suspense=u,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,nt.act=ie,nt.cloneElement=function(U,Y,he){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var we=x({},U.props),Se=U.key,de=U.ref,le=U._owner;if(Y!=null){if(Y.ref!==void 0&&(de=Y.ref,le=C.current),Y.key!==void 0&&(Se=""+Y.key),U.type&&U.type.defaultProps)var ce=U.type.defaultProps;for(ee in Y)T.call(Y,ee)&&!j.hasOwnProperty(ee)&&(we[ee]=Y[ee]===void 0&&ce!==void 0?ce[ee]:Y[ee])}var ee=arguments.length-2;if(ee===1)we.children=he;else if(1<ee){ce=Array(ee);for(var ae=0;ae<ee;ae++)ce[ae]=arguments[ae+2];we.children=ce}return{$$typeof:t,type:U.type,key:Se,ref:de,props:we,_owner:le}},nt.createContext=function(U){return U={$$typeof:a,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:s,_context:U},U.Consumer=U},nt.createElement=N,nt.createFactory=function(U){var Y=N.bind(null,U);return Y.type=U,Y},nt.createRef=function(){return{current:null}},nt.forwardRef=function(U){return{$$typeof:o,render:U}},nt.isValidElement=M,nt.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:V}},nt.memo=function(U,Y){return{$$typeof:d,type:U,compare:Y===void 0?null:Y}},nt.startTransition=function(U){var Y=z.transition;z.transition={};try{U()}finally{z.transition=Y}},nt.unstable_act=ie,nt.useCallback=function(U,Y){return Q.current.useCallback(U,Y)},nt.useContext=function(U){return Q.current.useContext(U)},nt.useDebugValue=function(){},nt.useDeferredValue=function(U){return Q.current.useDeferredValue(U)},nt.useEffect=function(U,Y){return Q.current.useEffect(U,Y)},nt.useId=function(){return Q.current.useId()},nt.useImperativeHandle=function(U,Y,he){return Q.current.useImperativeHandle(U,Y,he)},nt.useInsertionEffect=function(U,Y){return Q.current.useInsertionEffect(U,Y)},nt.useLayoutEffect=function(U,Y){return Q.current.useLayoutEffect(U,Y)},nt.useMemo=function(U,Y){return Q.current.useMemo(U,Y)},nt.useReducer=function(U,Y,he){return Q.current.useReducer(U,Y,he)},nt.useRef=function(U){return Q.current.useRef(U)},nt.useState=function(U){return Q.current.useState(U)},nt.useSyncExternalStore=function(U,Y,he){return Q.current.useSyncExternalStore(U,Y,he)},nt.useTransition=function(){return Q.current.useTransition()},nt.version="18.3.1",nt}var ek;function fg(){return ek||(ek=1,Zy.exports=Hz()),Zy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk;function Kz(){if(tk)return Au;tk=1;var t=fg(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,u,d){var f,p={},g=null,w=null;d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(w=u.ref);for(f in u)n.call(u,f)&&!s.hasOwnProperty(f)&&(p[f]=u[f]);if(o&&o.defaultProps)for(f in u=o.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:e,type:o,key:g,ref:w,props:p,_owner:i.current}}return Au.Fragment=r,Au.jsx=a,Au.jsxs=a,Au}var rk;function Gz(){return rk||(rk=1,Jy.exports=Kz()),Jy.exports}var m=Gz(),S=fg();const W=_t(S),fE=Wz({__proto__:null,default:W},[S]);var Gh={},eb={exports:{}},sn={},tb={exports:{}},rb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nk;function Yz(){return nk||(nk=1,(function(t){function e(z,J){var ie=z.length;z.push(J);e:for(;0<ie;){var U=ie-1>>>1,Y=z[U];if(0<i(Y,J))z[U]=J,z[ie]=Y,ie=U;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var J=z[0],ie=z.pop();if(ie!==J){z[0]=ie;e:for(var U=0,Y=z.length,he=Y>>>1;U<he;){var we=2*(U+1)-1,Se=z[we],de=we+1,le=z[de];if(0>i(Se,ie))de<Y&&0>i(le,Se)?(z[U]=le,z[de]=ie,U=de):(z[U]=Se,z[we]=ie,U=we);else if(de<Y&&0>i(le,ie))z[U]=le,z[de]=ie,U=de;else break e}}return J}function i(z,J){var ie=z.sortIndex-J.sortIndex;return ie!==0?ie:z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var u=[],d=[],f=1,p=null,g=3,w=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(z){for(var J=r(d);J!==null;){if(J.callback===null)n(d);else if(J.startTime<=z)n(d),J.sortIndex=J.expirationTime,e(u,J);else break;J=r(d)}}function P(z){if(y=!1,A(z),!x)if(r(u)!==null)x=!0,V(T);else{var J=r(d);J!==null&&Q(P,J.startTime-z)}}function T(z,J){x=!1,y&&(y=!1,E(N),N=-1),w=!0;var ie=g;try{for(A(J),p=r(u);p!==null&&(!(p.expirationTime>J)||z&&!R());){var U=p.callback;if(typeof U=="function"){p.callback=null,g=p.priorityLevel;var Y=U(p.expirationTime<=J);J=t.unstable_now(),typeof Y=="function"?p.callback=Y:p===r(u)&&n(u),A(J)}else n(u);p=r(u)}if(p!==null)var he=!0;else{var we=r(d);we!==null&&Q(P,we.startTime-J),he=!1}return he}finally{p=null,g=ie,w=!1}}var C=!1,j=null,N=-1,D=5,M=-1;function R(){return!(t.unstable_now()-M<D)}function $(){if(j!==null){var z=t.unstable_now();M=z;var J=!0;try{J=j(!0,z)}finally{J?F():(C=!1,j=null)}}else C=!1}var F;if(typeof O=="function")F=function(){O($)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,G=K.port2;K.port1.onmessage=$,F=function(){G.postMessage(null)}}else F=function(){b($,0)};function V(z){j=z,C||(C=!0,F())}function Q(z,J){N=b(function(){z(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){x||w||(x=!0,V(T))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var ie=g;g=J;try{return z()}finally{g=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ie=g;g=z;try{return J()}finally{g=ie}},t.unstable_scheduleCallback=function(z,J,ie){var U=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?U+ie:U):ie=U,z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ie+Y,z={id:f++,callback:J,priorityLevel:z,startTime:ie,expirationTime:Y,sortIndex:-1},ie>U?(z.sortIndex=ie,e(d,z),r(u)===null&&z===r(d)&&(y?(E(N),N=-1):y=!0,Q(P,ie-U))):(z.sortIndex=Y,e(u,z),x||w||(x=!0,V(T))),z},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(z){var J=g;return function(){var ie=g;g=J;try{return z.apply(this,arguments)}finally{g=ie}}}})(rb)),rb}var ik;function Xz(){return ik||(ik=1,tb.exports=Yz()),tb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sk;function Qz(){if(sk)return sn;sk=1;var t=fg(),e=Xz();function r(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,c){a(l,c),a(l+"Capture",c)}function a(l,c){for(i[l]=c,l=0;l<c.length;l++)n.add(c[l])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(l){return u.call(p,l)?!0:u.call(f,l)?!1:d.test(l)?p[l]=!0:(f[l]=!0,!1)}function w(l,c,h,v){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function x(l,c,h,v){if(c===null||typeof c>"u"||w(l,c,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function y(l,c,h,v,_,k,I){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=h,this.propertyName=l,this.type=c,this.sanitizeURL=k,this.removeEmptyString=I}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){b[l]=new y(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var c=l[0];b[c]=new y(c,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){b[l]=new y(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){b[l]=new y(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){b[l]=new y(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){b[l]=new y(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){b[l]=new y(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){b[l]=new y(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){b[l]=new y(l,5,!1,l.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function O(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var c=l.replace(E,O);b[c]=new y(c,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var c=l.replace(E,O);b[c]=new y(c,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var c=l.replace(E,O);b[c]=new y(c,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){b[l]=new y(l,1,!1,l.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){b[l]=new y(l,1,!1,l.toLowerCase(),null,!0,!0)});function A(l,c,h,v){var _=b.hasOwnProperty(c)?b[c]:null;(_!==null?_.type!==0:v||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(x(c,h,_,v)&&(h=null),v||_===null?g(c)&&(h===null?l.removeAttribute(c):l.setAttribute(c,""+h)):_.mustUseProperty?l[_.propertyName]=h===null?_.type===3?!1:"":h:(c=_.attributeName,v=_.attributeNamespace,h===null?l.removeAttribute(c):(_=_.type,h=_===3||_===4&&h===!0?"":""+h,v?l.setAttributeNS(v,c,h):l.setAttribute(c,h))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),C=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),R=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),z=Symbol.iterator;function J(l){return l===null||typeof l!="object"?null:(l=z&&l[z]||l["@@iterator"],typeof l=="function"?l:null)}var ie=Object.assign,U;function Y(l){if(U===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);U=c&&c[1]||""}return`
`+U+l}var he=!1;function we(l,c){if(!l||he)return"";he=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(se){var v=se}Reflect.construct(l,[],c)}else{try{c.call()}catch(se){v=se}l.call(c.prototype)}else{try{throw Error()}catch(se){v=se}l()}}catch(se){if(se&&v&&typeof se.stack=="string"){for(var _=se.stack.split(`
`),k=v.stack.split(`
`),I=_.length-1,L=k.length-1;1<=I&&0<=L&&_[I]!==k[L];)L--;for(;1<=I&&0<=L;I--,L--)if(_[I]!==k[L]){if(I!==1||L!==1)do if(I--,L--,0>L||_[I]!==k[L]){var H=`
`+_[I].replace(" at new "," at ");return l.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",l.displayName)),H}while(1<=I&&0<=L);break}}}finally{he=!1,Error.prepareStackTrace=h}return(l=l?l.displayName||l.name:"")?Y(l):""}function Se(l){switch(l.tag){case 5:return Y(l.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return l=we(l.type,!1),l;case 11:return l=we(l.type.render,!1),l;case 1:return l=we(l.type,!0),l;default:return""}}function de(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case j:return"Fragment";case C:return"Portal";case D:return"Profiler";case N:return"StrictMode";case F:return"Suspense";case K:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case R:return(l.displayName||"Context")+".Consumer";case M:return(l._context.displayName||"Context")+".Provider";case $:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case G:return c=l.displayName||null,c!==null?c:de(l.type)||"Memo";case V:c=l._payload,l=l._init;try{return de(l(c))}catch{}}return null}function le(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(c);case 8:return c===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ce(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ee(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ae(l){var c=ee(l)?"checked":"value",h=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),v=""+l[c];if(!l.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,k=h.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return _.call(this)},set:function(I){v=""+I,k.call(this,I)}}),Object.defineProperty(l,c,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(I){v=""+I},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function ge(l){l._valueTracker||(l._valueTracker=ae(l))}function ne(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var h=c.getValue(),v="";return l&&(v=ee(l)?l.checked?"true":"false":l.value),l=v,l!==h?(c.setValue(l),!0):!1}function Fe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Te(l,c){var h=c.checked;return ie({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??l._wrapperState.initialChecked})}function Je(l,c){var h=c.defaultValue==null?"":c.defaultValue,v=c.checked!=null?c.checked:c.defaultChecked;h=ce(c.value!=null?c.value:h),l._wrapperState={initialChecked:v,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Ge(l,c){c=c.checked,c!=null&&A(l,"checked",c,!1)}function mt(l,c){Ge(l,c);var h=ce(c.value),v=c.type;if(h!=null)v==="number"?(h===0&&l.value===""||l.value!=h)&&(l.value=""+h):l.value!==""+h&&(l.value=""+h);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}c.hasOwnProperty("value")?Nt(l,c.type,h):c.hasOwnProperty("defaultValue")&&Nt(l,c.type,ce(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(l.defaultChecked=!!c.defaultChecked)}function Ht(l,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var v=c.type;if(!(v!=="submit"&&v!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+l._wrapperState.initialValue,h||c===l.value||(l.value=c),l.defaultValue=c}h=l.name,h!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,h!==""&&(l.name=h)}function Nt(l,c,h){(c!=="number"||Fe(l.ownerDocument)!==l)&&(h==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+h&&(l.defaultValue=""+h))}var B=Array.isArray;function q(l,c,h,v){if(l=l.options,c){c={};for(var _=0;_<h.length;_++)c["$"+h[_]]=!0;for(h=0;h<l.length;h++)_=c.hasOwnProperty("$"+l[h].value),l[h].selected!==_&&(l[h].selected=_),_&&v&&(l[h].defaultSelected=!0)}else{for(h=""+ce(h),c=null,_=0;_<l.length;_++){if(l[_].value===h){l[_].selected=!0,v&&(l[_].defaultSelected=!0);return}c!==null||l[_].disabled||(c=l[_])}c!==null&&(c.selected=!0)}}function Z(l,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},c,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function pe(l,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(r(92));if(B(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),h=c}l._wrapperState={initialValue:ce(h)}}function fe(l,c){var h=ce(c.value),v=ce(c.defaultValue);h!=null&&(h=""+h,h!==l.value&&(l.value=h),c.defaultValue==null&&l.defaultValue!==h&&(l.defaultValue=h)),v!=null&&(l.defaultValue=""+v)}function ue(l){var c=l.textContent;c===l._wrapperState.initialValue&&c!==""&&c!==null&&(l.value=c)}function Oe(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(l,c){return l==null||l==="http://www.w3.org/1999/xhtml"?Oe(c):l==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var ye,Ee=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,v,_){MSApp.execUnsafeLocalFunction(function(){return l(c,h,v,_)})}:l})(function(l,c){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=c;else{for(ye=ye||document.createElement("div"),ye.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ye.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;c.firstChild;)l.appendChild(c.firstChild)}});function Ke(l,c){if(c){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=c;return}}l.textContent=c}var Ne={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tt=["Webkit","ms","Moz","O"];Object.keys(Ne).forEach(function(l){Tt.forEach(function(c){c=c+l.charAt(0).toUpperCase()+l.substring(1),Ne[c]=Ne[l]})});function At(l,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||Ne.hasOwnProperty(l)&&Ne[l]?(""+c).trim():c+"px"}function qt(l,c){l=l.style;for(var h in c)if(c.hasOwnProperty(h)){var v=h.indexOf("--")===0,_=At(h,c[h],v);h==="float"&&(h="cssFloat"),v?l.setProperty(h,_):l[h]=_}}var at=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dr(l,c){if(c){if(at[l]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function Gn(l,c){if(l.indexOf("-")===-1)return typeof c.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qr=null;function wi(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ms=null,fn=null,bt=null;function Kt(l){if(l=fu(l)){if(typeof Ms!="function")throw Error(r(280));var c=l.stateNode;c&&(c=lh(c),Ms(l.stateNode,l.type,c))}}function xr(l){fn?bt?bt.push(l):bt=[l]:fn=l}function hn(){if(fn){var l=fn,c=bt;if(bt=fn=null,Kt(l),c)for(l=0;l<c.length;l++)Kt(c[l])}}function zr(l,c){return l(c)}function Rr(){}var Jr=!1;function Ki(l,c,h){if(Jr)return l(c,h);Jr=!0;try{return zr(l,c,h)}finally{Jr=!1,(fn!==null||bt!==null)&&(Rr(),hn())}}function Gt(l,c){var h=l.stateNode;if(h===null)return null;var v=lh(h);if(v===null)return null;h=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var Cn=!1;if(o)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{Cn=!1}function Yn(l,c,h,v,_,k,I,L,H){var se=Array.prototype.slice.call(arguments,3);try{c.apply(h,se)}catch(ve){this.onError(ve)}}var Xn=!1,xi=null,pn=!1,Gi=null,Kc={onError:function(l){Xn=!0,xi=l}};function Jq(l,c,h,v,_,k,I,L,H){Xn=!1,xi=null,Yn.apply(Kc,arguments)}function Zq(l,c,h,v,_,k,I,L,H){if(Jq.apply(this,arguments),Xn){if(Xn){var se=xi;Xn=!1,xi=null}else throw Error(r(198));pn||(pn=!0,Gi=se)}}function Ua(l){var c=l,h=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(h=c.return),l=c.return;while(l)}return c.tag===3?h:null}function _T(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function ST(l){if(Ua(l)!==l)throw Error(r(188))}function e6(l){var c=l.alternate;if(!c){if(c=Ua(l),c===null)throw Error(r(188));return c!==l?null:l}for(var h=l,v=c;;){var _=h.return;if(_===null)break;var k=_.alternate;if(k===null){if(v=_.return,v!==null){h=v;continue}break}if(_.child===k.child){for(k=_.child;k;){if(k===h)return ST(_),l;if(k===v)return ST(_),c;k=k.sibling}throw Error(r(188))}if(h.return!==v.return)h=_,v=k;else{for(var I=!1,L=_.child;L;){if(L===h){I=!0,h=_,v=k;break}if(L===v){I=!0,v=_,h=k;break}L=L.sibling}if(!I){for(L=k.child;L;){if(L===h){I=!0,h=k,v=_;break}if(L===v){I=!0,v=k,h=_;break}L=L.sibling}if(!I)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:c}function ET(l){return l=e6(l),l!==null?OT(l):null}function OT(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=OT(l);if(c!==null)return c;l=l.sibling}return null}var TT=e.unstable_scheduleCallback,AT=e.unstable_cancelCallback,t6=e.unstable_shouldYield,r6=e.unstable_requestPaint,er=e.unstable_now,n6=e.unstable_getCurrentPriorityLevel,yv=e.unstable_ImmediatePriority,CT=e.unstable_UserBlockingPriority,qf=e.unstable_NormalPriority,i6=e.unstable_LowPriority,kT=e.unstable_IdlePriority,zf=null,_i=null;function s6(l){if(_i&&typeof _i.onCommitFiberRoot=="function")try{_i.onCommitFiberRoot(zf,l,void 0,(l.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:l6,a6=Math.log,o6=Math.LN2;function l6(l){return l>>>=0,l===0?32:31-(a6(l)/o6|0)|0}var Wf=64,Vf=4194304;function Gc(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Hf(l,c){var h=l.pendingLanes;if(h===0)return 0;var v=0,_=l.suspendedLanes,k=l.pingedLanes,I=h&268435455;if(I!==0){var L=I&~_;L!==0?v=Gc(L):(k&=I,k!==0&&(v=Gc(k)))}else I=h&~_,I!==0?v=Gc(I):k!==0&&(v=Gc(k));if(v===0)return 0;if(c!==0&&c!==v&&(c&_)===0&&(_=v&-v,k=c&-c,_>=k||_===16&&(k&4194240)!==0))return c;if((v&4)!==0&&(v|=h&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=v;0<c;)h=31-Qn(c),_=1<<h,v|=l[h],c&=~_;return v}function c6(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u6(l,c){for(var h=l.suspendedLanes,v=l.pingedLanes,_=l.expirationTimes,k=l.pendingLanes;0<k;){var I=31-Qn(k),L=1<<I,H=_[I];H===-1?((L&h)===0||(L&v)!==0)&&(_[I]=c6(L,c)):H<=c&&(l.expiredLanes|=L),k&=~L}}function bv(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function PT(){var l=Wf;return Wf<<=1,(Wf&4194240)===0&&(Wf=64),l}function wv(l){for(var c=[],h=0;31>h;h++)c.push(l);return c}function Yc(l,c,h){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-Qn(c),l[c]=h}function d6(l,c){var h=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<h;){var _=31-Qn(h),k=1<<_;c[_]=0,v[_]=-1,l[_]=-1,h&=~k}}function xv(l,c){var h=l.entangledLanes|=c;for(l=l.entanglements;h;){var v=31-Qn(h),_=1<<v;_&c|l[v]&c&&(l[v]|=c),h&=~_}}var St=0;function jT(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var NT,_v,IT,RT,MT,Sv=!1,Kf=[],Ds=null,$s=null,Ls=null,Xc=new Map,Qc=new Map,Fs=[],f6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DT(l,c){switch(l){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Xc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(c.pointerId)}}function Jc(l,c,h,v,_,k){return l===null||l.nativeEvent!==k?(l={blockedOn:c,domEventName:h,eventSystemFlags:v,nativeEvent:k,targetContainers:[_]},c!==null&&(c=fu(c),c!==null&&_v(c)),l):(l.eventSystemFlags|=v,c=l.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),l)}function h6(l,c,h,v,_){switch(c){case"focusin":return Ds=Jc(Ds,l,c,h,v,_),!0;case"dragenter":return $s=Jc($s,l,c,h,v,_),!0;case"mouseover":return Ls=Jc(Ls,l,c,h,v,_),!0;case"pointerover":var k=_.pointerId;return Xc.set(k,Jc(Xc.get(k)||null,l,c,h,v,_)),!0;case"gotpointercapture":return k=_.pointerId,Qc.set(k,Jc(Qc.get(k)||null,l,c,h,v,_)),!0}return!1}function $T(l){var c=Ba(l.target);if(c!==null){var h=Ua(c);if(h!==null){if(c=h.tag,c===13){if(c=_T(h),c!==null){l.blockedOn=c,MT(l.priority,function(){IT(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Gf(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var h=Ov(l.domEventName,l.eventSystemFlags,c[0],l.nativeEvent);if(h===null){h=l.nativeEvent;var v=new h.constructor(h.type,h);Qr=v,h.target.dispatchEvent(v),Qr=null}else return c=fu(h),c!==null&&_v(c),l.blockedOn=h,!1;c.shift()}return!0}function LT(l,c,h){Gf(l)&&h.delete(c)}function p6(){Sv=!1,Ds!==null&&Gf(Ds)&&(Ds=null),$s!==null&&Gf($s)&&($s=null),Ls!==null&&Gf(Ls)&&(Ls=null),Xc.forEach(LT),Qc.forEach(LT)}function Zc(l,c){l.blockedOn===c&&(l.blockedOn=null,Sv||(Sv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,p6)))}function eu(l){function c(_){return Zc(_,l)}if(0<Kf.length){Zc(Kf[0],l);for(var h=1;h<Kf.length;h++){var v=Kf[h];v.blockedOn===l&&(v.blockedOn=null)}}for(Ds!==null&&Zc(Ds,l),$s!==null&&Zc($s,l),Ls!==null&&Zc(Ls,l),Xc.forEach(c),Qc.forEach(c),h=0;h<Fs.length;h++)v=Fs[h],v.blockedOn===l&&(v.blockedOn=null);for(;0<Fs.length&&(h=Fs[0],h.blockedOn===null);)$T(h),h.blockedOn===null&&Fs.shift()}var Uo=P.ReactCurrentBatchConfig,Yf=!0;function m6(l,c,h,v){var _=St,k=Uo.transition;Uo.transition=null;try{St=1,Ev(l,c,h,v)}finally{St=_,Uo.transition=k}}function g6(l,c,h,v){var _=St,k=Uo.transition;Uo.transition=null;try{St=4,Ev(l,c,h,v)}finally{St=_,Uo.transition=k}}function Ev(l,c,h,v){if(Yf){var _=Ov(l,c,h,v);if(_===null)qv(l,c,v,Xf,h),DT(l,v);else if(h6(_,l,c,h,v))v.stopPropagation();else if(DT(l,v),c&4&&-1<f6.indexOf(l)){for(;_!==null;){var k=fu(_);if(k!==null&&NT(k),k=Ov(l,c,h,v),k===null&&qv(l,c,v,Xf,h),k===_)break;_=k}_!==null&&v.stopPropagation()}else qv(l,c,v,null,h)}}var Xf=null;function Ov(l,c,h,v){if(Xf=null,l=wi(v),l=Ba(l),l!==null)if(c=Ua(l),c===null)l=null;else if(h=c.tag,h===13){if(l=_T(c),l!==null)return l;l=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null);return Xf=l,null}function FT(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n6()){case yv:return 1;case CT:return 4;case qf:case i6:return 16;case kT:return 536870912;default:return 16}default:return 16}}var Us=null,Tv=null,Qf=null;function UT(){if(Qf)return Qf;var l,c=Tv,h=c.length,v,_="value"in Us?Us.value:Us.textContent,k=_.length;for(l=0;l<h&&c[l]===_[l];l++);var I=h-l;for(v=1;v<=I&&c[h-v]===_[k-v];v++);return Qf=_.slice(l,1<v?1-v:void 0)}function Jf(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function Zf(){return!0}function BT(){return!1}function mn(l){function c(h,v,_,k,I){this._reactName=h,this._targetInst=_,this.type=v,this.nativeEvent=k,this.target=I,this.currentTarget=null;for(var L in l)l.hasOwnProperty(L)&&(h=l[L],this[L]=h?h(k):k[L]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Zf:BT,this.isPropagationStopped=BT,this}return ie(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Zf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Zf)},persist:function(){},isPersistent:Zf}),c}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Av=mn(Bo),tu=ie({},Bo,{view:0,detail:0}),v6=mn(tu),Cv,kv,ru,eh=ie({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jv,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ru&&(ru&&l.type==="mousemove"?(Cv=l.screenX-ru.screenX,kv=l.screenY-ru.screenY):kv=Cv=0,ru=l),Cv)},movementY:function(l){return"movementY"in l?l.movementY:kv}}),qT=mn(eh),y6=ie({},eh,{dataTransfer:0}),b6=mn(y6),w6=ie({},tu,{relatedTarget:0}),Pv=mn(w6),x6=ie({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),_6=mn(x6),S6=ie({},Bo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),E6=mn(S6),O6=ie({},Bo,{data:0}),zT=mn(O6),T6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k6(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=C6[l])?!!c[l]:!1}function jv(){return k6}var P6=ie({},tu,{key:function(l){if(l.key){var c=T6[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=Jf(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?A6[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jv,charCode:function(l){return l.type==="keypress"?Jf(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Jf(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),j6=mn(P6),N6=ie({},eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WT=mn(N6),I6=ie({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jv}),R6=mn(I6),M6=ie({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),D6=mn(M6),$6=ie({},eh,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),L6=mn($6),F6=[9,13,27,32],Nv=o&&"CompositionEvent"in window,nu=null;o&&"documentMode"in document&&(nu=document.documentMode);var U6=o&&"TextEvent"in window&&!nu,VT=o&&(!Nv||nu&&8<nu&&11>=nu),HT=" ",KT=!1;function GT(l,c){switch(l){case"keyup":return F6.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YT(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var qo=!1;function B6(l,c){switch(l){case"compositionend":return YT(c);case"keypress":return c.which!==32?null:(KT=!0,HT);case"textInput":return l=c.data,l===HT&&KT?null:l;default:return null}}function q6(l,c){if(qo)return l==="compositionend"||!Nv&&GT(l,c)?(l=UT(),Qf=Tv=Us=null,qo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return VT&&c.locale!=="ko"?null:c.data;default:return null}}var z6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XT(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!z6[l.type]:c==="textarea"}function QT(l,c,h,v){xr(v),c=sh(c,"onChange"),0<c.length&&(h=new Av("onChange","change",null,h,v),l.push({event:h,listeners:c}))}var iu=null,su=null;function W6(l){mA(l,0)}function th(l){var c=Ko(l);if(ne(c))return l}function V6(l,c){if(l==="change")return c}var JT=!1;if(o){var Iv;if(o){var Rv="oninput"in document;if(!Rv){var ZT=document.createElement("div");ZT.setAttribute("oninput","return;"),Rv=typeof ZT.oninput=="function"}Iv=Rv}else Iv=!1;JT=Iv&&(!document.documentMode||9<document.documentMode)}function eA(){iu&&(iu.detachEvent("onpropertychange",tA),su=iu=null)}function tA(l){if(l.propertyName==="value"&&th(su)){var c=[];QT(c,su,l,wi(l)),Ki(W6,c)}}function H6(l,c,h){l==="focusin"?(eA(),iu=c,su=h,iu.attachEvent("onpropertychange",tA)):l==="focusout"&&eA()}function K6(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return th(su)}function G6(l,c){if(l==="click")return th(c)}function Y6(l,c){if(l==="input"||l==="change")return th(c)}function X6(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var Jn=typeof Object.is=="function"?Object.is:X6;function au(l,c){if(Jn(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var h=Object.keys(l),v=Object.keys(c);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var _=h[v];if(!u.call(c,_)||!Jn(l[_],c[_]))return!1}return!0}function rA(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function nA(l,c){var h=rA(l);l=0;for(var v;h;){if(h.nodeType===3){if(v=l+h.textContent.length,l<=c&&v>=c)return{node:h,offset:c-l};l=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=rA(h)}}function iA(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?iA(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function sA(){for(var l=window,c=Fe();c instanceof l.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)l=c.contentWindow;else break;c=Fe(l.document)}return c}function Mv(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}function Q6(l){var c=sA(),h=l.focusedElem,v=l.selectionRange;if(c!==h&&h&&h.ownerDocument&&iA(h.ownerDocument.documentElement,h)){if(v!==null&&Mv(h)){if(c=v.start,l=v.end,l===void 0&&(l=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(l,h.value.length);else if(l=(c=h.ownerDocument||document)&&c.defaultView||window,l.getSelection){l=l.getSelection();var _=h.textContent.length,k=Math.min(v.start,_);v=v.end===void 0?k:Math.min(v.end,_),!l.extend&&k>v&&(_=v,v=k,k=_),_=nA(h,k);var I=nA(h,v);_&&I&&(l.rangeCount!==1||l.anchorNode!==_.node||l.anchorOffset!==_.offset||l.focusNode!==I.node||l.focusOffset!==I.offset)&&(c=c.createRange(),c.setStart(_.node,_.offset),l.removeAllRanges(),k>v?(l.addRange(c),l.extend(I.node,I.offset)):(c.setEnd(I.node,I.offset),l.addRange(c)))}}for(c=[],l=h;l=l.parentNode;)l.nodeType===1&&c.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)l=c[h],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var J6=o&&"documentMode"in document&&11>=document.documentMode,zo=null,Dv=null,ou=null,$v=!1;function aA(l,c,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;$v||zo==null||zo!==Fe(v)||(v=zo,"selectionStart"in v&&Mv(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),ou&&au(ou,v)||(ou=v,v=sh(Dv,"onSelect"),0<v.length&&(c=new Av("onSelect","select",null,c,h),l.push({event:c,listeners:v}),c.target=zo)))}function rh(l,c){var h={};return h[l.toLowerCase()]=c.toLowerCase(),h["Webkit"+l]="webkit"+c,h["Moz"+l]="moz"+c,h}var Wo={animationend:rh("Animation","AnimationEnd"),animationiteration:rh("Animation","AnimationIteration"),animationstart:rh("Animation","AnimationStart"),transitionend:rh("Transition","TransitionEnd")},Lv={},oA={};o&&(oA=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function nh(l){if(Lv[l])return Lv[l];if(!Wo[l])return l;var c=Wo[l],h;for(h in c)if(c.hasOwnProperty(h)&&h in oA)return Lv[l]=c[h];return l}var lA=nh("animationend"),cA=nh("animationiteration"),uA=nh("animationstart"),dA=nh("transitionend"),fA=new Map,hA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(l,c){fA.set(l,c),s(c,[l])}for(var Fv=0;Fv<hA.length;Fv++){var Uv=hA[Fv],Z6=Uv.toLowerCase(),ez=Uv[0].toUpperCase()+Uv.slice(1);Bs(Z6,"on"+ez)}Bs(lA,"onAnimationEnd"),Bs(cA,"onAnimationIteration"),Bs(uA,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(dA,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tz=new Set("cancel close invalid load scroll toggle".split(" ").concat(lu));function pA(l,c,h){var v=l.type||"unknown-event";l.currentTarget=h,Zq(v,c,void 0,l),l.currentTarget=null}function mA(l,c){c=(c&4)!==0;for(var h=0;h<l.length;h++){var v=l[h],_=v.event;v=v.listeners;e:{var k=void 0;if(c)for(var I=v.length-1;0<=I;I--){var L=v[I],H=L.instance,se=L.currentTarget;if(L=L.listener,H!==k&&_.isPropagationStopped())break e;pA(_,L,se),k=H}else for(I=0;I<v.length;I++){if(L=v[I],H=L.instance,se=L.currentTarget,L=L.listener,H!==k&&_.isPropagationStopped())break e;pA(_,L,se),k=H}}}if(pn)throw l=Gi,pn=!1,Gi=null,l}function Lt(l,c){var h=c[Gv];h===void 0&&(h=c[Gv]=new Set);var v=l+"__bubble";h.has(v)||(gA(c,l,2,!1),h.add(v))}function Bv(l,c,h){var v=0;c&&(v|=4),gA(h,l,v,c)}var ih="_reactListening"+Math.random().toString(36).slice(2);function cu(l){if(!l[ih]){l[ih]=!0,n.forEach(function(h){h!=="selectionchange"&&(tz.has(h)||Bv(h,!1,l),Bv(h,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[ih]||(c[ih]=!0,Bv("selectionchange",!1,c))}}function gA(l,c,h,v){switch(FT(c)){case 1:var _=m6;break;case 4:_=g6;break;default:_=Ev}h=_.bind(null,c,h,l),_=void 0,!Cn||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),v?_!==void 0?l.addEventListener(c,h,{capture:!0,passive:_}):l.addEventListener(c,h,!0):_!==void 0?l.addEventListener(c,h,{passive:_}):l.addEventListener(c,h,!1)}function qv(l,c,h,v,_){var k=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var I=v.tag;if(I===3||I===4){var L=v.stateNode.containerInfo;if(L===_||L.nodeType===8&&L.parentNode===_)break;if(I===4)for(I=v.return;I!==null;){var H=I.tag;if((H===3||H===4)&&(H=I.stateNode.containerInfo,H===_||H.nodeType===8&&H.parentNode===_))return;I=I.return}for(;L!==null;){if(I=Ba(L),I===null)return;if(H=I.tag,H===5||H===6){v=k=I;continue e}L=L.parentNode}}v=v.return}Ki(function(){var se=k,ve=wi(h),be=[];e:{var me=fA.get(l);if(me!==void 0){var Ae=Av,Ie=l;switch(l){case"keypress":if(Jf(h)===0)break e;case"keydown":case"keyup":Ae=j6;break;case"focusin":Ie="focus",Ae=Pv;break;case"focusout":Ie="blur",Ae=Pv;break;case"beforeblur":case"afterblur":Ae=Pv;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=qT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=b6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=R6;break;case lA:case cA:case uA:Ae=_6;break;case dA:Ae=D6;break;case"scroll":Ae=v6;break;case"wheel":Ae=L6;break;case"copy":case"cut":case"paste":Ae=E6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=WT}var Me=(c&4)!==0,tr=!Me&&l==="scroll",te=Me?me!==null?me+"Capture":null:me;Me=[];for(var X=se,re;X!==null;){re=X;var xe=re.stateNode;if(re.tag===5&&xe!==null&&(re=xe,te!==null&&(xe=Gt(X,te),xe!=null&&Me.push(uu(X,xe,re)))),tr)break;X=X.return}0<Me.length&&(me=new Ae(me,Ie,null,h,ve),be.push({event:me,listeners:Me}))}}if((c&7)===0){e:{if(me=l==="mouseover"||l==="pointerover",Ae=l==="mouseout"||l==="pointerout",me&&h!==Qr&&(Ie=h.relatedTarget||h.fromElement)&&(Ba(Ie)||Ie[Yi]))break e;if((Ae||me)&&(me=ve.window===ve?ve:(me=ve.ownerDocument)?me.defaultView||me.parentWindow:window,Ae?(Ie=h.relatedTarget||h.toElement,Ae=se,Ie=Ie?Ba(Ie):null,Ie!==null&&(tr=Ua(Ie),Ie!==tr||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Ae=null,Ie=se),Ae!==Ie)){if(Me=qT,xe="onMouseLeave",te="onMouseEnter",X="mouse",(l==="pointerout"||l==="pointerover")&&(Me=WT,xe="onPointerLeave",te="onPointerEnter",X="pointer"),tr=Ae==null?me:Ko(Ae),re=Ie==null?me:Ko(Ie),me=new Me(xe,X+"leave",Ae,h,ve),me.target=tr,me.relatedTarget=re,xe=null,Ba(ve)===se&&(Me=new Me(te,X+"enter",Ie,h,ve),Me.target=re,Me.relatedTarget=tr,xe=Me),tr=xe,Ae&&Ie)t:{for(Me=Ae,te=Ie,X=0,re=Me;re;re=Vo(re))X++;for(re=0,xe=te;xe;xe=Vo(xe))re++;for(;0<X-re;)Me=Vo(Me),X--;for(;0<re-X;)te=Vo(te),re--;for(;X--;){if(Me===te||te!==null&&Me===te.alternate)break t;Me=Vo(Me),te=Vo(te)}Me=null}else Me=null;Ae!==null&&vA(be,me,Ae,Me,!1),Ie!==null&&tr!==null&&vA(be,tr,Ie,Me,!0)}}e:{if(me=se?Ko(se):window,Ae=me.nodeName&&me.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&me.type==="file")var $e=V6;else if(XT(me))if(JT)$e=Y6;else{$e=K6;var Ue=H6}else(Ae=me.nodeName)&&Ae.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&($e=G6);if($e&&($e=$e(l,se))){QT(be,$e,h,ve);break e}Ue&&Ue(l,me,se),l==="focusout"&&(Ue=me._wrapperState)&&Ue.controlled&&me.type==="number"&&Nt(me,"number",me.value)}switch(Ue=se?Ko(se):window,l){case"focusin":(XT(Ue)||Ue.contentEditable==="true")&&(zo=Ue,Dv=se,ou=null);break;case"focusout":ou=Dv=zo=null;break;case"mousedown":$v=!0;break;case"contextmenu":case"mouseup":case"dragend":$v=!1,aA(be,h,ve);break;case"selectionchange":if(J6)break;case"keydown":case"keyup":aA(be,h,ve)}var Be;if(Nv)e:{switch(l){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else qo?GT(l,h)&&(Ve="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(Ve="onCompositionStart");Ve&&(VT&&h.locale!=="ko"&&(qo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&qo&&(Be=UT()):(Us=ve,Tv="value"in Us?Us.value:Us.textContent,qo=!0)),Ue=sh(se,Ve),0<Ue.length&&(Ve=new zT(Ve,l,null,h,ve),be.push({event:Ve,listeners:Ue}),Be?Ve.data=Be:(Be=YT(h),Be!==null&&(Ve.data=Be)))),(Be=U6?B6(l,h):q6(l,h))&&(se=sh(se,"onBeforeInput"),0<se.length&&(ve=new zT("onBeforeInput","beforeinput",null,h,ve),be.push({event:ve,listeners:se}),ve.data=Be))}mA(be,c)})}function uu(l,c,h){return{instance:l,listener:c,currentTarget:h}}function sh(l,c){for(var h=c+"Capture",v=[];l!==null;){var _=l,k=_.stateNode;_.tag===5&&k!==null&&(_=k,k=Gt(l,h),k!=null&&v.unshift(uu(l,k,_)),k=Gt(l,c),k!=null&&v.push(uu(l,k,_))),l=l.return}return v}function Vo(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function vA(l,c,h,v,_){for(var k=c._reactName,I=[];h!==null&&h!==v;){var L=h,H=L.alternate,se=L.stateNode;if(H!==null&&H===v)break;L.tag===5&&se!==null&&(L=se,_?(H=Gt(h,k),H!=null&&I.unshift(uu(h,H,L))):_||(H=Gt(h,k),H!=null&&I.push(uu(h,H,L)))),h=h.return}I.length!==0&&l.push({event:c,listeners:I})}var rz=/\r\n?/g,nz=/\u0000|\uFFFD/g;function yA(l){return(typeof l=="string"?l:""+l).replace(rz,`
`).replace(nz,"")}function ah(l,c,h){if(c=yA(c),yA(l)!==c&&h)throw Error(r(425))}function oh(){}var zv=null,Wv=null;function Vv(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Hv=typeof setTimeout=="function"?setTimeout:void 0,iz=typeof clearTimeout=="function"?clearTimeout:void 0,bA=typeof Promise=="function"?Promise:void 0,sz=typeof queueMicrotask=="function"?queueMicrotask:typeof bA<"u"?function(l){return bA.resolve(null).then(l).catch(az)}:Hv;function az(l){setTimeout(function(){throw l})}function Kv(l,c){var h=c,v=0;do{var _=h.nextSibling;if(l.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(v===0){l.removeChild(_),eu(c);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=_}while(h);eu(c)}function qs(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return l}function wA(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return l;c--}else h==="/$"&&c++}l=l.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),Si="__reactFiber$"+Ho,du="__reactProps$"+Ho,Yi="__reactContainer$"+Ho,Gv="__reactEvents$"+Ho,oz="__reactListeners$"+Ho,lz="__reactHandles$"+Ho;function Ba(l){var c=l[Si];if(c)return c;for(var h=l.parentNode;h;){if(c=h[Yi]||h[Si]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(l=wA(l);l!==null;){if(h=l[Si])return h;l=wA(l)}return c}l=h,h=l.parentNode}return null}function fu(l){return l=l[Si]||l[Yi],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Ko(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function lh(l){return l[du]||null}var Yv=[],Go=-1;function zs(l){return{current:l}}function Ft(l){0>Go||(l.current=Yv[Go],Yv[Go]=null,Go--)}function It(l,c){Go++,Yv[Go]=l.current,l.current=c}var Ws={},Dr=zs(Ws),Zr=zs(!1),qa=Ws;function Yo(l,c){var h=l.type.contextTypes;if(!h)return Ws;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===c)return v.__reactInternalMemoizedMaskedChildContext;var _={},k;for(k in h)_[k]=c[k];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=_),_}function en(l){return l=l.childContextTypes,l!=null}function ch(){Ft(Zr),Ft(Dr)}function xA(l,c,h){if(Dr.current!==Ws)throw Error(r(168));It(Dr,c),It(Zr,h)}function _A(l,c,h){var v=l.stateNode;if(c=c.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var _ in v)if(!(_ in c))throw Error(r(108,le(l)||"Unknown",_));return ie({},h,v)}function uh(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ws,qa=Dr.current,It(Dr,l),It(Zr,Zr.current),!0}function SA(l,c,h){var v=l.stateNode;if(!v)throw Error(r(169));h?(l=_A(l,c,qa),v.__reactInternalMemoizedMergedChildContext=l,Ft(Zr),Ft(Dr),It(Dr,l)):Ft(Zr),It(Zr,h)}var Xi=null,dh=!1,Xv=!1;function EA(l){Xi===null?Xi=[l]:Xi.push(l)}function cz(l){dh=!0,EA(l)}function Vs(){if(!Xv&&Xi!==null){Xv=!0;var l=0,c=St;try{var h=Xi;for(St=1;l<h.length;l++){var v=h[l];do v=v(!0);while(v!==null)}Xi=null,dh=!1}catch(_){throw Xi!==null&&(Xi=Xi.slice(l+1)),TT(yv,Vs),_}finally{St=c,Xv=!1}}return null}var Xo=[],Qo=0,fh=null,hh=0,kn=[],Pn=0,za=null,Qi=1,Ji="";function Wa(l,c){Xo[Qo++]=hh,Xo[Qo++]=fh,fh=l,hh=c}function OA(l,c,h){kn[Pn++]=Qi,kn[Pn++]=Ji,kn[Pn++]=za,za=l;var v=Qi;l=Ji;var _=32-Qn(v)-1;v&=~(1<<_),h+=1;var k=32-Qn(c)+_;if(30<k){var I=_-_%5;k=(v&(1<<I)-1).toString(32),v>>=I,_-=I,Qi=1<<32-Qn(c)+_|h<<_|v,Ji=k+l}else Qi=1<<k|h<<_|v,Ji=l}function Qv(l){l.return!==null&&(Wa(l,1),OA(l,1,0))}function Jv(l){for(;l===fh;)fh=Xo[--Qo],Xo[Qo]=null,hh=Xo[--Qo],Xo[Qo]=null;for(;l===za;)za=kn[--Pn],kn[Pn]=null,Ji=kn[--Pn],kn[Pn]=null,Qi=kn[--Pn],kn[Pn]=null}var gn=null,vn=null,zt=!1,Zn=null;function TA(l,c){var h=Rn(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=l,c=l.deletions,c===null?(l.deletions=[h],l.flags|=16):c.push(h)}function AA(l,c){switch(l.tag){case 5:var h=l.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(l.stateNode=c,gn=l,vn=qs(c.firstChild),!0):!1;case 6:return c=l.pendingProps===""||c.nodeType!==3?null:c,c!==null?(l.stateNode=c,gn=l,vn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=za!==null?{id:Qi,overflow:Ji}:null,l.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Rn(18,null,null,0),h.stateNode=c,h.return=l,l.child=h,gn=l,vn=null,!0):!1;default:return!1}}function Zv(l){return(l.mode&1)!==0&&(l.flags&128)===0}function ey(l){if(zt){var c=vn;if(c){var h=c;if(!AA(l,c)){if(Zv(l))throw Error(r(418));c=qs(h.nextSibling);var v=gn;c&&AA(l,c)?TA(v,h):(l.flags=l.flags&-4097|2,zt=!1,gn=l)}}else{if(Zv(l))throw Error(r(418));l.flags=l.flags&-4097|2,zt=!1,gn=l}}}function CA(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;gn=l}function ph(l){if(l!==gn)return!1;if(!zt)return CA(l),zt=!0,!1;var c;if((c=l.tag!==3)&&!(c=l.tag!==5)&&(c=l.type,c=c!=="head"&&c!=="body"&&!Vv(l.type,l.memoizedProps)),c&&(c=vn)){if(Zv(l))throw kA(),Error(r(418));for(;c;)TA(l,c),c=qs(c.nextSibling)}if(CA(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"){if(c===0){vn=qs(l.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}l=l.nextSibling}vn=null}}else vn=gn?qs(l.stateNode.nextSibling):null;return!0}function kA(){for(var l=vn;l;)l=qs(l.nextSibling)}function Jo(){vn=gn=null,zt=!1}function ty(l){Zn===null?Zn=[l]:Zn.push(l)}var uz=P.ReactCurrentBatchConfig;function hu(l,c,h){if(l=h.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var v=h.stateNode}if(!v)throw Error(r(147,l));var _=v,k=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===k?c.ref:(c=function(I){var L=_.refs;I===null?delete L[k]:L[k]=I},c._stringRef=k,c)}if(typeof l!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,l))}return l}function mh(l,c){throw l=Object.prototype.toString.call(c),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function PA(l){var c=l._init;return c(l._payload)}function jA(l){function c(te,X){if(l){var re=te.deletions;re===null?(te.deletions=[X],te.flags|=16):re.push(X)}}function h(te,X){if(!l)return null;for(;X!==null;)c(te,X),X=X.sibling;return null}function v(te,X){for(te=new Map;X!==null;)X.key!==null?te.set(X.key,X):te.set(X.index,X),X=X.sibling;return te}function _(te,X){return te=Zs(te,X),te.index=0,te.sibling=null,te}function k(te,X,re){return te.index=re,l?(re=te.alternate,re!==null?(re=re.index,re<X?(te.flags|=2,X):re):(te.flags|=2,X)):(te.flags|=1048576,X)}function I(te){return l&&te.alternate===null&&(te.flags|=2),te}function L(te,X,re,xe){return X===null||X.tag!==6?(X=Hy(re,te.mode,xe),X.return=te,X):(X=_(X,re),X.return=te,X)}function H(te,X,re,xe){var $e=re.type;return $e===j?ve(te,X,re.props.children,xe,re.key):X!==null&&(X.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===V&&PA($e)===X.type)?(xe=_(X,re.props),xe.ref=hu(te,X,re),xe.return=te,xe):(xe=Fh(re.type,re.key,re.props,null,te.mode,xe),xe.ref=hu(te,X,re),xe.return=te,xe)}function se(te,X,re,xe){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=Ky(re,te.mode,xe),X.return=te,X):(X=_(X,re.children||[]),X.return=te,X)}function ve(te,X,re,xe,$e){return X===null||X.tag!==7?(X=Ja(re,te.mode,xe,$e),X.return=te,X):(X=_(X,re),X.return=te,X)}function be(te,X,re){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Hy(""+X,te.mode,re),X.return=te,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return re=Fh(X.type,X.key,X.props,null,te.mode,re),re.ref=hu(te,null,X),re.return=te,re;case C:return X=Ky(X,te.mode,re),X.return=te,X;case V:var xe=X._init;return be(te,xe(X._payload),re)}if(B(X)||J(X))return X=Ja(X,te.mode,re,null),X.return=te,X;mh(te,X)}return null}function me(te,X,re,xe){var $e=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return $e!==null?null:L(te,X,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return re.key===$e?H(te,X,re,xe):null;case C:return re.key===$e?se(te,X,re,xe):null;case V:return $e=re._init,me(te,X,$e(re._payload),xe)}if(B(re)||J(re))return $e!==null?null:ve(te,X,re,xe,null);mh(te,re)}return null}function Ae(te,X,re,xe,$e){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return te=te.get(re)||null,L(X,te,""+xe,$e);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case T:return te=te.get(xe.key===null?re:xe.key)||null,H(X,te,xe,$e);case C:return te=te.get(xe.key===null?re:xe.key)||null,se(X,te,xe,$e);case V:var Ue=xe._init;return Ae(te,X,re,Ue(xe._payload),$e)}if(B(xe)||J(xe))return te=te.get(re)||null,ve(X,te,xe,$e,null);mh(X,xe)}return null}function Ie(te,X,re,xe){for(var $e=null,Ue=null,Be=X,Ve=X=0,Er=null;Be!==null&&Ve<re.length;Ve++){Be.index>Ve?(Er=Be,Be=null):Er=Be.sibling;var gt=me(te,Be,re[Ve],xe);if(gt===null){Be===null&&(Be=Er);break}l&&Be&&gt.alternate===null&&c(te,Be),X=k(gt,X,Ve),Ue===null?$e=gt:Ue.sibling=gt,Ue=gt,Be=Er}if(Ve===re.length)return h(te,Be),zt&&Wa(te,Ve),$e;if(Be===null){for(;Ve<re.length;Ve++)Be=be(te,re[Ve],xe),Be!==null&&(X=k(Be,X,Ve),Ue===null?$e=Be:Ue.sibling=Be,Ue=Be);return zt&&Wa(te,Ve),$e}for(Be=v(te,Be);Ve<re.length;Ve++)Er=Ae(Be,te,Ve,re[Ve],xe),Er!==null&&(l&&Er.alternate!==null&&Be.delete(Er.key===null?Ve:Er.key),X=k(Er,X,Ve),Ue===null?$e=Er:Ue.sibling=Er,Ue=Er);return l&&Be.forEach(function(ea){return c(te,ea)}),zt&&Wa(te,Ve),$e}function Me(te,X,re,xe){var $e=J(re);if(typeof $e!="function")throw Error(r(150));if(re=$e.call(re),re==null)throw Error(r(151));for(var Ue=$e=null,Be=X,Ve=X=0,Er=null,gt=re.next();Be!==null&&!gt.done;Ve++,gt=re.next()){Be.index>Ve?(Er=Be,Be=null):Er=Be.sibling;var ea=me(te,Be,gt.value,xe);if(ea===null){Be===null&&(Be=Er);break}l&&Be&&ea.alternate===null&&c(te,Be),X=k(ea,X,Ve),Ue===null?$e=ea:Ue.sibling=ea,Ue=ea,Be=Er}if(gt.done)return h(te,Be),zt&&Wa(te,Ve),$e;if(Be===null){for(;!gt.done;Ve++,gt=re.next())gt=be(te,gt.value,xe),gt!==null&&(X=k(gt,X,Ve),Ue===null?$e=gt:Ue.sibling=gt,Ue=gt);return zt&&Wa(te,Ve),$e}for(Be=v(te,Be);!gt.done;Ve++,gt=re.next())gt=Ae(Be,te,Ve,gt.value,xe),gt!==null&&(l&&gt.alternate!==null&&Be.delete(gt.key===null?Ve:gt.key),X=k(gt,X,Ve),Ue===null?$e=gt:Ue.sibling=gt,Ue=gt);return l&&Be.forEach(function(zz){return c(te,zz)}),zt&&Wa(te,Ve),$e}function tr(te,X,re,xe){if(typeof re=="object"&&re!==null&&re.type===j&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case T:e:{for(var $e=re.key,Ue=X;Ue!==null;){if(Ue.key===$e){if($e=re.type,$e===j){if(Ue.tag===7){h(te,Ue.sibling),X=_(Ue,re.props.children),X.return=te,te=X;break e}}else if(Ue.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===V&&PA($e)===Ue.type){h(te,Ue.sibling),X=_(Ue,re.props),X.ref=hu(te,Ue,re),X.return=te,te=X;break e}h(te,Ue);break}else c(te,Ue);Ue=Ue.sibling}re.type===j?(X=Ja(re.props.children,te.mode,xe,re.key),X.return=te,te=X):(xe=Fh(re.type,re.key,re.props,null,te.mode,xe),xe.ref=hu(te,X,re),xe.return=te,te=xe)}return I(te);case C:e:{for(Ue=re.key;X!==null;){if(X.key===Ue)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){h(te,X.sibling),X=_(X,re.children||[]),X.return=te,te=X;break e}else{h(te,X);break}else c(te,X);X=X.sibling}X=Ky(re,te.mode,xe),X.return=te,te=X}return I(te);case V:return Ue=re._init,tr(te,X,Ue(re._payload),xe)}if(B(re))return Ie(te,X,re,xe);if(J(re))return Me(te,X,re,xe);mh(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,X!==null&&X.tag===6?(h(te,X.sibling),X=_(X,re),X.return=te,te=X):(h(te,X),X=Hy(re,te.mode,xe),X.return=te,te=X),I(te)):h(te,X)}return tr}var Zo=jA(!0),NA=jA(!1),gh=zs(null),vh=null,el=null,ry=null;function ny(){ry=el=vh=null}function iy(l){var c=gh.current;Ft(gh),l._currentValue=c}function sy(l,c,h){for(;l!==null;){var v=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),l===h)break;l=l.return}}function tl(l,c){vh=l,ry=el=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&c)!==0&&(tn=!0),l.firstContext=null)}function jn(l){var c=l._currentValue;if(ry!==l)if(l={context:l,memoizedValue:c,next:null},el===null){if(vh===null)throw Error(r(308));el=l,vh.dependencies={lanes:0,firstContext:l}}else el=el.next=l;return c}var Va=null;function ay(l){Va===null?Va=[l]:Va.push(l)}function IA(l,c,h,v){var _=c.interleaved;return _===null?(h.next=h,ay(c)):(h.next=_.next,_.next=h),c.interleaved=h,Zi(l,v)}function Zi(l,c){l.lanes|=c;var h=l.alternate;for(h!==null&&(h.lanes|=c),h=l,l=l.return;l!==null;)l.childLanes|=c,h=l.alternate,h!==null&&(h.childLanes|=c),h=l,l=l.return;return h.tag===3?h.stateNode:null}var Hs=!1;function oy(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RA(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function es(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function Ks(l,c,h){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(ft&2)!==0){var _=v.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),v.pending=c,Zi(l,h)}return _=v.interleaved,_===null?(c.next=c,ay(v)):(c.next=_.next,_.next=c),v.interleaved=c,Zi(l,h)}function yh(l,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var v=c.lanes;v&=l.pendingLanes,h|=v,c.lanes=h,xv(l,h)}}function MA(l,c){var h=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var _=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var I={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};k===null?_=k=I:k=k.next=I,h=h.next}while(h!==null);k===null?_=k=c:k=k.next=c}else _=k=c;h={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:k,shared:v.shared,effects:v.effects},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=c}function bh(l,c,h,v){var _=l.updateQueue;Hs=!1;var k=_.firstBaseUpdate,I=_.lastBaseUpdate,L=_.shared.pending;if(L!==null){_.shared.pending=null;var H=L,se=H.next;H.next=null,I===null?k=se:I.next=se,I=H;var ve=l.alternate;ve!==null&&(ve=ve.updateQueue,L=ve.lastBaseUpdate,L!==I&&(L===null?ve.firstBaseUpdate=se:L.next=se,ve.lastBaseUpdate=H))}if(k!==null){var be=_.baseState;I=0,ve=se=H=null,L=k;do{var me=L.lane,Ae=L.eventTime;if((v&me)===me){ve!==null&&(ve=ve.next={eventTime:Ae,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Ie=l,Me=L;switch(me=c,Ae=h,Me.tag){case 1:if(Ie=Me.payload,typeof Ie=="function"){be=Ie.call(Ae,be,me);break e}be=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Me.payload,me=typeof Ie=="function"?Ie.call(Ae,be,me):Ie,me==null)break e;be=ie({},be,me);break e;case 2:Hs=!0}}L.callback!==null&&L.lane!==0&&(l.flags|=64,me=_.effects,me===null?_.effects=[L]:me.push(L))}else Ae={eventTime:Ae,lane:me,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ve===null?(se=ve=Ae,H=be):ve=ve.next=Ae,I|=me;if(L=L.next,L===null){if(L=_.shared.pending,L===null)break;me=L,L=me.next,me.next=null,_.lastBaseUpdate=me,_.shared.pending=null}}while(!0);if(ve===null&&(H=be),_.baseState=H,_.firstBaseUpdate=se,_.lastBaseUpdate=ve,c=_.shared.interleaved,c!==null){_=c;do I|=_.lane,_=_.next;while(_!==c)}else k===null&&(_.shared.lanes=0);Ga|=I,l.lanes=I,l.memoizedState=be}}function DA(l,c,h){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var v=l[c],_=v.callback;if(_!==null){if(v.callback=null,v=h,typeof _!="function")throw Error(r(191,_));_.call(v)}}}var pu={},Ei=zs(pu),mu=zs(pu),gu=zs(pu);function Ha(l){if(l===pu)throw Error(r(174));return l}function ly(l,c){switch(It(gu,c),It(mu,l),It(Ei,pu),l=c.nodeType,l){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:ze(null,"");break;default:l=l===8?c.parentNode:c,c=l.namespaceURI||null,l=l.tagName,c=ze(c,l)}Ft(Ei),It(Ei,c)}function rl(){Ft(Ei),Ft(mu),Ft(gu)}function $A(l){Ha(gu.current);var c=Ha(Ei.current),h=ze(c,l.type);c!==h&&(It(mu,l),It(Ei,h))}function cy(l){mu.current===l&&(Ft(Ei),Ft(mu))}var Yt=zs(0);function wh(l){for(var c=l;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var uy=[];function dy(){for(var l=0;l<uy.length;l++)uy[l]._workInProgressVersionPrimary=null;uy.length=0}var xh=P.ReactCurrentDispatcher,fy=P.ReactCurrentBatchConfig,Ka=0,Xt=null,fr=null,_r=null,_h=!1,vu=!1,yu=0,dz=0;function $r(){throw Error(r(321))}function hy(l,c){if(c===null)return!1;for(var h=0;h<c.length&&h<l.length;h++)if(!Jn(l[h],c[h]))return!1;return!0}function py(l,c,h,v,_,k){if(Ka=k,Xt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,xh.current=l===null||l.memoizedState===null?mz:gz,l=h(v,_),vu){k=0;do{if(vu=!1,yu=0,25<=k)throw Error(r(301));k+=1,_r=fr=null,c.updateQueue=null,xh.current=vz,l=h(v,_)}while(vu)}if(xh.current=Oh,c=fr!==null&&fr.next!==null,Ka=0,_r=fr=Xt=null,_h=!1,c)throw Error(r(300));return l}function my(){var l=yu!==0;return yu=0,l}function Oi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?Xt.memoizedState=_r=l:_r=_r.next=l,_r}function Nn(){if(fr===null){var l=Xt.alternate;l=l!==null?l.memoizedState:null}else l=fr.next;var c=_r===null?Xt.memoizedState:_r.next;if(c!==null)_r=c,fr=l;else{if(l===null)throw Error(r(310));fr=l,l={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},_r===null?Xt.memoizedState=_r=l:_r=_r.next=l}return _r}function bu(l,c){return typeof c=="function"?c(l):c}function gy(l){var c=Nn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var v=fr,_=v.baseQueue,k=h.pending;if(k!==null){if(_!==null){var I=_.next;_.next=k.next,k.next=I}v.baseQueue=_=k,h.pending=null}if(_!==null){k=_.next,v=v.baseState;var L=I=null,H=null,se=k;do{var ve=se.lane;if((Ka&ve)===ve)H!==null&&(H=H.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),v=se.hasEagerState?se.eagerState:l(v,se.action);else{var be={lane:ve,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};H===null?(L=H=be,I=v):H=H.next=be,Xt.lanes|=ve,Ga|=ve}se=se.next}while(se!==null&&se!==k);H===null?I=v:H.next=L,Jn(v,c.memoizedState)||(tn=!0),c.memoizedState=v,c.baseState=I,c.baseQueue=H,h.lastRenderedState=v}if(l=h.interleaved,l!==null){_=l;do k=_.lane,Xt.lanes|=k,Ga|=k,_=_.next;while(_!==l)}else _===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function vy(l){var c=Nn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var v=h.dispatch,_=h.pending,k=c.memoizedState;if(_!==null){h.pending=null;var I=_=_.next;do k=l(k,I.action),I=I.next;while(I!==_);Jn(k,c.memoizedState)||(tn=!0),c.memoizedState=k,c.baseQueue===null&&(c.baseState=k),h.lastRenderedState=k}return[k,v]}function LA(){}function FA(l,c){var h=Xt,v=Nn(),_=c(),k=!Jn(v.memoizedState,_);if(k&&(v.memoizedState=_,tn=!0),v=v.queue,yy(qA.bind(null,h,v,l),[l]),v.getSnapshot!==c||k||_r!==null&&_r.memoizedState.tag&1){if(h.flags|=2048,wu(9,BA.bind(null,h,v,_,c),void 0,null),Sr===null)throw Error(r(349));(Ka&30)!==0||UA(h,c,_)}return _}function UA(l,c,h){l.flags|=16384,l={getSnapshot:c,value:h},c=Xt.updateQueue,c===null?(c={lastEffect:null,stores:null},Xt.updateQueue=c,c.stores=[l]):(h=c.stores,h===null?c.stores=[l]:h.push(l))}function BA(l,c,h,v){c.value=h,c.getSnapshot=v,zA(c)&&WA(l)}function qA(l,c,h){return h(function(){zA(c)&&WA(l)})}function zA(l){var c=l.getSnapshot;l=l.value;try{var h=c();return!Jn(l,h)}catch{return!0}}function WA(l){var c=Zi(l,1);c!==null&&ni(c,l,1,-1)}function VA(l){var c=Oi();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bu,lastRenderedState:l},c.queue=l,l=l.dispatch=pz.bind(null,Xt,l),[c.memoizedState,l]}function wu(l,c,h,v){return l={tag:l,create:c,destroy:h,deps:v,next:null},c=Xt.updateQueue,c===null?(c={lastEffect:null,stores:null},Xt.updateQueue=c,c.lastEffect=l.next=l):(h=c.lastEffect,h===null?c.lastEffect=l.next=l:(v=h.next,h.next=l,l.next=v,c.lastEffect=l)),l}function HA(){return Nn().memoizedState}function Sh(l,c,h,v){var _=Oi();Xt.flags|=l,_.memoizedState=wu(1|c,h,void 0,v===void 0?null:v)}function Eh(l,c,h,v){var _=Nn();v=v===void 0?null:v;var k=void 0;if(fr!==null){var I=fr.memoizedState;if(k=I.destroy,v!==null&&hy(v,I.deps)){_.memoizedState=wu(c,h,k,v);return}}Xt.flags|=l,_.memoizedState=wu(1|c,h,k,v)}function KA(l,c){return Sh(8390656,8,l,c)}function yy(l,c){return Eh(2048,8,l,c)}function GA(l,c){return Eh(4,2,l,c)}function YA(l,c){return Eh(4,4,l,c)}function XA(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function QA(l,c,h){return h=h!=null?h.concat([l]):null,Eh(4,4,XA.bind(null,c,l),h)}function by(){}function JA(l,c){var h=Nn();c=c===void 0?null:c;var v=h.memoizedState;return v!==null&&c!==null&&hy(c,v[1])?v[0]:(h.memoizedState=[l,c],l)}function ZA(l,c){var h=Nn();c=c===void 0?null:c;var v=h.memoizedState;return v!==null&&c!==null&&hy(c,v[1])?v[0]:(l=l(),h.memoizedState=[l,c],l)}function eC(l,c,h){return(Ka&21)===0?(l.baseState&&(l.baseState=!1,tn=!0),l.memoizedState=h):(Jn(h,c)||(h=PT(),Xt.lanes|=h,Ga|=h,l.baseState=!0),c)}function fz(l,c){var h=St;St=h!==0&&4>h?h:4,l(!0);var v=fy.transition;fy.transition={};try{l(!1),c()}finally{St=h,fy.transition=v}}function tC(){return Nn().memoizedState}function hz(l,c,h){var v=Qs(l);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},rC(l))nC(c,h);else if(h=IA(l,c,h,v),h!==null){var _=Vr();ni(h,l,v,_),iC(h,c,v)}}function pz(l,c,h){var v=Qs(l),_={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(rC(l))nC(c,_);else{var k=l.alternate;if(l.lanes===0&&(k===null||k.lanes===0)&&(k=c.lastRenderedReducer,k!==null))try{var I=c.lastRenderedState,L=k(I,h);if(_.hasEagerState=!0,_.eagerState=L,Jn(L,I)){var H=c.interleaved;H===null?(_.next=_,ay(c)):(_.next=H.next,H.next=_),c.interleaved=_;return}}catch{}finally{}h=IA(l,c,_,v),h!==null&&(_=Vr(),ni(h,l,v,_),iC(h,c,v))}}function rC(l){var c=l.alternate;return l===Xt||c!==null&&c===Xt}function nC(l,c){vu=_h=!0;var h=l.pending;h===null?c.next=c:(c.next=h.next,h.next=c),l.pending=c}function iC(l,c,h){if((h&4194240)!==0){var v=c.lanes;v&=l.pendingLanes,h|=v,c.lanes=h,xv(l,h)}}var Oh={readContext:jn,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},mz={readContext:jn,useCallback:function(l,c){return Oi().memoizedState=[l,c===void 0?null:c],l},useContext:jn,useEffect:KA,useImperativeHandle:function(l,c,h){return h=h!=null?h.concat([l]):null,Sh(4194308,4,XA.bind(null,c,l),h)},useLayoutEffect:function(l,c){return Sh(4194308,4,l,c)},useInsertionEffect:function(l,c){return Sh(4,2,l,c)},useMemo:function(l,c){var h=Oi();return c=c===void 0?null:c,l=l(),h.memoizedState=[l,c],l},useReducer:function(l,c,h){var v=Oi();return c=h!==void 0?h(c):c,v.memoizedState=v.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},v.queue=l,l=l.dispatch=hz.bind(null,Xt,l),[v.memoizedState,l]},useRef:function(l){var c=Oi();return l={current:l},c.memoizedState=l},useState:VA,useDebugValue:by,useDeferredValue:function(l){return Oi().memoizedState=l},useTransition:function(){var l=VA(!1),c=l[0];return l=fz.bind(null,l[1]),Oi().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,h){var v=Xt,_=Oi();if(zt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Sr===null)throw Error(r(349));(Ka&30)!==0||UA(v,c,h)}_.memoizedState=h;var k={value:h,getSnapshot:c};return _.queue=k,KA(qA.bind(null,v,k,l),[l]),v.flags|=2048,wu(9,BA.bind(null,v,k,h,c),void 0,null),h},useId:function(){var l=Oi(),c=Sr.identifierPrefix;if(zt){var h=Ji,v=Qi;h=(v&~(1<<32-Qn(v)-1)).toString(32)+h,c=":"+c+"R"+h,h=yu++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=dz++,c=":"+c+"r"+h.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},gz={readContext:jn,useCallback:JA,useContext:jn,useEffect:yy,useImperativeHandle:QA,useInsertionEffect:GA,useLayoutEffect:YA,useMemo:ZA,useReducer:gy,useRef:HA,useState:function(){return gy(bu)},useDebugValue:by,useDeferredValue:function(l){var c=Nn();return eC(c,fr.memoizedState,l)},useTransition:function(){var l=gy(bu)[0],c=Nn().memoizedState;return[l,c]},useMutableSource:LA,useSyncExternalStore:FA,useId:tC,unstable_isNewReconciler:!1},vz={readContext:jn,useCallback:JA,useContext:jn,useEffect:yy,useImperativeHandle:QA,useInsertionEffect:GA,useLayoutEffect:YA,useMemo:ZA,useReducer:vy,useRef:HA,useState:function(){return vy(bu)},useDebugValue:by,useDeferredValue:function(l){var c=Nn();return fr===null?c.memoizedState=l:eC(c,fr.memoizedState,l)},useTransition:function(){var l=vy(bu)[0],c=Nn().memoizedState;return[l,c]},useMutableSource:LA,useSyncExternalStore:FA,useId:tC,unstable_isNewReconciler:!1};function ei(l,c){if(l&&l.defaultProps){c=ie({},c),l=l.defaultProps;for(var h in l)c[h]===void 0&&(c[h]=l[h]);return c}return c}function wy(l,c,h,v){c=l.memoizedState,h=h(v,c),h=h==null?c:ie({},c,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var Th={isMounted:function(l){return(l=l._reactInternals)?Ua(l)===l:!1},enqueueSetState:function(l,c,h){l=l._reactInternals;var v=Vr(),_=Qs(l),k=es(v,_);k.payload=c,h!=null&&(k.callback=h),c=Ks(l,k,_),c!==null&&(ni(c,l,_,v),yh(c,l,_))},enqueueReplaceState:function(l,c,h){l=l._reactInternals;var v=Vr(),_=Qs(l),k=es(v,_);k.tag=1,k.payload=c,h!=null&&(k.callback=h),c=Ks(l,k,_),c!==null&&(ni(c,l,_,v),yh(c,l,_))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var h=Vr(),v=Qs(l),_=es(h,v);_.tag=2,c!=null&&(_.callback=c),c=Ks(l,_,v),c!==null&&(ni(c,l,v,h),yh(c,l,v))}};function sC(l,c,h,v,_,k,I){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,k,I):c.prototype&&c.prototype.isPureReactComponent?!au(h,v)||!au(_,k):!0}function aC(l,c,h){var v=!1,_=Ws,k=c.contextType;return typeof k=="object"&&k!==null?k=jn(k):(_=en(c)?qa:Dr.current,v=c.contextTypes,k=(v=v!=null)?Yo(l,_):Ws),c=new c(h,k),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Th,l.stateNode=c,c._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=_,l.__reactInternalMemoizedMaskedChildContext=k),c}function oC(l,c,h,v){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,v),c.state!==l&&Th.enqueueReplaceState(c,c.state,null)}function xy(l,c,h,v){var _=l.stateNode;_.props=h,_.state=l.memoizedState,_.refs={},oy(l);var k=c.contextType;typeof k=="object"&&k!==null?_.context=jn(k):(k=en(c)?qa:Dr.current,_.context=Yo(l,k)),_.state=l.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(wy(l,c,k,h),_.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(c=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),c!==_.state&&Th.enqueueReplaceState(_,_.state,null),bh(l,h,_,v),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308)}function nl(l,c){try{var h="",v=c;do h+=Se(v),v=v.return;while(v);var _=h}catch(k){_=`
Error generating stack: `+k.message+`
`+k.stack}return{value:l,source:c,stack:_,digest:null}}function _y(l,c,h){return{value:l,source:null,stack:h??null,digest:c??null}}function Sy(l,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var yz=typeof WeakMap=="function"?WeakMap:Map;function lC(l,c,h){h=es(-1,h),h.tag=3,h.payload={element:null};var v=c.value;return h.callback=function(){Ih||(Ih=!0,Ly=v),Sy(l,c)},h}function cC(l,c,h){h=es(-1,h),h.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=c.value;h.payload=function(){return v(_)},h.callback=function(){Sy(l,c)}}var k=l.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(h.callback=function(){Sy(l,c),typeof v!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})}),h}function uC(l,c,h){var v=l.pingCache;if(v===null){v=l.pingCache=new yz;var _=new Set;v.set(c,_)}else _=v.get(c),_===void 0&&(_=new Set,v.set(c,_));_.has(h)||(_.add(h),l=Nz.bind(null,l,c,h),c.then(l,l))}function dC(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function fC(l,c,h,v,_){return(l.mode&1)===0?(l===c?l.flags|=65536:(l.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=es(-1,1),c.tag=2,Ks(h,c,1))),h.lanes|=1),l):(l.flags|=65536,l.lanes=_,l)}var bz=P.ReactCurrentOwner,tn=!1;function Wr(l,c,h,v){c.child=l===null?NA(c,null,h,v):Zo(c,l.child,h,v)}function hC(l,c,h,v,_){h=h.render;var k=c.ref;return tl(c,_),v=py(l,c,h,v,k,_),h=my(),l!==null&&!tn?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~_,ts(l,c,_)):(zt&&h&&Qv(c),c.flags|=1,Wr(l,c,v,_),c.child)}function pC(l,c,h,v,_){if(l===null){var k=h.type;return typeof k=="function"&&!Vy(k)&&k.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=k,mC(l,c,k,v,_)):(l=Fh(h.type,null,v,c,c.mode,_),l.ref=c.ref,l.return=c,c.child=l)}if(k=l.child,(l.lanes&_)===0){var I=k.memoizedProps;if(h=h.compare,h=h!==null?h:au,h(I,v)&&l.ref===c.ref)return ts(l,c,_)}return c.flags|=1,l=Zs(k,v),l.ref=c.ref,l.return=c,c.child=l}function mC(l,c,h,v,_){if(l!==null){var k=l.memoizedProps;if(au(k,v)&&l.ref===c.ref)if(tn=!1,c.pendingProps=v=k,(l.lanes&_)!==0)(l.flags&131072)!==0&&(tn=!0);else return c.lanes=l.lanes,ts(l,c,_)}return Ey(l,c,h,v,_)}function gC(l,c,h){var v=c.pendingProps,_=v.children,k=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(sl,yn),yn|=h;else{if((h&1073741824)===0)return l=k!==null?k.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,It(sl,yn),yn|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=k!==null?k.baseLanes:h,It(sl,yn),yn|=v}else k!==null?(v=k.baseLanes|h,c.memoizedState=null):v=h,It(sl,yn),yn|=v;return Wr(l,c,_,h),c.child}function vC(l,c){var h=c.ref;(l===null&&h!==null||l!==null&&l.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Ey(l,c,h,v,_){var k=en(h)?qa:Dr.current;return k=Yo(c,k),tl(c,_),h=py(l,c,h,v,k,_),v=my(),l!==null&&!tn?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~_,ts(l,c,_)):(zt&&v&&Qv(c),c.flags|=1,Wr(l,c,h,_),c.child)}function yC(l,c,h,v,_){if(en(h)){var k=!0;uh(c)}else k=!1;if(tl(c,_),c.stateNode===null)Ch(l,c),aC(c,h,v),xy(c,h,v,_),v=!0;else if(l===null){var I=c.stateNode,L=c.memoizedProps;I.props=L;var H=I.context,se=h.contextType;typeof se=="object"&&se!==null?se=jn(se):(se=en(h)?qa:Dr.current,se=Yo(c,se));var ve=h.getDerivedStateFromProps,be=typeof ve=="function"||typeof I.getSnapshotBeforeUpdate=="function";be||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(L!==v||H!==se)&&oC(c,I,v,se),Hs=!1;var me=c.memoizedState;I.state=me,bh(c,v,I,_),H=c.memoizedState,L!==v||me!==H||Zr.current||Hs?(typeof ve=="function"&&(wy(c,h,ve,v),H=c.memoizedState),(L=Hs||sC(c,h,L,v,me,H,se))?(be||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=H),I.props=v,I.state=H,I.context=se,v=L):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{I=c.stateNode,RA(l,c),L=c.memoizedProps,se=c.type===c.elementType?L:ei(c.type,L),I.props=se,be=c.pendingProps,me=I.context,H=h.contextType,typeof H=="object"&&H!==null?H=jn(H):(H=en(h)?qa:Dr.current,H=Yo(c,H));var Ae=h.getDerivedStateFromProps;(ve=typeof Ae=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(L!==be||me!==H)&&oC(c,I,v,H),Hs=!1,me=c.memoizedState,I.state=me,bh(c,v,I,_);var Ie=c.memoizedState;L!==be||me!==Ie||Zr.current||Hs?(typeof Ae=="function"&&(wy(c,h,Ae,v),Ie=c.memoizedState),(se=Hs||sC(c,h,se,v,me,Ie,H)||!1)?(ve||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,Ie,H),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,Ie,H)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||L===l.memoizedProps&&me===l.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||L===l.memoizedProps&&me===l.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Ie),I.props=v,I.state=Ie,I.context=H,v=se):(typeof I.componentDidUpdate!="function"||L===l.memoizedProps&&me===l.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||L===l.memoizedProps&&me===l.memoizedState||(c.flags|=1024),v=!1)}return Oy(l,c,h,v,k,_)}function Oy(l,c,h,v,_,k){vC(l,c);var I=(c.flags&128)!==0;if(!v&&!I)return _&&SA(c,h,!1),ts(l,c,k);v=c.stateNode,bz.current=c;var L=I&&typeof h.getDerivedStateFromError!="function"?null:v.render();return c.flags|=1,l!==null&&I?(c.child=Zo(c,l.child,null,k),c.child=Zo(c,null,L,k)):Wr(l,c,L,k),c.memoizedState=v.state,_&&SA(c,h,!0),c.child}function bC(l){var c=l.stateNode;c.pendingContext?xA(l,c.pendingContext,c.pendingContext!==c.context):c.context&&xA(l,c.context,!1),ly(l,c.containerInfo)}function wC(l,c,h,v,_){return Jo(),ty(_),c.flags|=256,Wr(l,c,h,v),c.child}var Ty={dehydrated:null,treeContext:null,retryLane:0};function Ay(l){return{baseLanes:l,cachePool:null,transitions:null}}function xC(l,c,h){var v=c.pendingProps,_=Yt.current,k=!1,I=(c.flags&128)!==0,L;if((L=I)||(L=l!==null&&l.memoizedState===null?!1:(_&2)!==0),L?(k=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(_|=1),It(Yt,_&1),l===null)return ey(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((c.mode&1)===0?c.lanes=1:l.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(I=v.children,l=v.fallback,k?(v=c.mode,k=c.child,I={mode:"hidden",children:I},(v&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=I):k=Uh(I,v,0,null),l=Ja(l,v,h,null),k.return=c,l.return=c,k.sibling=l,c.child=k,c.child.memoizedState=Ay(h),c.memoizedState=Ty,l):Cy(c,I));if(_=l.memoizedState,_!==null&&(L=_.dehydrated,L!==null))return wz(l,c,I,v,L,_,h);if(k){k=v.fallback,I=c.mode,_=l.child,L=_.sibling;var H={mode:"hidden",children:v.children};return(I&1)===0&&c.child!==_?(v=c.child,v.childLanes=0,v.pendingProps=H,c.deletions=null):(v=Zs(_,H),v.subtreeFlags=_.subtreeFlags&14680064),L!==null?k=Zs(L,k):(k=Ja(k,I,h,null),k.flags|=2),k.return=c,v.return=c,v.sibling=k,c.child=v,v=k,k=c.child,I=l.child.memoizedState,I=I===null?Ay(h):{baseLanes:I.baseLanes|h,cachePool:null,transitions:I.transitions},k.memoizedState=I,k.childLanes=l.childLanes&~h,c.memoizedState=Ty,v}return k=l.child,l=k.sibling,v=Zs(k,{mode:"visible",children:v.children}),(c.mode&1)===0&&(v.lanes=h),v.return=c,v.sibling=null,l!==null&&(h=c.deletions,h===null?(c.deletions=[l],c.flags|=16):h.push(l)),c.child=v,c.memoizedState=null,v}function Cy(l,c){return c=Uh({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function Ah(l,c,h,v){return v!==null&&ty(v),Zo(c,l.child,null,h),l=Cy(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function wz(l,c,h,v,_,k,I){if(h)return c.flags&256?(c.flags&=-257,v=_y(Error(r(422))),Ah(l,c,I,v)):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(k=v.fallback,_=c.mode,v=Uh({mode:"visible",children:v.children},_,0,null),k=Ja(k,_,I,null),k.flags|=2,v.return=c,k.return=c,v.sibling=k,c.child=v,(c.mode&1)!==0&&Zo(c,l.child,null,I),c.child.memoizedState=Ay(I),c.memoizedState=Ty,k);if((c.mode&1)===0)return Ah(l,c,I,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var L=v.dgst;return v=L,k=Error(r(419)),v=_y(k,v,void 0),Ah(l,c,I,v)}if(L=(I&l.childLanes)!==0,tn||L){if(v=Sr,v!==null){switch(I&-I){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(v.suspendedLanes|I))!==0?0:_,_!==0&&_!==k.retryLane&&(k.retryLane=_,Zi(l,_),ni(v,l,_,-1))}return Wy(),v=_y(Error(r(421))),Ah(l,c,I,v)}return _.data==="$?"?(c.flags|=128,c.child=l.child,c=Iz.bind(null,l),_._reactRetry=c,null):(l=k.treeContext,vn=qs(_.nextSibling),gn=c,zt=!0,Zn=null,l!==null&&(kn[Pn++]=Qi,kn[Pn++]=Ji,kn[Pn++]=za,Qi=l.id,Ji=l.overflow,za=c),c=Cy(c,v.children),c.flags|=4096,c)}function _C(l,c,h){l.lanes|=c;var v=l.alternate;v!==null&&(v.lanes|=c),sy(l.return,c,h)}function ky(l,c,h,v,_){var k=l.memoizedState;k===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:_}:(k.isBackwards=c,k.rendering=null,k.renderingStartTime=0,k.last=v,k.tail=h,k.tailMode=_)}function SC(l,c,h){var v=c.pendingProps,_=v.revealOrder,k=v.tail;if(Wr(l,c,v.children,h),v=Yt.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&_C(l,h,c);else if(l.tag===19)_C(l,h,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(It(Yt,v),(c.mode&1)===0)c.memoizedState=null;else switch(_){case"forwards":for(h=c.child,_=null;h!==null;)l=h.alternate,l!==null&&wh(l)===null&&(_=h),h=h.sibling;h=_,h===null?(_=c.child,c.child=null):(_=h.sibling,h.sibling=null),ky(c,!1,_,h,k);break;case"backwards":for(h=null,_=c.child,c.child=null;_!==null;){if(l=_.alternate,l!==null&&wh(l)===null){c.child=_;break}l=_.sibling,_.sibling=h,h=_,_=l}ky(c,!0,h,null,k);break;case"together":ky(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Ch(l,c){(c.mode&1)===0&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function ts(l,c,h){if(l!==null&&(c.dependencies=l.dependencies),Ga|=c.lanes,(h&c.childLanes)===0)return null;if(l!==null&&c.child!==l.child)throw Error(r(153));if(c.child!==null){for(l=c.child,h=Zs(l,l.pendingProps),c.child=h,h.return=c;l.sibling!==null;)l=l.sibling,h=h.sibling=Zs(l,l.pendingProps),h.return=c;h.sibling=null}return c.child}function xz(l,c,h){switch(c.tag){case 3:bC(c),Jo();break;case 5:$A(c);break;case 1:en(c.type)&&uh(c);break;case 4:ly(c,c.stateNode.containerInfo);break;case 10:var v=c.type._context,_=c.memoizedProps.value;It(gh,v._currentValue),v._currentValue=_;break;case 13:if(v=c.memoizedState,v!==null)return v.dehydrated!==null?(It(Yt,Yt.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?xC(l,c,h):(It(Yt,Yt.current&1),l=ts(l,c,h),l!==null?l.sibling:null);It(Yt,Yt.current&1);break;case 19:if(v=(h&c.childLanes)!==0,(l.flags&128)!==0){if(v)return SC(l,c,h);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),It(Yt,Yt.current),v)break;return null;case 22:case 23:return c.lanes=0,gC(l,c,h)}return ts(l,c,h)}var EC,Py,OC,TC;EC=function(l,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)l.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Py=function(){},OC=function(l,c,h,v){var _=l.memoizedProps;if(_!==v){l=c.stateNode,Ha(Ei.current);var k=null;switch(h){case"input":_=Te(l,_),v=Te(l,v),k=[];break;case"select":_=ie({},_,{value:void 0}),v=ie({},v,{value:void 0}),k=[];break;case"textarea":_=Z(l,_),v=Z(l,v),k=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=oh)}dr(h,v);var I;h=null;for(se in _)if(!v.hasOwnProperty(se)&&_.hasOwnProperty(se)&&_[se]!=null)if(se==="style"){var L=_[se];for(I in L)L.hasOwnProperty(I)&&(h||(h={}),h[I]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?k||(k=[]):(k=k||[]).push(se,null));for(se in v){var H=v[se];if(L=_?.[se],v.hasOwnProperty(se)&&H!==L&&(H!=null||L!=null))if(se==="style")if(L){for(I in L)!L.hasOwnProperty(I)||H&&H.hasOwnProperty(I)||(h||(h={}),h[I]="");for(I in H)H.hasOwnProperty(I)&&L[I]!==H[I]&&(h||(h={}),h[I]=H[I])}else h||(k||(k=[]),k.push(se,h)),h=H;else se==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,L=L?L.__html:void 0,H!=null&&L!==H&&(k=k||[]).push(se,H)):se==="children"?typeof H!="string"&&typeof H!="number"||(k=k||[]).push(se,""+H):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(H!=null&&se==="onScroll"&&Lt("scroll",l),k||L===H||(k=[])):(k=k||[]).push(se,H))}h&&(k=k||[]).push("style",h);var se=k;(c.updateQueue=se)&&(c.flags|=4)}},TC=function(l,c,h,v){h!==v&&(c.flags|=4)};function xu(l,c){if(!zt)switch(l.tailMode){case"hidden":c=l.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Lr(l){var c=l.alternate!==null&&l.alternate.child===l.child,h=0,v=0;if(c)for(var _=l.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=v,l.childLanes=h,c}function _z(l,c,h){var v=c.pendingProps;switch(Jv(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(c),null;case 1:return en(c.type)&&ch(),Lr(c),null;case 3:return v=c.stateNode,rl(),Ft(Zr),Ft(Dr),dy(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(ph(c)?c.flags|=4:l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Zn!==null&&(By(Zn),Zn=null))),Py(l,c),Lr(c),null;case 5:cy(c);var _=Ha(gu.current);if(h=c.type,l!==null&&c.stateNode!=null)OC(l,c,h,v,_),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Lr(c),null}if(l=Ha(Ei.current),ph(c)){v=c.stateNode,h=c.type;var k=c.memoizedProps;switch(v[Si]=c,v[du]=k,l=(c.mode&1)!==0,h){case"dialog":Lt("cancel",v),Lt("close",v);break;case"iframe":case"object":case"embed":Lt("load",v);break;case"video":case"audio":for(_=0;_<lu.length;_++)Lt(lu[_],v);break;case"source":Lt("error",v);break;case"img":case"image":case"link":Lt("error",v),Lt("load",v);break;case"details":Lt("toggle",v);break;case"input":Je(v,k),Lt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!k.multiple},Lt("invalid",v);break;case"textarea":pe(v,k),Lt("invalid",v)}dr(h,k),_=null;for(var I in k)if(k.hasOwnProperty(I)){var L=k[I];I==="children"?typeof L=="string"?v.textContent!==L&&(k.suppressHydrationWarning!==!0&&ah(v.textContent,L,l),_=["children",L]):typeof L=="number"&&v.textContent!==""+L&&(k.suppressHydrationWarning!==!0&&ah(v.textContent,L,l),_=["children",""+L]):i.hasOwnProperty(I)&&L!=null&&I==="onScroll"&&Lt("scroll",v)}switch(h){case"input":ge(v),Ht(v,k,!0);break;case"textarea":ge(v),ue(v);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(v.onclick=oh)}v=_,c.updateQueue=v,v!==null&&(c.flags|=4)}else{I=_.nodeType===9?_:_.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Oe(h)),l==="http://www.w3.org/1999/xhtml"?h==="script"?(l=I.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=I.createElement(h,{is:v.is}):(l=I.createElement(h),h==="select"&&(I=l,v.multiple?I.multiple=!0:v.size&&(I.size=v.size))):l=I.createElementNS(l,h),l[Si]=c,l[du]=v,EC(l,c,!1,!1),c.stateNode=l;e:{switch(I=Gn(h,v),h){case"dialog":Lt("cancel",l),Lt("close",l),_=v;break;case"iframe":case"object":case"embed":Lt("load",l),_=v;break;case"video":case"audio":for(_=0;_<lu.length;_++)Lt(lu[_],l);_=v;break;case"source":Lt("error",l),_=v;break;case"img":case"image":case"link":Lt("error",l),Lt("load",l),_=v;break;case"details":Lt("toggle",l),_=v;break;case"input":Je(l,v),_=Te(l,v),Lt("invalid",l);break;case"option":_=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},_=ie({},v,{value:void 0}),Lt("invalid",l);break;case"textarea":pe(l,v),_=Z(l,v),Lt("invalid",l);break;default:_=v}dr(h,_),L=_;for(k in L)if(L.hasOwnProperty(k)){var H=L[k];k==="style"?qt(l,H):k==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Ee(l,H)):k==="children"?typeof H=="string"?(h!=="textarea"||H!=="")&&Ke(l,H):typeof H=="number"&&Ke(l,""+H):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?H!=null&&k==="onScroll"&&Lt("scroll",l):H!=null&&A(l,k,H,I))}switch(h){case"input":ge(l),Ht(l,v,!1);break;case"textarea":ge(l),ue(l);break;case"option":v.value!=null&&l.setAttribute("value",""+ce(v.value));break;case"select":l.multiple=!!v.multiple,k=v.value,k!=null?q(l,!!v.multiple,k,!1):v.defaultValue!=null&&q(l,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(l.onclick=oh)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Lr(c),null;case 6:if(l&&c.stateNode!=null)TC(l,c,l.memoizedProps,v);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(h=Ha(gu.current),Ha(Ei.current),ph(c)){if(v=c.stateNode,h=c.memoizedProps,v[Si]=c,(k=v.nodeValue!==h)&&(l=gn,l!==null))switch(l.tag){case 3:ah(v.nodeValue,h,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&ah(v.nodeValue,h,(l.mode&1)!==0)}k&&(c.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[Si]=c,c.stateNode=v}return Lr(c),null;case 13:if(Ft(Yt),v=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(zt&&vn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)kA(),Jo(),c.flags|=98560,k=!1;else if(k=ph(c),v!==null&&v.dehydrated!==null){if(l===null){if(!k)throw Error(r(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[Si]=c}else Jo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Lr(c),k=!1}else Zn!==null&&(By(Zn),Zn=null),k=!0;if(!k)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(c.child.flags|=8192,(c.mode&1)!==0&&(l===null||(Yt.current&1)!==0?hr===0&&(hr=3):Wy())),c.updateQueue!==null&&(c.flags|=4),Lr(c),null);case 4:return rl(),Py(l,c),l===null&&cu(c.stateNode.containerInfo),Lr(c),null;case 10:return iy(c.type._context),Lr(c),null;case 17:return en(c.type)&&ch(),Lr(c),null;case 19:if(Ft(Yt),k=c.memoizedState,k===null)return Lr(c),null;if(v=(c.flags&128)!==0,I=k.rendering,I===null)if(v)xu(k,!1);else{if(hr!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(I=wh(l),I!==null){for(c.flags|=128,xu(k,!1),v=I.updateQueue,v!==null&&(c.updateQueue=v,c.flags|=4),c.subtreeFlags=0,v=h,h=c.child;h!==null;)k=h,l=v,k.flags&=14680066,I=k.alternate,I===null?(k.childLanes=0,k.lanes=l,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=I.childLanes,k.lanes=I.lanes,k.child=I.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=I.memoizedProps,k.memoizedState=I.memoizedState,k.updateQueue=I.updateQueue,k.type=I.type,l=I.dependencies,k.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),h=h.sibling;return It(Yt,Yt.current&1|2),c.child}l=l.sibling}k.tail!==null&&er()>al&&(c.flags|=128,v=!0,xu(k,!1),c.lanes=4194304)}else{if(!v)if(l=wh(I),l!==null){if(c.flags|=128,v=!0,h=l.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),xu(k,!0),k.tail===null&&k.tailMode==="hidden"&&!I.alternate&&!zt)return Lr(c),null}else 2*er()-k.renderingStartTime>al&&h!==1073741824&&(c.flags|=128,v=!0,xu(k,!1),c.lanes=4194304);k.isBackwards?(I.sibling=c.child,c.child=I):(h=k.last,h!==null?h.sibling=I:c.child=I,k.last=I)}return k.tail!==null?(c=k.tail,k.rendering=c,k.tail=c.sibling,k.renderingStartTime=er(),c.sibling=null,h=Yt.current,It(Yt,v?h&1|2:h&1),c):(Lr(c),null);case 22:case 23:return zy(),v=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(c.flags|=8192),v&&(c.mode&1)!==0?(yn&1073741824)!==0&&(Lr(c),c.subtreeFlags&6&&(c.flags|=8192)):Lr(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function Sz(l,c){switch(Jv(c),c.tag){case 1:return en(c.type)&&ch(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return rl(),Ft(Zr),Ft(Dr),dy(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 5:return cy(c),null;case 13:if(Ft(Yt),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Jo()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return Ft(Yt),null;case 4:return rl(),null;case 10:return iy(c.type._context),null;case 22:case 23:return zy(),null;case 24:return null;default:return null}}var kh=!1,Fr=!1,Ez=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function il(l,c){var h=l.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){Qt(l,c,v)}else h.current=null}function jy(l,c,h){try{h()}catch(v){Qt(l,c,v)}}var AC=!1;function Oz(l,c){if(zv=Yf,l=sA(),Mv(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var _=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var I=0,L=-1,H=-1,se=0,ve=0,be=l,me=null;t:for(;;){for(var Ae;be!==h||_!==0&&be.nodeType!==3||(L=I+_),be!==k||v!==0&&be.nodeType!==3||(H=I+v),be.nodeType===3&&(I+=be.nodeValue.length),(Ae=be.firstChild)!==null;)me=be,be=Ae;for(;;){if(be===l)break t;if(me===h&&++se===_&&(L=I),me===k&&++ve===v&&(H=I),(Ae=be.nextSibling)!==null)break;be=me,me=be.parentNode}be=Ae}h=L===-1||H===-1?null:{start:L,end:H}}else h=null}h=h||{start:0,end:0}}else h=null;for(Wv={focusedElem:l,selectionRange:h},Yf=!1,Pe=c;Pe!==null;)if(c=Pe,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,Pe=l;else for(;Pe!==null;){c=Pe;try{var Ie=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Me=Ie.memoizedProps,tr=Ie.memoizedState,te=c.stateNode,X=te.getSnapshotBeforeUpdate(c.elementType===c.type?Me:ei(c.type,Me),tr);te.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var re=c.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(xe){Qt(c,c.return,xe)}if(l=c.sibling,l!==null){l.return=c.return,Pe=l;break}Pe=c.return}return Ie=AC,AC=!1,Ie}function _u(l,c,h){var v=c.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&l)===l){var k=_.destroy;_.destroy=void 0,k!==void 0&&jy(c,h,k)}_=_.next}while(_!==v)}}function Ph(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&l)===l){var v=h.create;h.destroy=v()}h=h.next}while(h!==c)}}function Ny(l){var c=l.ref;if(c!==null){var h=l.stateNode;switch(l.tag){case 5:l=h;break;default:l=h}typeof c=="function"?c(l):c.current=l}}function CC(l){var c=l.alternate;c!==null&&(l.alternate=null,CC(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&(delete c[Si],delete c[du],delete c[Gv],delete c[oz],delete c[lz])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function kC(l){return l.tag===5||l.tag===3||l.tag===4}function PC(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||kC(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Iy(l,c,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(l,c):h.insertBefore(l,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(l,h)):(c=h,c.appendChild(l)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=oh));else if(v!==4&&(l=l.child,l!==null))for(Iy(l,c,h),l=l.sibling;l!==null;)Iy(l,c,h),l=l.sibling}function Ry(l,c,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?h.insertBefore(l,c):h.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(Ry(l,c,h),l=l.sibling;l!==null;)Ry(l,c,h),l=l.sibling}var Pr=null,ti=!1;function Gs(l,c,h){for(h=h.child;h!==null;)jC(l,c,h),h=h.sibling}function jC(l,c,h){if(_i&&typeof _i.onCommitFiberUnmount=="function")try{_i.onCommitFiberUnmount(zf,h)}catch{}switch(h.tag){case 5:Fr||il(h,c);case 6:var v=Pr,_=ti;Pr=null,Gs(l,c,h),Pr=v,ti=_,Pr!==null&&(ti?(l=Pr,h=h.stateNode,l.nodeType===8?l.parentNode.removeChild(h):l.removeChild(h)):Pr.removeChild(h.stateNode));break;case 18:Pr!==null&&(ti?(l=Pr,h=h.stateNode,l.nodeType===8?Kv(l.parentNode,h):l.nodeType===1&&Kv(l,h),eu(l)):Kv(Pr,h.stateNode));break;case 4:v=Pr,_=ti,Pr=h.stateNode.containerInfo,ti=!0,Gs(l,c,h),Pr=v,ti=_;break;case 0:case 11:case 14:case 15:if(!Fr&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var k=_,I=k.destroy;k=k.tag,I!==void 0&&((k&2)!==0||(k&4)!==0)&&jy(h,c,I),_=_.next}while(_!==v)}Gs(l,c,h);break;case 1:if(!Fr&&(il(h,c),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(L){Qt(h,c,L)}Gs(l,c,h);break;case 21:Gs(l,c,h);break;case 22:h.mode&1?(Fr=(v=Fr)||h.memoizedState!==null,Gs(l,c,h),Fr=v):Gs(l,c,h);break;default:Gs(l,c,h)}}function NC(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var h=l.stateNode;h===null&&(h=l.stateNode=new Ez),c.forEach(function(v){var _=Rz.bind(null,l,v);h.has(v)||(h.add(v),v.then(_,_))})}}function ri(l,c){var h=c.deletions;if(h!==null)for(var v=0;v<h.length;v++){var _=h[v];try{var k=l,I=c,L=I;e:for(;L!==null;){switch(L.tag){case 5:Pr=L.stateNode,ti=!1;break e;case 3:Pr=L.stateNode.containerInfo,ti=!0;break e;case 4:Pr=L.stateNode.containerInfo,ti=!0;break e}L=L.return}if(Pr===null)throw Error(r(160));jC(k,I,_),Pr=null,ti=!1;var H=_.alternate;H!==null&&(H.return=null),_.return=null}catch(se){Qt(_,c,se)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)IC(c,l),c=c.sibling}function IC(l,c){var h=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(ri(c,l),Ti(l),v&4){try{_u(3,l,l.return),Ph(3,l)}catch(Me){Qt(l,l.return,Me)}try{_u(5,l,l.return)}catch(Me){Qt(l,l.return,Me)}}break;case 1:ri(c,l),Ti(l),v&512&&h!==null&&il(h,h.return);break;case 5:if(ri(c,l),Ti(l),v&512&&h!==null&&il(h,h.return),l.flags&32){var _=l.stateNode;try{Ke(_,"")}catch(Me){Qt(l,l.return,Me)}}if(v&4&&(_=l.stateNode,_!=null)){var k=l.memoizedProps,I=h!==null?h.memoizedProps:k,L=l.type,H=l.updateQueue;if(l.updateQueue=null,H!==null)try{L==="input"&&k.type==="radio"&&k.name!=null&&Ge(_,k),Gn(L,I);var se=Gn(L,k);for(I=0;I<H.length;I+=2){var ve=H[I],be=H[I+1];ve==="style"?qt(_,be):ve==="dangerouslySetInnerHTML"?Ee(_,be):ve==="children"?Ke(_,be):A(_,ve,be,se)}switch(L){case"input":mt(_,k);break;case"textarea":fe(_,k);break;case"select":var me=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!k.multiple;var Ae=k.value;Ae!=null?q(_,!!k.multiple,Ae,!1):me!==!!k.multiple&&(k.defaultValue!=null?q(_,!!k.multiple,k.defaultValue,!0):q(_,!!k.multiple,k.multiple?[]:"",!1))}_[du]=k}catch(Me){Qt(l,l.return,Me)}}break;case 6:if(ri(c,l),Ti(l),v&4){if(l.stateNode===null)throw Error(r(162));_=l.stateNode,k=l.memoizedProps;try{_.nodeValue=k}catch(Me){Qt(l,l.return,Me)}}break;case 3:if(ri(c,l),Ti(l),v&4&&h!==null&&h.memoizedState.isDehydrated)try{eu(c.containerInfo)}catch(Me){Qt(l,l.return,Me)}break;case 4:ri(c,l),Ti(l);break;case 13:ri(c,l),Ti(l),_=l.child,_.flags&8192&&(k=_.memoizedState!==null,_.stateNode.isHidden=k,!k||_.alternate!==null&&_.alternate.memoizedState!==null||($y=er())),v&4&&NC(l);break;case 22:if(ve=h!==null&&h.memoizedState!==null,l.mode&1?(Fr=(se=Fr)||ve,ri(c,l),Fr=se):ri(c,l),Ti(l),v&8192){if(se=l.memoizedState!==null,(l.stateNode.isHidden=se)&&!ve&&(l.mode&1)!==0)for(Pe=l,ve=l.child;ve!==null;){for(be=Pe=ve;Pe!==null;){switch(me=Pe,Ae=me.child,me.tag){case 0:case 11:case 14:case 15:_u(4,me,me.return);break;case 1:il(me,me.return);var Ie=me.stateNode;if(typeof Ie.componentWillUnmount=="function"){v=me,h=me.return;try{c=v,Ie.props=c.memoizedProps,Ie.state=c.memoizedState,Ie.componentWillUnmount()}catch(Me){Qt(v,h,Me)}}break;case 5:il(me,me.return);break;case 22:if(me.memoizedState!==null){DC(be);continue}}Ae!==null?(Ae.return=me,Pe=Ae):DC(be)}ve=ve.sibling}e:for(ve=null,be=l;;){if(be.tag===5){if(ve===null){ve=be;try{_=be.stateNode,se?(k=_.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(L=be.stateNode,H=be.memoizedProps.style,I=H!=null&&H.hasOwnProperty("display")?H.display:null,L.style.display=At("display",I))}catch(Me){Qt(l,l.return,Me)}}}else if(be.tag===6){if(ve===null)try{be.stateNode.nodeValue=se?"":be.memoizedProps}catch(Me){Qt(l,l.return,Me)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===l)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===l)break e;for(;be.sibling===null;){if(be.return===null||be.return===l)break e;ve===be&&(ve=null),be=be.return}ve===be&&(ve=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:ri(c,l),Ti(l),v&4&&NC(l);break;case 21:break;default:ri(c,l),Ti(l)}}function Ti(l){var c=l.flags;if(c&2){try{e:{for(var h=l.return;h!==null;){if(kC(h)){var v=h;break e}h=h.return}throw Error(r(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(Ke(_,""),v.flags&=-33);var k=PC(l);Ry(l,k,_);break;case 3:case 4:var I=v.stateNode.containerInfo,L=PC(l);Iy(l,L,I);break;default:throw Error(r(161))}}catch(H){Qt(l,l.return,H)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function Tz(l,c,h){Pe=l,RC(l)}function RC(l,c,h){for(var v=(l.mode&1)!==0;Pe!==null;){var _=Pe,k=_.child;if(_.tag===22&&v){var I=_.memoizedState!==null||kh;if(!I){var L=_.alternate,H=L!==null&&L.memoizedState!==null||Fr;L=kh;var se=Fr;if(kh=I,(Fr=H)&&!se)for(Pe=_;Pe!==null;)I=Pe,H=I.child,I.tag===22&&I.memoizedState!==null?$C(_):H!==null?(H.return=I,Pe=H):$C(_);for(;k!==null;)Pe=k,RC(k),k=k.sibling;Pe=_,kh=L,Fr=se}MC(l)}else(_.subtreeFlags&8772)!==0&&k!==null?(k.return=_,Pe=k):MC(l)}}function MC(l){for(;Pe!==null;){var c=Pe;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Fr||Ph(5,c);break;case 1:var v=c.stateNode;if(c.flags&4&&!Fr)if(h===null)v.componentDidMount();else{var _=c.elementType===c.type?h.memoizedProps:ei(c.type,h.memoizedProps);v.componentDidUpdate(_,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var k=c.updateQueue;k!==null&&DA(c,k,v);break;case 3:var I=c.updateQueue;if(I!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}DA(c,I,h)}break;case 5:var L=c.stateNode;if(h===null&&c.flags&4){h=L;var H=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&h.focus();break;case"img":H.src&&(h.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var se=c.alternate;if(se!==null){var ve=se.memoizedState;if(ve!==null){var be=ve.dehydrated;be!==null&&eu(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Fr||c.flags&512&&Ny(c)}catch(me){Qt(c,c.return,me)}}if(c===l){Pe=null;break}if(h=c.sibling,h!==null){h.return=c.return,Pe=h;break}Pe=c.return}}function DC(l){for(;Pe!==null;){var c=Pe;if(c===l){Pe=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Pe=h;break}Pe=c.return}}function $C(l){for(;Pe!==null;){var c=Pe;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{Ph(4,c)}catch(H){Qt(c,h,H)}break;case 1:var v=c.stateNode;if(typeof v.componentDidMount=="function"){var _=c.return;try{v.componentDidMount()}catch(H){Qt(c,_,H)}}var k=c.return;try{Ny(c)}catch(H){Qt(c,k,H)}break;case 5:var I=c.return;try{Ny(c)}catch(H){Qt(c,I,H)}}}catch(H){Qt(c,c.return,H)}if(c===l){Pe=null;break}var L=c.sibling;if(L!==null){L.return=c.return,Pe=L;break}Pe=c.return}}var Az=Math.ceil,jh=P.ReactCurrentDispatcher,My=P.ReactCurrentOwner,In=P.ReactCurrentBatchConfig,ft=0,Sr=null,nr=null,jr=0,yn=0,sl=zs(0),hr=0,Su=null,Ga=0,Nh=0,Dy=0,Eu=null,rn=null,$y=0,al=1/0,rs=null,Ih=!1,Ly=null,Ys=null,Rh=!1,Xs=null,Mh=0,Ou=0,Fy=null,Dh=-1,$h=0;function Vr(){return(ft&6)!==0?er():Dh!==-1?Dh:Dh=er()}function Qs(l){return(l.mode&1)===0?1:(ft&2)!==0&&jr!==0?jr&-jr:uz.transition!==null?($h===0&&($h=PT()),$h):(l=St,l!==0||(l=window.event,l=l===void 0?16:FT(l.type)),l)}function ni(l,c,h,v){if(50<Ou)throw Ou=0,Fy=null,Error(r(185));Yc(l,h,v),((ft&2)===0||l!==Sr)&&(l===Sr&&((ft&2)===0&&(Nh|=h),hr===4&&Js(l,jr)),nn(l,v),h===1&&ft===0&&(c.mode&1)===0&&(al=er()+500,dh&&Vs()))}function nn(l,c){var h=l.callbackNode;u6(l,c);var v=Hf(l,l===Sr?jr:0);if(v===0)h!==null&&AT(h),l.callbackNode=null,l.callbackPriority=0;else if(c=v&-v,l.callbackPriority!==c){if(h!=null&&AT(h),c===1)l.tag===0?cz(FC.bind(null,l)):EA(FC.bind(null,l)),sz(function(){(ft&6)===0&&Vs()}),h=null;else{switch(jT(v)){case 1:h=yv;break;case 4:h=CT;break;case 16:h=qf;break;case 536870912:h=kT;break;default:h=qf}h=KC(h,LC.bind(null,l))}l.callbackPriority=c,l.callbackNode=h}}function LC(l,c){if(Dh=-1,$h=0,(ft&6)!==0)throw Error(r(327));var h=l.callbackNode;if(ol()&&l.callbackNode!==h)return null;var v=Hf(l,l===Sr?jr:0);if(v===0)return null;if((v&30)!==0||(v&l.expiredLanes)!==0||c)c=Lh(l,v);else{c=v;var _=ft;ft|=2;var k=BC();(Sr!==l||jr!==c)&&(rs=null,al=er()+500,Xa(l,c));do try{Pz();break}catch(L){UC(l,L)}while(!0);ny(),jh.current=k,ft=_,nr!==null?c=0:(Sr=null,jr=0,c=hr)}if(c!==0){if(c===2&&(_=bv(l),_!==0&&(v=_,c=Uy(l,_))),c===1)throw h=Su,Xa(l,0),Js(l,v),nn(l,er()),h;if(c===6)Js(l,v);else{if(_=l.current.alternate,(v&30)===0&&!Cz(_)&&(c=Lh(l,v),c===2&&(k=bv(l),k!==0&&(v=k,c=Uy(l,k))),c===1))throw h=Su,Xa(l,0),Js(l,v),nn(l,er()),h;switch(l.finishedWork=_,l.finishedLanes=v,c){case 0:case 1:throw Error(r(345));case 2:Qa(l,rn,rs);break;case 3:if(Js(l,v),(v&130023424)===v&&(c=$y+500-er(),10<c)){if(Hf(l,0)!==0)break;if(_=l.suspendedLanes,(_&v)!==v){Vr(),l.pingedLanes|=l.suspendedLanes&_;break}l.timeoutHandle=Hv(Qa.bind(null,l,rn,rs),c);break}Qa(l,rn,rs);break;case 4:if(Js(l,v),(v&4194240)===v)break;for(c=l.eventTimes,_=-1;0<v;){var I=31-Qn(v);k=1<<I,I=c[I],I>_&&(_=I),v&=~k}if(v=_,v=er()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Az(v/1960))-v,10<v){l.timeoutHandle=Hv(Qa.bind(null,l,rn,rs),v);break}Qa(l,rn,rs);break;case 5:Qa(l,rn,rs);break;default:throw Error(r(329))}}}return nn(l,er()),l.callbackNode===h?LC.bind(null,l):null}function Uy(l,c){var h=Eu;return l.current.memoizedState.isDehydrated&&(Xa(l,c).flags|=256),l=Lh(l,c),l!==2&&(c=rn,rn=h,c!==null&&By(c)),l}function By(l){rn===null?rn=l:rn.push.apply(rn,l)}function Cz(l){for(var c=l;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var _=h[v],k=_.getSnapshot;_=_.value;try{if(!Jn(k(),_))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Js(l,c){for(c&=~Dy,c&=~Nh,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var h=31-Qn(c),v=1<<h;l[h]=-1,c&=~v}}function FC(l){if((ft&6)!==0)throw Error(r(327));ol();var c=Hf(l,0);if((c&1)===0)return nn(l,er()),null;var h=Lh(l,c);if(l.tag!==0&&h===2){var v=bv(l);v!==0&&(c=v,h=Uy(l,v))}if(h===1)throw h=Su,Xa(l,0),Js(l,c),nn(l,er()),h;if(h===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,Qa(l,rn,rs),nn(l,er()),null}function qy(l,c){var h=ft;ft|=1;try{return l(c)}finally{ft=h,ft===0&&(al=er()+500,dh&&Vs())}}function Ya(l){Xs!==null&&Xs.tag===0&&(ft&6)===0&&ol();var c=ft;ft|=1;var h=In.transition,v=St;try{if(In.transition=null,St=1,l)return l()}finally{St=v,In.transition=h,ft=c,(ft&6)===0&&Vs()}}function zy(){yn=sl.current,Ft(sl)}function Xa(l,c){l.finishedWork=null,l.finishedLanes=0;var h=l.timeoutHandle;if(h!==-1&&(l.timeoutHandle=-1,iz(h)),nr!==null)for(h=nr.return;h!==null;){var v=h;switch(Jv(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&ch();break;case 3:rl(),Ft(Zr),Ft(Dr),dy();break;case 5:cy(v);break;case 4:rl();break;case 13:Ft(Yt);break;case 19:Ft(Yt);break;case 10:iy(v.type._context);break;case 22:case 23:zy()}h=h.return}if(Sr=l,nr=l=Zs(l.current,null),jr=yn=c,hr=0,Su=null,Dy=Nh=Ga=0,rn=Eu=null,Va!==null){for(c=0;c<Va.length;c++)if(h=Va[c],v=h.interleaved,v!==null){h.interleaved=null;var _=v.next,k=h.pending;if(k!==null){var I=k.next;k.next=_,v.next=I}h.pending=v}Va=null}return l}function UC(l,c){do{var h=nr;try{if(ny(),xh.current=Oh,_h){for(var v=Xt.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}_h=!1}if(Ka=0,_r=fr=Xt=null,vu=!1,yu=0,My.current=null,h===null||h.return===null){hr=1,Su=c,nr=null;break}e:{var k=l,I=h.return,L=h,H=c;if(c=jr,L.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var se=H,ve=L,be=ve.tag;if((ve.mode&1)===0&&(be===0||be===11||be===15)){var me=ve.alternate;me?(ve.updateQueue=me.updateQueue,ve.memoizedState=me.memoizedState,ve.lanes=me.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Ae=dC(I);if(Ae!==null){Ae.flags&=-257,fC(Ae,I,L,k,c),Ae.mode&1&&uC(k,se,c),c=Ae,H=se;var Ie=c.updateQueue;if(Ie===null){var Me=new Set;Me.add(H),c.updateQueue=Me}else Ie.add(H);break e}else{if((c&1)===0){uC(k,se,c),Wy();break e}H=Error(r(426))}}else if(zt&&L.mode&1){var tr=dC(I);if(tr!==null){(tr.flags&65536)===0&&(tr.flags|=256),fC(tr,I,L,k,c),ty(nl(H,L));break e}}k=H=nl(H,L),hr!==4&&(hr=2),Eu===null?Eu=[k]:Eu.push(k),k=I;do{switch(k.tag){case 3:k.flags|=65536,c&=-c,k.lanes|=c;var te=lC(k,H,c);MA(k,te);break e;case 1:L=H;var X=k.type,re=k.stateNode;if((k.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Ys===null||!Ys.has(re)))){k.flags|=65536,c&=-c,k.lanes|=c;var xe=cC(k,L,c);MA(k,xe);break e}}k=k.return}while(k!==null)}zC(h)}catch($e){c=$e,nr===h&&h!==null&&(nr=h=h.return);continue}break}while(!0)}function BC(){var l=jh.current;return jh.current=Oh,l===null?Oh:l}function Wy(){(hr===0||hr===3||hr===2)&&(hr=4),Sr===null||(Ga&268435455)===0&&(Nh&268435455)===0||Js(Sr,jr)}function Lh(l,c){var h=ft;ft|=2;var v=BC();(Sr!==l||jr!==c)&&(rs=null,Xa(l,c));do try{kz();break}catch(_){UC(l,_)}while(!0);if(ny(),ft=h,jh.current=v,nr!==null)throw Error(r(261));return Sr=null,jr=0,hr}function kz(){for(;nr!==null;)qC(nr)}function Pz(){for(;nr!==null&&!t6();)qC(nr)}function qC(l){var c=HC(l.alternate,l,yn);l.memoizedProps=l.pendingProps,c===null?zC(l):nr=c,My.current=null}function zC(l){var c=l;do{var h=c.alternate;if(l=c.return,(c.flags&32768)===0){if(h=_z(h,c,yn),h!==null){nr=h;return}}else{if(h=Sz(h,c),h!==null){h.flags&=32767,nr=h;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{hr=6,nr=null;return}}if(c=c.sibling,c!==null){nr=c;return}nr=c=l}while(c!==null);hr===0&&(hr=5)}function Qa(l,c,h){var v=St,_=In.transition;try{In.transition=null,St=1,jz(l,c,h,v)}finally{In.transition=_,St=v}return null}function jz(l,c,h,v){do ol();while(Xs!==null);if((ft&6)!==0)throw Error(r(327));h=l.finishedWork;var _=l.finishedLanes;if(h===null)return null;if(l.finishedWork=null,l.finishedLanes=0,h===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var k=h.lanes|h.childLanes;if(d6(l,k),l===Sr&&(nr=Sr=null,jr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Rh||(Rh=!0,KC(qf,function(){return ol(),null})),k=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||k){k=In.transition,In.transition=null;var I=St;St=1;var L=ft;ft|=4,My.current=null,Oz(l,h),IC(h,l),Q6(Wv),Yf=!!zv,Wv=zv=null,l.current=h,Tz(h),r6(),ft=L,St=I,In.transition=k}else l.current=h;if(Rh&&(Rh=!1,Xs=l,Mh=_),k=l.pendingLanes,k===0&&(Ys=null),s6(h.stateNode),nn(l,er()),c!==null)for(v=l.onRecoverableError,h=0;h<c.length;h++)_=c[h],v(_.value,{componentStack:_.stack,digest:_.digest});if(Ih)throw Ih=!1,l=Ly,Ly=null,l;return(Mh&1)!==0&&l.tag!==0&&ol(),k=l.pendingLanes,(k&1)!==0?l===Fy?Ou++:(Ou=0,Fy=l):Ou=0,Vs(),null}function ol(){if(Xs!==null){var l=jT(Mh),c=In.transition,h=St;try{if(In.transition=null,St=16>l?16:l,Xs===null)var v=!1;else{if(l=Xs,Xs=null,Mh=0,(ft&6)!==0)throw Error(r(331));var _=ft;for(ft|=4,Pe=l.current;Pe!==null;){var k=Pe,I=k.child;if((Pe.flags&16)!==0){var L=k.deletions;if(L!==null){for(var H=0;H<L.length;H++){var se=L[H];for(Pe=se;Pe!==null;){var ve=Pe;switch(ve.tag){case 0:case 11:case 15:_u(8,ve,k)}var be=ve.child;if(be!==null)be.return=ve,Pe=be;else for(;Pe!==null;){ve=Pe;var me=ve.sibling,Ae=ve.return;if(CC(ve),ve===se){Pe=null;break}if(me!==null){me.return=Ae,Pe=me;break}Pe=Ae}}}var Ie=k.alternate;if(Ie!==null){var Me=Ie.child;if(Me!==null){Ie.child=null;do{var tr=Me.sibling;Me.sibling=null,Me=tr}while(Me!==null)}}Pe=k}}if((k.subtreeFlags&2064)!==0&&I!==null)I.return=k,Pe=I;else e:for(;Pe!==null;){if(k=Pe,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:_u(9,k,k.return)}var te=k.sibling;if(te!==null){te.return=k.return,Pe=te;break e}Pe=k.return}}var X=l.current;for(Pe=X;Pe!==null;){I=Pe;var re=I.child;if((I.subtreeFlags&2064)!==0&&re!==null)re.return=I,Pe=re;else e:for(I=X;Pe!==null;){if(L=Pe,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Ph(9,L)}}catch($e){Qt(L,L.return,$e)}if(L===I){Pe=null;break e}var xe=L.sibling;if(xe!==null){xe.return=L.return,Pe=xe;break e}Pe=L.return}}if(ft=_,Vs(),_i&&typeof _i.onPostCommitFiberRoot=="function")try{_i.onPostCommitFiberRoot(zf,l)}catch{}v=!0}return v}finally{St=h,In.transition=c}}return!1}function WC(l,c,h){c=nl(h,c),c=lC(l,c,1),l=Ks(l,c,1),c=Vr(),l!==null&&(Yc(l,1,c),nn(l,c))}function Qt(l,c,h){if(l.tag===3)WC(l,l,h);else for(;c!==null;){if(c.tag===3){WC(c,l,h);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ys===null||!Ys.has(v))){l=nl(h,l),l=cC(c,l,1),c=Ks(c,l,1),l=Vr(),c!==null&&(Yc(c,1,l),nn(c,l));break}}c=c.return}}function Nz(l,c,h){var v=l.pingCache;v!==null&&v.delete(c),c=Vr(),l.pingedLanes|=l.suspendedLanes&h,Sr===l&&(jr&h)===h&&(hr===4||hr===3&&(jr&130023424)===jr&&500>er()-$y?Xa(l,0):Dy|=h),nn(l,c)}function VC(l,c){c===0&&((l.mode&1)===0?c=1:(c=Vf,Vf<<=1,(Vf&130023424)===0&&(Vf=4194304)));var h=Vr();l=Zi(l,c),l!==null&&(Yc(l,c,h),nn(l,h))}function Iz(l){var c=l.memoizedState,h=0;c!==null&&(h=c.retryLane),VC(l,h)}function Rz(l,c){var h=0;switch(l.tag){case 13:var v=l.stateNode,_=l.memoizedState;_!==null&&(h=_.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(c),VC(l,h)}var HC;HC=function(l,c,h){if(l!==null)if(l.memoizedProps!==c.pendingProps||Zr.current)tn=!0;else{if((l.lanes&h)===0&&(c.flags&128)===0)return tn=!1,xz(l,c,h);tn=(l.flags&131072)!==0}else tn=!1,zt&&(c.flags&1048576)!==0&&OA(c,hh,c.index);switch(c.lanes=0,c.tag){case 2:var v=c.type;Ch(l,c),l=c.pendingProps;var _=Yo(c,Dr.current);tl(c,h),_=py(null,c,v,l,_,h);var k=my();return c.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,en(v)?(k=!0,uh(c)):k=!1,c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,oy(c),_.updater=Th,c.stateNode=_,_._reactInternals=c,xy(c,v,l,h),c=Oy(null,c,v,!0,k,h)):(c.tag=0,zt&&k&&Qv(c),Wr(null,c,_,h),c=c.child),c;case 16:v=c.elementType;e:{switch(Ch(l,c),l=c.pendingProps,_=v._init,v=_(v._payload),c.type=v,_=c.tag=Dz(v),l=ei(v,l),_){case 0:c=Ey(null,c,v,l,h);break e;case 1:c=yC(null,c,v,l,h);break e;case 11:c=hC(null,c,v,l,h);break e;case 14:c=pC(null,c,v,ei(v.type,l),h);break e}throw Error(r(306,v,""))}return c;case 0:return v=c.type,_=c.pendingProps,_=c.elementType===v?_:ei(v,_),Ey(l,c,v,_,h);case 1:return v=c.type,_=c.pendingProps,_=c.elementType===v?_:ei(v,_),yC(l,c,v,_,h);case 3:e:{if(bC(c),l===null)throw Error(r(387));v=c.pendingProps,k=c.memoizedState,_=k.element,RA(l,c),bh(c,v,null,h);var I=c.memoizedState;if(v=I.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},c.updateQueue.baseState=k,c.memoizedState=k,c.flags&256){_=nl(Error(r(423)),c),c=wC(l,c,v,h,_);break e}else if(v!==_){_=nl(Error(r(424)),c),c=wC(l,c,v,h,_);break e}else for(vn=qs(c.stateNode.containerInfo.firstChild),gn=c,zt=!0,Zn=null,h=NA(c,null,v,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Jo(),v===_){c=ts(l,c,h);break e}Wr(l,c,v,h)}c=c.child}return c;case 5:return $A(c),l===null&&ey(c),v=c.type,_=c.pendingProps,k=l!==null?l.memoizedProps:null,I=_.children,Vv(v,_)?I=null:k!==null&&Vv(v,k)&&(c.flags|=32),vC(l,c),Wr(l,c,I,h),c.child;case 6:return l===null&&ey(c),null;case 13:return xC(l,c,h);case 4:return ly(c,c.stateNode.containerInfo),v=c.pendingProps,l===null?c.child=Zo(c,null,v,h):Wr(l,c,v,h),c.child;case 11:return v=c.type,_=c.pendingProps,_=c.elementType===v?_:ei(v,_),hC(l,c,v,_,h);case 7:return Wr(l,c,c.pendingProps,h),c.child;case 8:return Wr(l,c,c.pendingProps.children,h),c.child;case 12:return Wr(l,c,c.pendingProps.children,h),c.child;case 10:e:{if(v=c.type._context,_=c.pendingProps,k=c.memoizedProps,I=_.value,It(gh,v._currentValue),v._currentValue=I,k!==null)if(Jn(k.value,I)){if(k.children===_.children&&!Zr.current){c=ts(l,c,h);break e}}else for(k=c.child,k!==null&&(k.return=c);k!==null;){var L=k.dependencies;if(L!==null){I=k.child;for(var H=L.firstContext;H!==null;){if(H.context===v){if(k.tag===1){H=es(-1,h&-h),H.tag=2;var se=k.updateQueue;if(se!==null){se=se.shared;var ve=se.pending;ve===null?H.next=H:(H.next=ve.next,ve.next=H),se.pending=H}}k.lanes|=h,H=k.alternate,H!==null&&(H.lanes|=h),sy(k.return,h,c),L.lanes|=h;break}H=H.next}}else if(k.tag===10)I=k.type===c.type?null:k.child;else if(k.tag===18){if(I=k.return,I===null)throw Error(r(341));I.lanes|=h,L=I.alternate,L!==null&&(L.lanes|=h),sy(I,h,c),I=k.sibling}else I=k.child;if(I!==null)I.return=k;else for(I=k;I!==null;){if(I===c){I=null;break}if(k=I.sibling,k!==null){k.return=I.return,I=k;break}I=I.return}k=I}Wr(l,c,_.children,h),c=c.child}return c;case 9:return _=c.type,v=c.pendingProps.children,tl(c,h),_=jn(_),v=v(_),c.flags|=1,Wr(l,c,v,h),c.child;case 14:return v=c.type,_=ei(v,c.pendingProps),_=ei(v.type,_),pC(l,c,v,_,h);case 15:return mC(l,c,c.type,c.pendingProps,h);case 17:return v=c.type,_=c.pendingProps,_=c.elementType===v?_:ei(v,_),Ch(l,c),c.tag=1,en(v)?(l=!0,uh(c)):l=!1,tl(c,h),aC(c,v,_),xy(c,v,_,h),Oy(null,c,v,!0,l,h);case 19:return SC(l,c,h);case 22:return gC(l,c,h)}throw Error(r(156,c.tag))};function KC(l,c){return TT(l,c)}function Mz(l,c,h,v){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(l,c,h,v){return new Mz(l,c,h,v)}function Vy(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Dz(l){if(typeof l=="function")return Vy(l)?1:0;if(l!=null){if(l=l.$$typeof,l===$)return 11;if(l===G)return 14}return 2}function Zs(l,c){var h=l.alternate;return h===null?(h=Rn(l.tag,c,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=c,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&14680064,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,c=l.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h}function Fh(l,c,h,v,_,k){var I=2;if(v=l,typeof l=="function")Vy(l)&&(I=1);else if(typeof l=="string")I=5;else e:switch(l){case j:return Ja(h.children,_,k,c);case N:I=8,_|=8;break;case D:return l=Rn(12,h,c,_|2),l.elementType=D,l.lanes=k,l;case F:return l=Rn(13,h,c,_),l.elementType=F,l.lanes=k,l;case K:return l=Rn(19,h,c,_),l.elementType=K,l.lanes=k,l;case Q:return Uh(h,_,k,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case M:I=10;break e;case R:I=9;break e;case $:I=11;break e;case G:I=14;break e;case V:I=16,v=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return c=Rn(I,h,c,_),c.elementType=l,c.type=v,c.lanes=k,c}function Ja(l,c,h,v){return l=Rn(7,l,v,c),l.lanes=h,l}function Uh(l,c,h,v){return l=Rn(22,l,v,c),l.elementType=Q,l.lanes=h,l.stateNode={isHidden:!1},l}function Hy(l,c,h){return l=Rn(6,l,null,c),l.lanes=h,l}function Ky(l,c,h){return c=Rn(4,l.children!==null?l.children:[],l.key,c),c.lanes=h,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function $z(l,c,h,v,_){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wv(0),this.expirationTimes=wv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wv(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Gy(l,c,h,v,_,k,I,L,H){return l=new $z(l,c,h,L,H),c===1?(c=1,k===!0&&(c|=8)):c=0,k=Rn(3,null,null,c),l.current=k,k.stateNode=l,k.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},oy(k),l}function Lz(l,c,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:v==null?null:""+v,children:l,containerInfo:c,implementation:h}}function GC(l){if(!l)return Ws;l=l._reactInternals;e:{if(Ua(l)!==l||l.tag!==1)throw Error(r(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(en(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(l.tag===1){var h=l.type;if(en(h))return _A(l,h,c)}return c}function YC(l,c,h,v,_,k,I,L,H){return l=Gy(h,v,!0,l,_,k,I,L,H),l.context=GC(null),h=l.current,v=Vr(),_=Qs(h),k=es(v,_),k.callback=c??null,Ks(h,k,_),l.current.lanes=_,Yc(l,_,v),nn(l,v),l}function Bh(l,c,h,v){var _=c.current,k=Vr(),I=Qs(_);return h=GC(h),c.context===null?c.context=h:c.pendingContext=h,c=es(k,I),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=Ks(_,c,I),l!==null&&(ni(l,_,I,k),yh(l,_,I)),I}function qh(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function XC(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<c?h:c}}function Yy(l,c){XC(l,c),(l=l.alternate)&&XC(l,c)}function Fz(){return null}var QC=typeof reportError=="function"?reportError:function(l){console.error(l)};function Xy(l){this._internalRoot=l}zh.prototype.render=Xy.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(r(409));Bh(l,c,null,null)},zh.prototype.unmount=Xy.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;Ya(function(){Bh(null,l,null,null)}),c[Yi]=null}};function zh(l){this._internalRoot=l}zh.prototype.unstable_scheduleHydration=function(l){if(l){var c=RT();l={blockedOn:null,target:l,priority:c};for(var h=0;h<Fs.length&&c!==0&&c<Fs[h].priority;h++);Fs.splice(h,0,l),h===0&&$T(l)}};function Qy(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Wh(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function JC(){}function Uz(l,c,h,v,_){if(_){if(typeof v=="function"){var k=v;v=function(){var se=qh(I);k.call(se)}}var I=YC(c,v,l,0,null,!1,!1,"",JC);return l._reactRootContainer=I,l[Yi]=I.current,cu(l.nodeType===8?l.parentNode:l),Ya(),I}for(;_=l.lastChild;)l.removeChild(_);if(typeof v=="function"){var L=v;v=function(){var se=qh(H);L.call(se)}}var H=Gy(l,0,!1,null,null,!1,!1,"",JC);return l._reactRootContainer=H,l[Yi]=H.current,cu(l.nodeType===8?l.parentNode:l),Ya(function(){Bh(c,H,h,v)}),H}function Vh(l,c,h,v,_){var k=h._reactRootContainer;if(k){var I=k;if(typeof _=="function"){var L=_;_=function(){var H=qh(I);L.call(H)}}Bh(c,I,l,_)}else I=Uz(h,c,l,_,v);return qh(I)}NT=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var h=Gc(c.pendingLanes);h!==0&&(xv(c,h|1),nn(c,er()),(ft&6)===0&&(al=er()+500,Vs()))}break;case 13:Ya(function(){var v=Zi(l,1);if(v!==null){var _=Vr();ni(v,l,1,_)}}),Yy(l,1)}},_v=function(l){if(l.tag===13){var c=Zi(l,134217728);if(c!==null){var h=Vr();ni(c,l,134217728,h)}Yy(l,134217728)}},IT=function(l){if(l.tag===13){var c=Qs(l),h=Zi(l,c);if(h!==null){var v=Vr();ni(h,l,c,v)}Yy(l,c)}},RT=function(){return St},MT=function(l,c){var h=St;try{return St=l,c()}finally{St=h}},Ms=function(l,c,h){switch(c){case"input":if(mt(l,h),c=h.name,h.type==="radio"&&c!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var v=h[c];if(v!==l&&v.form===l.form){var _=lh(v);if(!_)throw Error(r(90));ne(v),mt(v,_)}}}break;case"textarea":fe(l,h);break;case"select":c=h.value,c!=null&&q(l,!!h.multiple,c,!1)}},zr=qy,Rr=Ya;var Bz={usingClientEntryPoint:!1,Events:[fu,Ko,lh,xr,hn,qy]},Tu={findFiberByHostInstance:Ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qz={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ET(l),l===null?null:l.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||Fz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{zf=Hh.inject(qz),_i=Hh}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bz,sn.createPortal=function(l,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qy(c))throw Error(r(200));return Lz(l,c,null,h)},sn.createRoot=function(l,c){if(!Qy(l))throw Error(r(299));var h=!1,v="",_=QC;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),c=Gy(l,1,!1,null,null,h,!1,v,_),l[Yi]=c.current,cu(l.nodeType===8?l.parentNode:l),new Xy(c)},sn.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=ET(c),l=l===null?null:l.stateNode,l},sn.flushSync=function(l){return Ya(l)},sn.hydrate=function(l,c,h){if(!Wh(c))throw Error(r(200));return Vh(null,l,c,!0,h)},sn.hydrateRoot=function(l,c,h){if(!Qy(l))throw Error(r(405));var v=h!=null&&h.hydratedSources||null,_=!1,k="",I=QC;if(h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onRecoverableError!==void 0&&(I=h.onRecoverableError)),c=YC(c,null,l,1,h??null,_,!1,k,I),l[Yi]=c.current,cu(l),v)for(l=0;l<v.length;l++)h=v[l],_=h._getVersion,_=_(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,_]:c.mutableSourceEagerHydrationData.push(h,_);return new zh(c)},sn.render=function(l,c,h){if(!Wh(c))throw Error(r(200));return Vh(null,l,c,!1,h)},sn.unmountComponentAtNode=function(l){if(!Wh(l))throw Error(r(40));return l._reactRootContainer?(Ya(function(){Vh(null,null,l,!1,function(){l._reactRootContainer=null,l[Yi]=null})}),!0):!1},sn.unstable_batchedUpdates=qy,sn.unstable_renderSubtreeIntoContainer=function(l,c,h,v){if(!Wh(h))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return Vh(l,c,h,!1,v)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var ak;function iL(){if(ak)return eb.exports;ak=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eb.exports=Qz(),eb.exports}var ok;function Jz(){if(ok)return Gh;ok=1;var t=iL();return Gh.createRoot=t.createRoot,Gh.hydrateRoot=t.hydrateRoot,Gh}var Zz=Jz(),Pc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},e8={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},t8=class{#e=e8;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},ho=new t8;function r8(t){setTimeout(t,0)}var Oo=typeof window>"u"||"Deno"in globalThis;function Hr(){}function n8(t,e){return typeof t=="function"?t(e):t}function X_(t){return typeof t=="number"&&t>=0&&t!==1/0}function sL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ya(t,e){return typeof t=="function"?t(e):t}function Fn(t,e){return typeof t=="function"?t(e):t}function lk(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==hE(a,e.options))return!1}else if(!wd(e.queryKey,a))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function ck(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(To(e.options.mutationKey)!==To(s))return!1}else if(!wd(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function hE(t,e){return(e?.queryKeyHashFn||To)(t)}function To(t){return JSON.stringify(t,(e,r)=>Q_(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function wd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>wd(t[r],e[r])):!1}var i8=Object.prototype.hasOwnProperty;function aL(t,e){if(t===e)return t;const r=uk(t)&&uk(e);if(!r&&!(Q_(t)&&Q_(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let u=0;for(let d=0;d<a;d++){const f=r?d:s[d],p=t[f],g=e[f];if(p===g){o[f]=p,(r?d<i:i8.call(t,f))&&u++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){o[f]=g;continue}const w=aL(p,g);o[f]=w,w===p&&u++}return i===a&&u===i?t:o}function Up(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function uk(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Q_(t){if(!dk(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!dk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dk(t){return Object.prototype.toString.call(t)==="[object Object]"}function s8(t){return new Promise(e=>{ho.setTimeout(e,t)})}function J_(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?aL(t,e):e}function a8(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function o8(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var pE=Symbol();function oL(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===pE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function lL(t,e){return typeof t=="function"?t(...e):!!t}var l8=class extends Pc{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Oo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},mE=new l8;function Z_(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var c8=r8;function u8(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=c8;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;e++;try{u=o()}finally{e--,e||a()}return u},batchCalls:o=>(...u)=>{s(()=>{o(...u)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var vr=u8(),d8=class extends Pc{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Oo&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Bp=new d8;function f8(t){return Math.min(1e3*2**t,3e4)}function cL(t){return(t??"online")==="online"?Bp.isOnline():!0}var eS=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function uL(t){let e=!1,r=0,n;const i=Z_(),s=()=>i.status!=="pending",a=y=>{if(!s()){const b=new eS(y);g(b),t.onCancel?.(b)}},o=()=>{e=!0},u=()=>{e=!1},d=()=>mE.isFocused()&&(t.networkMode==="always"||Bp.isOnline())&&t.canRun(),f=()=>cL(t.networkMode)&&t.canRun(),p=y=>{s()||(n?.(),i.resolve(y))},g=y=>{s()||(n?.(),i.reject(y))},w=()=>new Promise(y=>{n=b=>{(s()||d())&&y(b)},t.onPause?.()}).then(()=>{n=void 0,s()||t.onContinue?.()}),x=()=>{if(s())return;let y;const b=r===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(E){y=Promise.reject(E)}Promise.resolve(y).then(p).catch(E=>{if(s())return;const O=t.retry??(Oo?0:3),A=t.retryDelay??f8,P=typeof A=="function"?A(r,E):A,T=O===!0||typeof O=="number"&&r<O||typeof O=="function"&&O(r,E);if(e||!T){g(E);return}r++,t.onFail?.(r,E),s8(P).then(()=>d()?void 0:w()).then(()=>{e?g(E):x()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n?.(),i),cancelRetry:o,continueRetry:u,canStart:f,start:()=>(f()?x():w().then(x),i)}}var dL=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),X_(this.gcTime)&&(this.#e=ho.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Oo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ho.clearTimeout(this.#e),this.#e=void 0)}},h8=class extends dL{#e;#t;#r;#i;#n;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#r=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=fk(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=fk(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=J_(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(Hr).catch(Hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Fn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ya(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!sL(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(u=>u.options.queryFn);o&&this.setOptions(o.options)}const r=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const o=oL(this.options,e),d=(()=>{const f={client:this.#i,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#o=!1,this.options.persister?this.options.persister(o,d,this):o(d)},a=(()=>{const o={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return n(o),o})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta}),this.#n=uL({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof eS&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(o,u)=>{this.#s({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#n.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof eS){if(o.silent)return this.#n.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#s({type:"error",error:o}),this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#s(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...fL(r.data,this.options),fetchMeta:t.meta??null};case"success":const n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?n:void 0,n;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),vr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function fL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cL(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fk(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var p8=class extends Pc{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=Z_(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#i=void 0;#n;#a;#o;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),hk(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tS(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tS(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),e._defaulted&&!Up(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&pk(this.#t,r,this.options,e)&&this.#d(),this.updateResult(),n&&(this.#t!==r||Fn(this.options.enabled,this.#t)!==Fn(e.enabled,this.#t)||ya(this.options.staleTime,this.#t)!==ya(e.staleTime,this.#t))&&this.#g();const i=this.#v();n&&(this.#t!==r||Fn(this.options.enabled,this.#t)!==Fn(e.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return g8(this,r)&&(this.#i=r,this.#a=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),e?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,n))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Hr)),e}#g(){this.#w();const t=ya(this.options.staleTime,this.#t);if(Oo||this.#i.isStale||!X_(t))return;const r=sL(this.#i.dataUpdatedAt,t)+1;this.#c=ho.setTimeout(()=>{this.#i.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#x(),this.#l=t,!(Oo||Fn(this.options.enabled,this.#t)===!1||!X_(this.#l)||this.#l===0)&&(this.#u=ho.setInterval(()=>{(this.options.refetchIntervalInBackground||mE.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#w(){this.#c&&(ho.clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(ho.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const r=this.#t,n=this.options,i=this.#i,s=this.#n,a=this.#a,u=t!==r?t.state:this.#r,{state:d}=t;let f={...d},p=!1,g;if(e._optimisticResults){const N=this.hasListeners(),D=!N&&hk(t,e),M=N&&pk(t,r,e,n);(D||M)&&(f={...f,...fL(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:x,status:y}=f;g=f.data;let b=!1;if(e.placeholderData!==void 0&&g===void 0&&y==="pending"){let N;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(N=i.data,b=!0):N=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,N!==void 0&&(y="success",g=J_(i?.data,N,e),p=!0)}if(e.select&&g!==void 0&&!b)if(i&&g===s?.data&&e.select===this.#m)g=this.#f;else try{this.#m=e.select,g=e.select(g),g=J_(i?.data,g,e),this.#f=g,this.#s=null}catch(N){this.#s=N}this.#s&&(w=this.#s,g=this.#f,x=Date.now(),y="error");const E=f.fetchStatus==="fetching",O=y==="pending",A=y==="error",P=O&&E,T=g!==void 0,j={status:y,fetchStatus:f.fetchStatus,isPending:O,isSuccess:y==="success",isError:A,isInitialLoading:P,isLoading:P,data:g,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!O,isLoadingError:A&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&T,isStale:gE(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Fn(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const N=R=>{j.status==="error"?R.reject(j.error):j.data!==void 0&&R.resolve(j.data)},D=()=>{const R=this.#o=j.promise=Z_();N(R)},M=this.#o;switch(M.status){case"pending":t.queryHash===r.queryHash&&N(M);break;case"fulfilled":(j.status==="error"||j.data!==M.value)&&D();break;case"rejected":(j.status!=="error"||j.error!==M.reason)&&D();break}}return j}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#a=this.options,this.#n.data!==void 0&&(this.#h=this.#t),Up(e,t))return;this.#i=e;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(a=>{const o=a;return this.#i[o]!==t[o]&&s.has(o)})};this.#S({listeners:r()})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){vr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function m8(t,e){return Fn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function hk(t,e){return m8(t,e)||t.state.data!==void 0&&tS(t,e,e.refetchOnMount)}function tS(t,e,r){if(Fn(e.enabled,t)!==!1&&ya(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&gE(t,e)}return!1}function pk(t,e,r,n){return(t!==e||Fn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&gE(t,r)}function gE(t,e){return Fn(e.enabled,t)!==!1&&t.isStaleByTime(ya(e.staleTime,t))}function g8(t,e){return!Up(t.getCurrentResult(),e)}function mk(t){return{onFetch:(e,r)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const d=async()=>{let f=!1;const p=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},g=oL(e.options,e.fetchOptions),w=async(x,y,b)=>{if(f)return Promise.reject();if(y==null&&x.pages.length)return Promise.resolve(x);const O=(()=>{const C={client:e.client,queryKey:e.queryKey,pageParam:y,direction:b?"backward":"forward",meta:e.options.meta};return p(C),C})(),A=await g(O),{maxPages:P}=e.options,T=b?o8:a8;return{pages:T(x.pages,A,P),pageParams:T(x.pageParams,y,P)}};if(i&&s.length){const x=i==="backward",y=x?v8:gk,b={pages:s,pageParams:a},E=y(n,b);o=await w(b,E,x)}else{const x=t??s.length;do{const y=u===0?a[0]??n.initialPageParam:gk(n,o);if(u>0&&y==null)break;o=await w(o,y),u++}while(u<x)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=d}}}function gk(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function v8(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var y8=class extends dL{#e;#t;#r;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#r=t.mutationCache,this.#t=[],this.state=t.state||hL(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=uL({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#n({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",i=!this.#i.canStart();try{if(n)e();else{this.#n({type:"pending",variables:t,isPaused:i}),await this.#r.config.onMutate?.(t,this,r);const a=await this.options.onMutate?.(t,r);a!==this.state.context&&this.#n({type:"pending",context:a,variables:t,isPaused:i})}const s=await this.#i.start();return await this.#r.config.onSuccess?.(s,t,this.state.context,this,r),await this.options.onSuccess?.(s,t,this.state.context,r),await this.#r.config.onSettled?.(s,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(s,null,t,this.state.context,r),this.#n({type:"success",data:s}),s}catch(s){try{throw await this.#r.config.onError?.(s,t,this.state.context,this,r),await this.options.onError?.(s,t,this.state.context,r),await this.#r.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,s,t,this.state.context,r),s}finally{this.#n({type:"error",error:s})}}finally{this.#r.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),vr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#r.notify({mutation:this,type:"updated",action:t})})}};function hL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var b8=class extends Pc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,r){const n=new y8({client:t,mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=Yh(t);if(typeof e=="string"){const r=this.#t.get(e);r?r.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Yh(t);if(typeof e=="string"){const r=this.#t.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Yh(t);if(typeof e=="string"){const n=this.#t.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=Yh(t);return typeof e=="string"?this.#t.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){vr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>ck(e,r))}findAll(t={}){return this.getAll().filter(e=>ck(t,e))}notify(t){vr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return vr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Hr))))}};function Yh(t){return t.options.scope?.id}var w8=class extends Pc{#e;#t=void 0;#r;#i;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),Up(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&To(r.mutationKey)!==To(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#a()}mutate(e,r){return this.#i=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#n(){const e=this.#r?.state??hL();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){vr.batch(()=>{if(this.#i&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,r,n,i),this.#i.onSettled?.(e.data,null,r,n,i)):e?.type==="error"&&(this.#i.onError?.(e.error,r,n,i),this.#i.onSettled?.(void 0,e.error,r,n,i))}this.listeners.forEach(r=>{r(this.#t)})})}},x8=class extends Pc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,i=e.queryHash??hE(n,e);let s=this.get(i);return s||(s=new h8({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){vr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>lk(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>lk(t,r)):e}notify(t){vr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){vr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){vr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},pL=class{#e;#t;#r;#i;#n;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new x8,this.#t=t.mutationCache||new b8,this.#r=t.defaultOptions||{},this.#i=new Map,this.#n=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=mE.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Bp.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ya(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(n.queryHash)?.state.data,a=n8(e,s);if(a!==void 0)return this.#e.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return vr.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;vr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return vr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=vr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Hr).catch(Hr)}invalidateQueries(t,e={}){return vr.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=vr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Hr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(ya(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hr).catch(Hr)}fetchInfiniteQuery(t){return t.behavior=mk(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hr).catch(Hr)}ensureInfiniteQueryData(t){return t.behavior=mk(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Bp.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#i.set(To(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],r={};return e.forEach(n=>{wd(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#n.set(To(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{wd(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===pE&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},mL=S.createContext(void 0),qi=t=>{const e=S.useContext(mL);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_8=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(mL.Provider,{value:t,children:e})),gL=S.createContext(!1),S8=()=>S.useContext(gL);gL.Provider;function E8(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var O8=S.createContext(E8()),T8=()=>S.useContext(O8),A8=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},C8=t=>{S.useEffect(()=>{t.clearReset()},[t])},k8=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||lL(r,[t.error,n])),P8=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},j8=(t,e)=>t.isLoading&&t.isFetching&&!e,N8=(t,e)=>t?.suspense&&e.isPending,vk=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function I8(t,e,r){const n=S8(),i=T8(),s=qi(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=n?"isRestoring":"optimistic",P8(a),A8(a,i),C8(i);const o=!s.getQueryCache().get(a.queryHash),[u]=S.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),f=!n&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(p=>{const g=f?u.subscribe(vr.batchCalls(p)):Hr;return u.updateResult(),g},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),S.useEffect(()=>{u.setOptions(a)},[a,u]),N8(a,d))throw vk(a,u,i);if(k8({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!Oo&&j8(d,n)&&(o?vk(a,u,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(Hr).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?d:u.trackResult(d)}function On(t,e){return I8(t,p8)}function qp(t,e){const r=qi(),[n]=S.useState(()=>new w8(r,t));S.useEffect(()=>{n.setOptions(t)},[n,t]);const i=S.useSyncExternalStore(S.useCallback(a=>n.subscribe(vr.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=S.useCallback((a,o)=>{n.mutate(a,o).catch(Hr)},[n]);if(i.error&&lL(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const R8="modulepreload",M8=function(t){return"/"+t},yk={},Io=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=u(r.map(d=>{if(d=M8(d),d in yk)return;yk[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":R8,f||(g.as="script"),g.crossOrigin="",g.href=d,o&&g.setAttribute("nonce",o),document.head.appendChild(g),f)return new Promise((w,x)=>{g.addEventListener("load",w),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};var D8=function(){return null};const $8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Io(async()=>{const{default:n}=await Promise.resolve().then(()=>jc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class vE extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class bk extends vE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wk extends vE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xk extends vE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var rS;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(rS||(rS={}));var L8=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(o,u)}d((n=n.apply(t,e||[])).next())})};class F8{constructor(e,{headers:r={},customFetch:n,region:i=rS.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=$8(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return L8(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:a,body:o,signal:u}=n;let d={},{region:f}=n;f||(f=this.region);const p=new URL(`${this.url}/${r}`);f&&f!=="any"&&(d["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=o):typeof o=="string"?(d["Content-Type"]="text/plain",g=o):typeof FormData<"u"&&o instanceof FormData?g=o:(d["Content-Type"]="application/json",g=JSON.stringify(o)));const w=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:g,signal:u}).catch(E=>{throw E.name==="AbortError"?E:new bk(E)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new wk(w);if(!w.ok)throw new xk(w);let y=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield w.json():y==="application/octet-stream"?b=yield w.blob():y==="text/event-stream"?b=w:y==="multipart/form-data"?b=yield w.formData():b=yield w.text(),{data:b,error:null,response:w}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new bk(s)}:{data:null,error:s,response:s instanceof xk||s instanceof wk?s.context:void 0}}})}}var Or={},ll={},cl={},ul={},dl={},fl={},U8=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zl=U8();const B8=Zl.fetch,vL=Zl.fetch.bind(Zl),yL=Zl.Headers,q8=Zl.Request,z8=Zl.Response,jc=Object.freeze(Object.defineProperty({__proto__:null,Headers:yL,Request:q8,Response:z8,default:vL,fetch:B8},Symbol.toStringTag,{value:"Module"})),W8=Vz(jc);var Xh={},_k;function bL(){if(_k)return Xh;_k=1,Object.defineProperty(Xh,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Xh.default=t,Xh}var Sk;function wL(){if(Sk)return fl;Sk=1;var t=fl&&fl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(fl,"__esModule",{value:!0});const e=t(W8),r=t(bL());class n{constructor(s){var a,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let u=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,p,g,w;let x=null,y=null,b=null,E=d.status,O=d.statusText;if(d.ok){if(this.method!=="HEAD"){const C=await d.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?y=C:y=JSON.parse(C))}const P=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),T=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");P&&T&&T.length>1&&(b=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(x={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,E=406,O="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const P=await d.text();try{x=JSON.parse(P),Array.isArray(x)&&d.status===404&&(y=[],x=null,E=200,O="OK")}catch{d.status===404&&P===""?(E=204,O="No Content"):x={message:P}}if(x&&this.isMaybeSingle&&(!((w=x?.details)===null||w===void 0)&&w.includes("0 rows"))&&(x=null,E=200,O="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:y,count:b,status:E,statusText:O}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,p,g;return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:`${(p=d?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=d?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}}return fl.default=n,fl}var Ek;function xL(){if(Ek)return dl;Ek=1;var t=dl&&dl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(dl,"__esModule",{value:!0});const e=t(wL());class r extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:u=o}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:u=!1,format:d="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return dl.default=r,dl}var Ok;function yE(){if(Ok)return ul;Ok=1;var t=ul&&ul.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ul,"__esModule",{value:!0});const e=t(xL());class r extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const a=Array.from(new Set(s)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:a,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(i,s,a){return this.url.searchParams.append(i,`not.${s}.${a}`),this}or(i,{foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,s,a){return this.url.searchParams.append(i,`${s}.${a}`),this}}return ul.default=r,ul}var Tk;function _L(){if(Tk)return cl;Tk=1;var t=cl&&cl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cl,"__esModule",{value:!0});const e=t(yE());class r{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},u=a?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:u=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,w)=>g.concat(Object.keys(w)),[]);if(p.length>0){const g=[...new Set(p)].map(w=>`"${w}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return cl.default=r,cl}var Ak;function V8(){if(Ak)return ll;Ak=1;var t=ll&&ll.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ll,"__esModule",{value:!0});const e=t(_L()),r=t(yE());class n{constructor(s,{headers:a={},schema:o,fetch:u}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=u}from(s){const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:u=!1,count:d}={}){var f;let p;const g=new URL(`${this.url}/rpc/${s}`);let w;o||u?(p=o?"HEAD":"GET",Object.entries(a).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{g.searchParams.append(y,b)})):(p="POST",w=a);const x=new Headers(this.headers);return d&&x.set("Prefer",`count=${d}`),new r.default({method:p,url:g,headers:x,schema:this.schemaName,body:w,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return ll.default=n,ll}var Ck;function H8(){if(Ck)return Or;Ck=1;var t=Or&&Or.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Or,"__esModule",{value:!0}),Or.PostgrestError=Or.PostgrestBuilder=Or.PostgrestTransformBuilder=Or.PostgrestFilterBuilder=Or.PostgrestQueryBuilder=Or.PostgrestClient=void 0;const e=t(V8());Or.PostgrestClient=e.default;const r=t(_L());Or.PostgrestQueryBuilder=r.default;const n=t(yE());Or.PostgrestFilterBuilder=n.default;const i=t(xL());Or.PostgrestTransformBuilder=i.default;const s=t(wL());Or.PostgrestBuilder=s.default;const a=t(bL());return Or.PostgrestError=a.default,Or.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},Or}var K8=H8();const G8=_t(K8),{PostgrestClient:Y8,PostgrestQueryBuilder:iwe,PostgrestFilterBuilder:swe,PostgrestTransformBuilder:awe,PostgrestBuilder:owe,PostgrestError:lwe}=G8;class X8{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Q8="2.75.0",J8=`realtime-js/${Q8}`,Z8="1.0.0",nS=1e4,eW=1e3,tW=100;var td;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(td||(td={}));var mr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(mr||(mr={}));var oi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(oi||(oi={}));var iS;(function(t){t.websocket="websocket"})(iS||(iS={}));var co;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(co||(co={}));class rW{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+i));a=a+i;const u=n.decode(e.slice(a,a+s));a=a+s;const d=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:u,payload:d}}}class SL{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Rt||(Rt={}));const kk=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=nW(a,t,e,i),s),{}):{}},nW=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i?.type,a=r[t];return s&&!n.includes(s)?EL(s,a):sS(a)},EL=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return oW(e,r)}switch(t){case Rt.bool:return iW(e);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return sW(e);case Rt.json:case Rt.jsonb:return aW(e);case Rt.timestamp:return lW(e);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return sS(e);default:return sS(e)}},sS=t=>t,iW=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},sW=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},aW=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},oW=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>EL(e,o))}return t},lW=t=>typeof t=="string"?t.replace(" ","T"):t,OL=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class nb{constructor(e,r,n={},i=nS){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pk;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pk||(Pk={}));class rd{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rd.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=rd.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=rd.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},u={};return this.map(s,(d,f)=>{a[d]||(u[d]=f)}),this.map(a,(d,f)=>{const p=s[d];if(p){const g=f.map(b=>b.presence_ref),w=p.map(b=>b.presence_ref),x=f.filter(b=>w.indexOf(b.presence_ref)<0),y=p.filter(b=>g.indexOf(b.presence_ref)<0);x.length>0&&(o[d]=x),y.length>0&&(u[d]=y)}else o[d]=f}),this.syncDiff(s,{joins:o,leaves:u},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,u)=>{var d;const f=(d=e[o])!==null&&d!==void 0?d:[];if(e[o]=this.cloneDeep(u),f.length>0){const p=e[o].map(w=>w.presence_ref),g=f.filter(w=>p.indexOf(w.presence_ref)<0);e[o].unshift(...g)}n(o,f,u)}),this.map(a,(o,u)=>{let d=e[o];if(!d)return;const f=u.map(p=>p.presence_ref);d=d.filter(p=>f.indexOf(p.presence_ref)<0),e[o]=d,i(o,d,u),d.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jk;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(jk||(jk={}));var nd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(nd||(nd={}));var cs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(cs||(cs={}));class bE{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=mr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new nb(this,oi.join,this.params,this.timeout),this.rejoinTimer=new SL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oi.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new rd(this),this.broadcastEndpointURL=OL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==mr.closed){const{config:{broadcast:a,presence:o,private:u}}=this.params,d=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[nd.PRESENCE]&&this.bindings[nd.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(cs.CHANNEL_ERROR,w)),this._onClose(()=>e?.(cs.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var x;if(this.socket.setAuth(),w===void 0){e?.(cs.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(x=y?.length)!==null&&x!==void 0?x:0,E=[];for(let O=0;O<b;O++){const A=y[O],{filter:{event:P,schema:T,table:C,filter:j}}=A,N=w&&w[O];if(N&&N.event===P&&N.schema===T&&N.table===C&&N.filter===j)E.push(Object.assign(Object.assign({},A),{id:N.id}));else{this.unsubscribe(),this.state=mr.errored,e?.(cs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(cs.SUBSCRIBED);return}}).receive("error",w=>{this.state=mr.errored,e?.(cs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(cs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===mr.joined&&e===nd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,u;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=mr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new nb(this,oi.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new nb(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>tW){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:u,leave:d,join:f}=oi;if(n&&[o,u,d,f].indexOf(a)>=0&&n!==this._joinRef())return;let g=this._onMessage(a,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var x,y,b;return((x=w.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(y=w.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(w=>w.callback(g,n)):(s=this.bindings[a])===null||s===void 0||s.filter(w=>{var x,y,b,E,O,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in w){const P=w.id,T=(x=w.filter)===null||x===void 0?void 0:x.event;return P&&((y=r.ids)===null||y===void 0?void 0:y.includes(P))&&(T==="*"||T?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const P=(O=(E=w?.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return P==="*"||P===((A=r?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===a}).map(w=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:y,table:b,commit_timestamp:E,type:O,errors:A}=x;g=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:E,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(x))}w.callback(g,n)})}_isClosed(){return this.state===mr.closed}_isJoined(){return this.state===mr.joined}_isJoining(){return this.state===mr.joining}_isLeaving(){return this.state===mr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&bE.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(oi.close,{},e)}_onError(e){this._on(oi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=kk(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=kk(e.columns,e.old_record)),r}}const ib=()=>{},Qh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cW=[1e3,2e3,5e3,1e4],uW=1e4,dW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fW{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nS,this.transport=null,this.heartbeatIntervalMs=Qh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ib,this.ref=0,this.reconnectTimer=null,this.logger=ib,this.conn=null,this.sendBuffer=[],this.serializer=new rW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>Io(async()=>{const{default:o}=await Promise.resolve().then(()=>jc);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${iS.websocket}`,this.httpEndpoint=OL(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=X8.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Z8}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case td.connecting:return co.Connecting;case td.open:return co.Open;case td.closing:return co.Closing;default:return co.Closed}}isConnected(){return this.connectionState()===co.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new bE(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(eW,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Qh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${n} ${i} ${o}`.trim(),s),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(oi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([dW],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:J8};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(oi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new SL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,u,d,f;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:nS,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Qh.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e?.heartbeatCallback)!==null&&o!==void 0?o:ib,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(p=>cW[p-1]||uW),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((p,g)=>g(JSON.stringify(p))),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class wE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ar(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class hW extends wE{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class aS extends wE{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var pW=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(o,u)}d((n=n.apply(t,e||[])).next())})};const TL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Io(async()=>{const{default:n}=await Promise.resolve().then(()=>jc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},mW=()=>pW(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Io(()=>Promise.resolve().then(()=>jc),void 0)).Response:Response}),oS=t=>{if(Array.isArray(t))return t.map(r=>oS(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=oS(n)}),e},gW=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ro=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(o,u)}d((n=n.apply(t,e||[])).next())})};const sb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vW=(t,e,r)=>Ro(void 0,void 0,void 0,function*(){const n=yield mW();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const s=t.status||500,a=i?.statusCode||s+"";e(new hW(sb(i),s,a))}).catch(i=>{e(new aS(sb(i),i))}):e(new aS(sb(t),t))}),yW=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(gW(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function gf(t,e,r,n,i,s){return Ro(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,yW(e,n,i,s)).then(u=>{if(!u.ok)throw u;return n?.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>vW(u,o,n))})})}function zp(t,e,r,n){return Ro(this,void 0,void 0,function*(){return gf(t,"GET",e,r,n)})}function Ai(t,e,r,n,i){return Ro(this,void 0,void 0,function*(){return gf(t,"POST",e,n,i,r)})}function lS(t,e,r,n,i){return Ro(this,void 0,void 0,function*(){return gf(t,"PUT",e,n,i,r)})}function bW(t,e,r,n){return Ro(this,void 0,void 0,function*(){return gf(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function AL(t,e,r,n,i){return Ro(this,void 0,void 0,function*(){return gf(t,"DELETE",e,n,i,r)})}var wW=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(o,u)}d((n=n.apply(t,e||[])).next())})};class xW{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return wW(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ar(e))return{data:null,error:e};throw e}})}}var _W=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(o,u)}d((n=n.apply(t,e||[])).next())})};class SW{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new xW(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return _W(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ar(e))return{data:null,error:e};throw e}})}}var an=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(o,u)}d((n=n.apply(t,e||[])).next())})};const EW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class OW{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=TL(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return an(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Nk),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(o=Object.assign(Object.assign({},o),i.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),p=yield(e=="PUT"?lS:Ai)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:o},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ar(s))return{data:null,error:s};throw s}})}upload(e,r,n){return an(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return an(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const d=Object.assign({upsert:Nk.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const p=yield lS(this.fetch,o.toString(),u,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ar(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return an(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield Ai(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new wE("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}})}update(e,r,n){return an(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return an(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ar(i))return{data:null,error:i};throw i}})}copy(e,r,n){return an(this,void 0,void 0,function*(){try{return{data:{path:(yield Ai(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ar(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return an(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Ai(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ar(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return an(this,void 0,void 0,function*(){try{const i=yield Ai(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ar(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),u=()=>zp(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new SW(u,this.shouldThrowOnError)}info(e){return an(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield zp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:oS(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}})}exists(e){return an(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield bW(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ar(n)&&n instanceof aS){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof r?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(r?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(e){return an(this,void 0,void 0,function*(){try{return{data:yield AL(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}})}list(e,r,n){return an(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},EW),r),{prefix:e||""});return{data:yield Ai(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ar(i))return{data:null,error:i};throw i}})}listV2(e,r){return an(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ai(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const TW="2.75.0",AW={"X-Client-Info":`storage-js/${TW}`};var hl=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(o,u)}d((n=n.apply(t,e||[])).next())})};class CW{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AW),r),this.fetch=TL(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return hl(this,void 0,void 0,function*(){try{return{data:yield zp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ar(e))return{data:null,error:e};throw e}})}getBucket(e){return hl(this,void 0,void 0,function*(){try{return{data:yield zp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}})}createBucket(e){return hl(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ai(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ar(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return hl(this,void 0,void 0,function*(){try{return{data:yield lS(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}})}emptyBucket(e){return hl(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}})}deleteBucket(e){return hl(this,void 0,void 0,function*(){try{return{data:yield AL(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}})}}class kW extends CW{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new OW(this.url,this.headers,e,this.fetch)}}const PW="2.75.0";let Vu="";typeof Deno<"u"?Vu="deno":typeof document<"u"?Vu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vu="react-native":Vu="node";const jW={"X-Client-Info":`supabase-js-${Vu}/${PW}`},NW={headers:jW},IW={schema:"public"},RW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MW={};var DW=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(o,u)}d((n=n.apply(t,e||[])).next())})};const $W=t=>{let e;return t?e=t:typeof fetch>"u"?e=vL:e=fetch,(...r)=>e(...r)},LW=()=>typeof Headers>"u"?yL:Headers,FW=(t,e,r)=>{const n=$W(r),i=LW();return(s,a)=>DW(void 0,void 0,void 0,function*(){var o;const u=(o=yield e())!==null&&o!==void 0?o:t;let d=new i(a?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(s,Object.assign(Object.assign({},a),{headers:d}))})};var UW=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(o,u)}d((n=n.apply(t,e||[])).next())})};function BW(t){return t.endsWith("/")?t:t+"/"}function qW(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:u,auth:d,realtime:f,global:p}=e,g={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=o?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>UW(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function zW(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(BW(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const CL="2.75.0",kl=30*1e3,cS=3,ab=cS*kl,WW="http://localhost:9999",VW="supabase.auth.token",HW={"X-Client-Info":`gotrue-js/${CL}`},uS="X-Supabase-Api-Version",kL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GW=600*1e3;class xd extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function qe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class YW extends xd{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function XW(t){return qe(t)&&t.name==="AuthApiError"}class uo extends xd{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ja extends xd{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class sa extends ja{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QW(t){return qe(t)&&t.name==="AuthSessionMissingError"}class pl extends ja{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jh extends ja{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zh extends ja{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function JW(t){return qe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ik extends ja{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dS extends ja{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ob(t){return qe(t)&&t.name==="AuthRetryableFetchError"}class Rk extends ja{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fS extends ja{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mk=` 	
\r=`.split(""),ZW=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Mk.length;e+=1)t[Mk[e].charCodeAt(0)]=-2;for(let e=0;e<Wp.length;e+=1)t[Wp[e].charCodeAt(0)]=e;return t})();function Dk(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wp[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wp[n]),e.queuedBits-=6}}function PL(t,e,r){const n=ZW[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $k(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{rV(a,n,r)};for(let a=0;a<t.length;a+=1)PL(t.charCodeAt(a),i,s);return e.join("")}function eV(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function tV(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}eV(n,e)}}function rV(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ul(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)PL(t.charCodeAt(i),r,n);return new Uint8Array(e)}function nV(t){const e=[];return tV(t,r=>e.push(r)),new Uint8Array(e)}function po(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Dk(i,r,n)),Dk(null,r,n),e.join("")}function iV(t){return Math.round(Date.now()/1e3)+t}function sV(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const bn=()=>typeof window<"u"&&typeof document<"u",Za={tested:!1,writable:!1},jL=()=>{if(!bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Za.tested)return Za.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Za.tested=!0,Za.writable=!0}catch{Za.tested=!0,Za.writable=!1}return Za.writable};function aV(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const NL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Io(async()=>{const{default:n}=await Promise.resolve().then(()=>jc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},oV=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},eo=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ta=async(t,e)=>{await t.removeItem(e)};let IL=class RL{constructor(){this.promise=new RL.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};IL.promiseConstructor=Promise;function lb(t){const e=t.split(".");if(e.length!==3)throw new fS("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!KW.test(e[n]))throw new fS("JWT not in base64url format");return{header:JSON.parse($k(e[0])),payload:JSON.parse($k(e[1])),signature:Ul(e[2]),raw:{header:e[0],payload:e[1]}}}async function lV(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function cV(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function uV(t){return("0"+t.toString(16)).substr(-2)}function dV(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,uV).join("")}async function fV(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function hV(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await fV(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ml(t,e,r=!1){const n=dV();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Pl(t,`${e}-code-verifier`,i);const s=await hV(n);return[s,n===s?"plain":"s256"]}const pV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mV(t){const e=t.headers.get(uS);if(!e||!e.match(pV))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gV(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function vV(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gl(t){if(!yV.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cb(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Lk(t){return JSON.parse(JSON.stringify(t))}var bV=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const so=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wV=[502,503,504];async function Fk(t){var e;if(!oV(t))throw new dS(so(t),0);if(wV.includes(t.status))throw new dS(so(t),t.status);let r;try{r=await t.json()}catch(s){throw new uo(so(s),s)}let n;const i=mV(t);if(i&&i.getTime()>=kL["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Rk(so(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new sa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Rk(so(r),t.status,r.weak_password.reasons);throw new YW(so(r),t.status||500,n)}const xV=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ye(t,e,r,n){var i;const s=Object.assign({},n?.headers);s[uS]||(s[uS]=kL["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await _V(t,e,r+o,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(u):{data:Object.assign({},u),error:null}}async function _V(t,e,r,n,i,s){const a=xV(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(u){throw console.error(u),new dS(so(u),0)}if(o.ok||await Fk(o),n?.noResolveJson)return o;try{return await o.json()}catch(u){await Fk(u)}}function si(t){var e;let r=null;OV(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=iV(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Uk(t){const e=si(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function da(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function SV(t){return{data:t,error:null}}function EV(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=bV(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function Bk(t){return t}function OV(t){return t.access_token&&t.refresh_token&&t.expires_in}const ub=["global","local","others"];var TV=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class AV{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=NL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ub[0]){if(ub.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ub.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:da})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=TV(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:EV,redirectTo:r?.redirectTo})}catch(r){if(qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:da})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,u;try{const d={nextPage:null,lastPage:0,total:0},f=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Bk});if(f.error)throw f.error;const p=await f.json(),g=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,w=(u=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return w.length>0&&(w.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);d[`${b}Page`]=y}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(qe(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){gl(e);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:da})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){gl(e);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:da})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){gl(e);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:da})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){gl(e.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){gl(e.userId),gl(e.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,u;try{const d={nextPage:null,lastPage:0,total:0},f=await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Bk});if(f.error)throw f.error;const p=await f.json(),g=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,w=(u=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return w.length>0&&(w.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);d[`${b}Page`]=y}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(qe(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}}function qk(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const vl={debug:!!(globalThis&&jL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ML extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class CV extends ML{}async function kV(t,e,r){vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),vl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new CV(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(vl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function PV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function DL(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function jV(t){return parseInt(t,16)}function NV(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function IV(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:u,resources:d,scheme:f,uri:p,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=DL(t.address),x=f?`${f}://${n}`:n,y=t.statement?`${t.statement}
`:"",b=`${x} wants you to sign in with your Ethereum account:
${w}

${y}`;let E=`URI: ${p}
Version: ${g}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),o&&(E+=`
Not Before: ${o.toISOString()}`),u&&(E+=`
Request ID: ${u}`),d){let O=`
Resources:`;for(const A of d){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}E+=O}return`${b}
${E}`}class sr extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Vp extends sr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function RV({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new sr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new sr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new sr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new sr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new sr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new sr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new sr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new sr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(LL(a)){if(s.rp.id!==a)return new sr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new sr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new sr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function MV({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new sr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new sr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(LL(n)){if(r.rpId!==n)return new sr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new sr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var $L=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class DV{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const $V=new DV;function LV(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=$L(t,["challenge","user","excludeCredentials"]),s=Ul(e).buffer,a=Object.assign(Object.assign({},r),{id:Ul(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];o.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Ul(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function FV(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=$L(t,["challenge","allowCredentials"]),i=Ul(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Ul(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function UV(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:po(new Uint8Array(t.response.attestationObject)),clientDataJSON:po(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function BV(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:po(new Uint8Array(i.authenticatorData)),clientDataJSON:po(new Uint8Array(i.clientDataJSON)),signature:po(new Uint8Array(i.signature)),userHandle:i.userHandle?po(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function LL(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function zk(){var t,e;return!!(bn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function qV(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vp("Browser returned unexpected credential type",e)}:{data:null,error:new Vp("Empty credential response",e)}}catch(e){return{data:null,error:RV({error:e,options:t})}}}async function zV(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vp("Browser returned unexpected credential type",e)}:{data:null,error:new Vp("Empty credential response",e)}}catch(e){return{data:null,error:MV({error:e,options:t})}}}const WV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},VV={userVerification:"preferred",hints:["security-key"]};function Hp(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=Hp(o,a):n[s]=Hp(a)}else n[s]=a}return n}function HV(t,e){return Hp(WV,t,e||{})}function KV(t,e){return Hp(VV,t,e||{})}class GV{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:o};const u=i??$V.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=HV(a.webauthn.credential_options.publicKey,s?.create),{data:f,error:p}=await qV({publicKey:d,signal:u});return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const d=KV(a.webauthn.credential_options.publicKey,s?.request),{data:f,error:p}=await zV(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(a){return qe(a)?{data:null,error:a}:{data:null,error:new uo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new xd("rpId is required for WebAuthn authentication")};try{if(!zk())return{data:null,error:new uo("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return qe(a)?{data:null,error:a}:{data:null,error:new uo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new xd("rpId is required for WebAuthn registration")};try{if(!zk())return{data:null,error:new uo("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:o};const{data:u,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(a){return qe(a)?{data:null,error:a}:{data:null,error:new uo("Unexpected error in register",a)}}}}PV();const YV={url:WW,storageKey:VW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wk(t,e,r){return await r()}const yl={};class _d{get jwks(){var e,r;return(r=(e=yl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){yl[this.storageKey]=Object.assign(Object.assign({},yl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=yl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){yl[this.storageKey]=Object.assign(Object.assign({},yl[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_d.nextInstanceID,_d.nextInstanceID+=1,this.instanceID>0&&bn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},YV),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new AV({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=NL(i.fetch),this.lock=i.lock||Wk,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:bn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=kV:this.lock=Wk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new GV(this)},this.persistSession?(i.storage?this.storage=i.storage:jL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qk(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=qk(this.memoryStorage)),bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${CL}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=aV(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),bn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),JW(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return qe(r)?{error:r}:{error:new uo("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:si}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(qe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:f,password:p,options:g}=e;let w=null,x=null;this.flowType==="pkce"&&([w,x]=await ml(this.storage,this.storageKey)),s=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:w,code_challenge_method:x},xform:si})}else if("phone"in e){const{phone:f,password:p,options:g}=e;s=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:si})}else throw new Jh("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(qe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Uk})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Uk})}else throw new Jh("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new pl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,u,d,f,p,g;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:y,wallet:b,statement:E,options:O}=e;let A;if(bn())if(typeof b=="object")A=b;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")A=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=b}const P=new URL((r=O?.url)!==null&&r!==void 0?r:window.location.href),T=await A.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=DL(T[0]);let j=(n=O?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const D=await A.request({method:"eth_chainId"});j=jV(D)}const N={domain:P.host,address:C,statement:E,uri:P.href,version:"1",chainId:j,nonce:(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=O?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=O?.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=O?.signInWithEthereum)===null||f===void 0?void 0:f.resources};w=IV(N),x=await A.request({method:"personal_sign",params:[NV(w),C]})}try{const{data:y,error:b}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:x},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:si});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new pl}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(qe(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var r,n,i,s,a,o,u,d,f,p,g,w;let x,y;if("message"in e)x=e.message,y=e.signature;else{const{chain:b,wallet:E,statement:O,options:A}=e;let P;if(bn())if(typeof E=="object")P=E;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))P=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=E}const T=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const C=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),O?{statement:O}:null));let j;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")j=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)j=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)x=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${T.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(n=A?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((a=A?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(f=A?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const C=await P.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=C}}try{const{data:b,error:E}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:po(y)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:si});if(E)throw E;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new pl}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:E})}catch(b){if(qe(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await eo(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:si});if(await ta(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new pl}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(qe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:si}),{data:u,error:d}=o;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new pl}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:u}=e;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await ml(this.storage,this.storageKey));const{error:p}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(n=u?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:o,options:u}=e,{data:d,error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new Jh("You must provide either an email or phone number.")}catch(o){if(qe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:si});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(qe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await ml(this.storage,this.storageKey)),await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:SV})}catch(s){if(qe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new sa;const{error:i}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(qe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:o}}throw new Jh("You must provide either an email or phone number and a type")}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await eo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ab:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await eo(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=cb()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,f)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,f))})}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:da}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sa}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:da})})}catch(r){if(qe(r))return QW(r)&&(await this._removeSession(),await ta(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new sa;const a=i.session;let o=null,u=null;this.flowType==="pkce"&&e.email!=null&&([o,u]=await ml(this.storage,this.storageKey));const{data:d,error:f}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:da});if(f)throw f;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new sa;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=lb(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(qe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new sa;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!bn())throw new Zh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ik("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ik("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:u,token_type:d}=e;if(!s||!o||!a||!d)throw new Zh("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(o);let g=f+p;u&&(g=parseInt(u));const w=g-f;w*1e3<=kl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${p}s`);const x=g-p;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,f);const{data:y,error:b}=await this._getUser(s);if(b)throw b;const E={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:a,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(n){if(qe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await eo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(XW(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await ta(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=sV(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ml(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(qe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,u,d,f;const{data:p,error:g}=s;if(g)throw g;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",w,{headers:this.headers,jwt:(f=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return bn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(qe(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:u,access_token:d,nonce:f}=e,p=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:u,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:si}),{data:g,error:w}=p;return w?{data:{user:null,session:null},error:w}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new pl}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:w})}catch(i){if(qe(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await cV(async i=>(i>0&&await lV(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:si})),(i,s)=>{const a=200*Math.pow(2,i);return s&&ob(s)&&Date.now()+a-n<kl})}catch(n){if(this._debug(r,"error",n),qe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),bn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await eo(this.storage,this.storageKey);if(i&&this.userStorage){let a=await eo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Pl(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:cb()}else if(i&&!i.user&&!i.user){const a=await eo(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await ta(this.storage,this.storageKey+"-user"),await Pl(this.storage,this.storageKey,i)):i.user=cb()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ab;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ab}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),ob(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new sa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new IL;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new sa;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),qe(s)){const a={data:null,error:s};return ob(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pl(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Lk(i);await Pl(this.storage,this.storageKey,s)}else{const i=Lk(r);await Pl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ta(this.storage,this.storageKey),await ta(this.storage,this.storageKey+"-code-verifier"),await ta(this.storage,this.storageKey+"-user"),this.userStorage&&await ta(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&bn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/kl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${kl}ms, refresh threshold is ${cS} ticks`),i<=cS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ML)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ml(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:d}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?UV(e.webauthn.credential_response):BV(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:u}=await Ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:u})})}catch(r){if(qe(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const a=await Ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:LV(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:FV(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(qe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=lb(i.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+GW>i)return n;const{data:s,error:a}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:w,error:x}=await this.getSession();if(x||!w.session)return{data:null,error:x};n=w.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:u}}=lb(n);r?.allowExpired||gV(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:s,header:i,signature:a},error:null}}const f=vV(i.alg),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,a,nV(`${o}.${u}`)))throw new fS("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}}_d.nextInstanceID=0;const XV=_d;class QV extends XV{constructor(e){super(e)}}var JV=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(o,u)}d((n=n.apply(t,e||[])).next())})};class ZV{constructor(e,r,n){var i,s,a;this.supabaseUrl=e,this.supabaseKey=r;const o=zW(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:IW,realtime:MW,auth:Object.assign(Object.assign({},RW),{storageKey:u}),global:NW},f=qW(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=FW(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Y8(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new kW(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new F8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return JV(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:u,debug:d},f,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QV({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),f),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:u,debug:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new fW(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eH=(t,e,r)=>new ZV(t,e,r);function tH(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}tH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rH=void 0,nH=void 0;console.warn("Supabase envs missing: VITE_SUPABASE_URL / VITE_SUPABASE_ANON");const hi=eH(rH,nH),FL=S.createContext(null);function iH({children:t}){const[e,r]=S.useState(null),[n,i]=S.useState(!0);S.useEffect(()=>{let a=!1;const{data:o}=hi.auth.onAuthStateChange(async(u,d)=>{if(u==="INITIAL_SESSION"){r(d??null),i(!1),a=!0;return}if((u==="SIGNED_IN"||u==="TOKEN_REFRESHED"||u==="USER_UPDATED")&&r(d??null),u==="SIGNED_OUT"){r(null),Xq.clear();try{localStorage.removeItem("ctp_watchlist"),localStorage.removeItem("ctp_filters")}catch{}window.location.replace("/#/account")}});return hi.auth.getSession().then(({data:u})=>{a||(r(u.session??null),i(!1))}),()=>{o.subscription.unsubscribe()}},[]);const s=S.useMemo(()=>({session:e,user:e?.user??null,loading:n,signOut:async()=>{await hi.auth.signOut()}}),[e,n]);return m.jsx(FL.Provider,{value:s,children:t})}function ks(){const t=S.useContext(FL);if(!t)throw new Error("useAuth must be used within <AuthProvider>");return t}function sH(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,s,a=[],o="",u=t.split("/");for(u[0]||u.shift();i=u.shift();)r=i[0],r==="*"?(a.push(r),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),s=i.indexOf(".",1),a.push(i.substring(1,~n?n:~s?s:i.length)),o+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(o+=(~n?"?":"")+"\\"+i.substring(s))):o+="/"+i;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var db={exports:{}},fb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vk;function aH(){if(Vk)return fb;Vk=1;var t=fg();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(p,g){var w=g(),x=n({inst:{value:w,getSnapshot:g}}),y=x[0].inst,b=x[1];return s(function(){y.value=w,y.getSnapshot=g,u(y)&&b({inst:y})},[p,w,g]),i(function(){return u(y)&&b({inst:y}),p(function(){u(y)&&b({inst:y})})},[p]),a(w),w}function u(p){var g=p.getSnapshot;p=p.value;try{var w=g();return!r(p,w)}catch{return!0}}function d(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return fb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,fb}var Hk;function oH(){return Hk||(Hk=1,db.exports=aH()),db.exports}var UL=oH();const lH=fE.useInsertionEffect,cH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BL=cH?S.useLayoutEffect:S.useEffect,uH=lH||BL,xE=t=>{const e=S.useRef([t,(...r)=>e[0](...r)]).current;return uH(()=>{e[0]=t}),e[1]},dH="popstate",_E="pushState",SE="replaceState",fH="hashchange",Kk=[dH,_E,SE,fH],hH=t=>{for(const e of Kk)addEventListener(e,t);return()=>{for(const e of Kk)removeEventListener(e,t)}},qL=(t,e)=>UL.useSyncExternalStore(hH,t,e),pH=()=>location.search,mH=({ssrSearch:t=""}={})=>qL(pH,()=>t),Gk=()=>location.pathname,gH=({ssrPath:t}={})=>qL(Gk,t?()=>t:Gk),vH=(t,{replace:e=!1,state:r=null}={})=>history[e?SE:_E](r,"",t),yH=(t={})=>[gH(t),vH],Yk=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Yk]>"u"){for(const t of[_E,SE]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Yk,{value:!0})}const bH=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",zL=(t="")=>t==="/"?"":t,wH=(t,e)=>t[0]==="~"?t.slice(1):zL(e)+t,xH=(t="",e)=>bH(Xk(zL(t)),Xk(e)),Xk=t=>{try{return decodeURI(t)}catch{return t}},WL={hook:yH,searchHook:mH,parser:sH,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},VL=S.createContext(WL),Mo=()=>S.useContext(VL),HL={},KL=S.createContext(HL),_H=()=>S.useContext(KL),vf=t=>{const[e,r]=t.hook(t);return[xH(t.base,e),xE((n,i)=>r(wH(n,t.base),i))]},Ps=()=>vf(Mo()),EE=(t,e,r,n)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),a=i.exec(r)||[],[o,...u]=a;return o!==void 0?[!0,(()=>{const d=s!==!1?Object.fromEntries(s.map((p,g)=>[p,u[g]])):a.groups;let f={...u};return d&&Object.assign(f,d),f})(),...n?[o]:[]]:[!1,null]},SH=t=>EE(Mo().parser,t,Ps()[0]),GL=({children:t,...e})=>{const r=Mo(),n=e.hook?WL:r;let i=n;const[s,a]=e.ssrPath?.split("?")??[];a&&(e.ssrSearch=a,e.ssrPath=s),e.hrefs=e.hrefs??e.hook?.hrefs;let o=S.useRef({}),u=o.current,d=u;for(let f in n){const p=f==="base"?n[f]+(e[f]||""):e[f]||n[f];u===d&&p!==d[f]&&(o.current=d={...d}),d[f]=p,(p!==n[f]||p!==i[f])&&(i=d)}return S.createElement(VL.Provider,{value:i,children:t})},Qk=({children:t,component:e},r)=>e?S.createElement(e,{params:r}):typeof t=="function"?t(r):t,EH=t=>{let e=S.useRef(HL);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,i])=>i!==r[n])?t:r},on=({path:t,nest:e,match:r,...n})=>{const i=Mo(),[s]=vf(i),[a,o,u]=r??EE(i.parser,t,s,e),d=EH({..._H(),...o});if(!a)return null;const f=u?S.createElement(GL,{base:u},Qk(n,d)):Qk(n,d);return S.createElement(KL.Provider,{value:d,children:f})},Wt=S.forwardRef((t,e)=>{const r=Mo(),[n,i]=vf(r),{to:s="",href:a=s,onClick:o,asChild:u,children:d,className:f,replace:p,state:g,...w}=t,x=xE(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(o?.(b),b.defaultPrevented||(b.preventDefault(),i(a,t)))}),y=r.hrefs(a[0]==="~"?a.slice(1):r.base+a,r);return u&&S.isValidElement(d)?S.cloneElement(d,{onClick:x,href:y}):S.createElement("a",{...w,onClick:x,href:y,className:f?.call?f(n===a):f,children:d,ref:e})}),YL=t=>Array.isArray(t)?t.flatMap(e=>YL(e&&e.type===S.Fragment?e.props.children:e)):[t],OH=({children:t,location:e})=>{const r=Mo(),[n]=vf(r);for(const i of YL(t)){let s=0;if(S.isValidElement(i)&&(s=EE(r.parser,i.props.path,e||n,i.props.nest))[0])return S.cloneElement(i,{match:s})}return null},Hu=t=>{const{to:e,href:r=e}=t,n=Mo(),[,i]=vf(n),s=xE(()=>i(e||r,t)),{ssrContext:a}=n;return BL(()=>{s()},[]),a&&(a.redirectTo=e),null},Ku={v:[]},Jk=()=>Ku.v.forEach(t=>t()),TH=t=>(Ku.v.push(t)===1&&addEventListener("hashchange",Jk),()=>{Ku.v=Ku.v.filter(e=>e!==t),Ku.v.length||removeEventListener("hashchange",Jk)}),AH=()=>"/"+location.hash.replace(/^#?\/?/,""),CH=(t,{state:e=null,replace:r=!1}={})=>{const[n,i]=t.replace(/^#?\/?/,"").split("?"),s=location.pathname+(i?`?${i}`:location.search)+`#/${n}`,a=location.href,o=new URL(s,location.origin).href;r?history.replaceState(e,"",s):history.pushState(e,"",s);const u=typeof HashChangeEvent<"u"?new HashChangeEvent("hashchange",{oldURL:a,newURL:o}):new Event("hashchange",{detail:{oldURL:a,newURL:o}});dispatchEvent(u)},XL=({ssrPath:t="/"}={})=>[UL.useSyncExternalStore(TH,AH,()=>t),CH];XL.hrefs=t=>"#"+t;class kH extends S.Component{state={hasError:!1};static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?m.jsx("div",{className:"p-4 text-red-400",children:"Something went wrong."}):this.props.children}}const QL=S.createContext(null);function PH({children:t}){const[e,r]=S.useState([]),n=S.useRef(1),i=S.useCallback(o=>{r(u=>u.filter(d=>d.id!==o))},[]),s=S.useCallback((o,u)=>{const d=n.current++,f=u?.variant??"info",p=Math.max(1200,u?.duration??2200),g={id:d,message:o,variant:f,duration:p};return r(w=>[...w,g]),window.setTimeout(()=>i(d),p),d},[i]),a=S.useMemo(()=>({show:s,success:(o,u)=>s(o,{variant:"success",duration:u}),error:(o,u)=>s(o,{variant:"error",duration:u}),info:(o,u)=>s(o,{variant:"info",duration:u}),dismiss:i}),[s,i]);return m.jsxs(QL.Provider,{value:a,children:[t,m.jsx("div",{className:"fixed bottom-4 right-4 z-[2147483647] flex flex-col items-end gap-2 pointer-events-none",children:e.map(o=>m.jsx("div",{className:["pointer-events-auto select-none rounded-xl border px-3 py-2 text-sm shadow-2xl","transition-all duration-150 will-change-transform",o.variant==="success"?"bg-emerald-500 text-black border-emerald-400":"",o.variant==="error"?"bg-red-500 text-black border-red-400":"",o.variant==="info"?"bg-[#1a1a1a] text-white border-white/15":""].join(" "),role:"status","aria-live":"polite",children:o.message},o.id))})]})}function jH(){const t=S.useContext(QL);if(!t)throw new Error("useToast must be used within <ToastProvider>");return t}function Zk({children:t}){const{user:e,loading:r}=ks(),[n]=Ps();if(r)return m.jsx("div",{className:"p-6 text-muted-foreground",children:"Loading"});if(!e){const i=encodeURIComponent(n);return m.jsx(Hu,{to:`/account?redirect=${i}`,replace:!0})}return m.jsx(m.Fragment,{children:t})}var qn=iL();const NH=_t(qn);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JL=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},u)=>S.createElement("svg",{ref:u,...RH,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:JL("lucide",i),...o},[...a.map(([d,f])=>S.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(t,e)=>{const r=S.forwardRef(({className:n,...i},s)=>S.createElement(MH,{ref:s,iconNode:e,className:JL(`lucide-${IH(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=tt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=tt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=tt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=tt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=tt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=tt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=tt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=tt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=tt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=tt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=tt("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=tt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=tt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=tt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=tt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=tt("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=tt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=tt("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=tt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=tt("RadioTower",[["path",{d:"M4.9 16.1C1 12.2 1 5.8 4.9 1.9",key:"s0qx1y"}],["path",{d:"M7.8 4.7a6.14 6.14 0 0 0-.8 7.5",key:"1idnkw"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}],["path",{d:"M16.2 4.8c2 2 2.26 5.11.8 7.47",key:"ojru2q"}],["path",{d:"M19.1 1.9a9.96 9.96 0 0 1 0 14.1",key:"rhi7fg"}],["path",{d:"M9.5 18h5",key:"mfy3pd"}],["path",{d:"m8 22 4-11 4 11",key:"25yftu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=tt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=tt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=tt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=tt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=tt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=tt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=tt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=tt("Volume",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=tt("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=tt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function t9({anchor:t,label:e,show:r}){const[n,i]=S.useState({top:0,left:0}),s=S.useRef();return S.useEffect(()=>{if(!r||!t)return;const a=()=>{const o=t.getBoundingClientRect();i({top:o.top+o.height/2,left:o.right+8}),s.current=requestAnimationFrame(a)};return a(),()=>{s.current&&cancelAnimationFrame(s.current)}},[r,t]),!r||!t?null:qn.createPortal(m.jsx("div",{className:"fixed -translate-y-1/2 z-[9999] px-2.5 py-1.5 rounded-lg bg-black text-white text-xs shadow-2xl pointer-events-none",style:{top:n.top,left:n.left},children:e}),document.body)}const r9=[{label:"Dashboard",to:"/dashboard",icon:m.jsx(Home,{size:20})},{label:"Portfolio",to:"/portfolio",icon:m.jsx(LH,{size:20})},{label:"Gainers",to:"/gainers",icon:m.jsx(Activity,{size:20})},{label:"Analyse",to:"/analyse",icon:m.jsx(BarChart2,{size:20})},{label:"Watchlist",to:"/watchlist",icon:m.jsx(WH,{size:20}),visible:t=>!!t},{label:"Alerts",to:"/alerts",icon:m.jsx(Bell,{size:20}),visible:t=>!!t},{label:"AI Insights",to:"/ai-insights",icon:m.jsx(BarChart2,{size:20})},{label:"High Potential",to:"/high-potential",icon:m.jsx(rF,{size:20,className:"text-orange-500"})},{label:"News",to:"/news",icon:m.jsx(nF,{size:20})}];function n9({isOpen:t=!1,onClose:e}){const{user:r,loading:n}=ks(),[i]=Ps(),[s,a]=S.useState(!1),[o,u]=S.useState(!0),[d,f]=S.useState(null),[p,g]=S.useState(""),[w,x]=S.useState(!1),y=S.useRef(null),b=S.useRef(null),[E,O]=S.useState(null),A=s&&!o,P=s?o?"whitespace-nowrap transition-all opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto":"whitespace-nowrap transition-all opacity-0 w-0":"whitespace-nowrap transition-all opacity-100 w-auto",T=typeof window<"u"&&window.innerWidth<768;function C(){const j=y.current,N=b.current;if(!j||!N)return;const D=j.getBoundingClientRect(),M=N.offsetWidth||320,R=12,$=M/2,F=Math.min(Math.max(D.left+D.width/2,R+$),window.innerWidth-R-$),K=Math.max(D.top-12,R+8);O({left:F,top:K})}return S.useEffect(()=>{if(!w)return;requestAnimationFrame(()=>{C(),requestAnimationFrame(C)});const j=()=>C(),N=M=>{y.current?.contains(M.target)||x(!1)},D=M=>M.key==="Escape"&&x(!1);return window.addEventListener("resize",j),window.addEventListener("scroll",j,{passive:!0}),document.addEventListener("click",N),document.addEventListener("keydown",D),()=>{window.removeEventListener("resize",j),window.removeEventListener("scroll",j),document.removeEventListener("click",N),document.removeEventListener("keydown",D)}},[w]),m.jsxs(m.Fragment,{children:[T&&t&&m.jsx("div",{className:"fixed inset-0 bg-muted/50 z-30 md:hidden",onClick:e}),m.jsxs("aside",{className:["group relative h-screen bg-sidebar border-r border-sidebar-border transition-all duration-200 flex flex-col overflow-hidden",T&&!t?"hidden":"",T&&t?"fixed left-0 top-0 z-40 w-60":"",T?"":"block",!T&&s?"w-14":"",!T&&!s?"w-60":"",!T&&o&&s?"hover:w-60":""].join(" "),children:[m.jsxs("div",{className:"h-14 flex items-center justify-between px-3",children:[m.jsx(Wt,{to:"/dashboard",className:"text-white/90 font-semibold tracking-wide whitespace-nowrap overflow-hidden",onClick:e,children:A?"":"CryptoTrader Pro"}),T&&t&&m.jsx("button",{onClick:e,className:"md:hidden text-white/60 hover:text-white","aria-label":"Close sidebar",children:""})]}),m.jsx("nav",{className:"mt-2 space-y-1 px-2 flex-1 overflow-y-auto",children:r9.filter(j=>n?!0:j.visible?j.visible(r):!0).map(j=>{const N=j.to==="/analyse"?i.startsWith("/analyse"):i===j.to,D=()=>{T&&t&&e?.()};return m.jsxs(Wt,{to:j.to,onClick:D,className:["relative group/item flex items-center gap-3 rounded-xl px-3 py-2 text-[15px]","text-foreground hover:text-white hover:bg-white/5",N?"bg-white/[0.07] text-white":""].join(" "),onMouseEnter:M=>{A&&(g(j.label),f(M.currentTarget))},onMouseLeave:()=>{f(null)},children:[m.jsx("div",{className:"shrink-0",children:j.icon}),m.jsx("span",{className:P,children:j.label})]},j.to)})}),m.jsx("div",{className:"absolute bottom-3 left-2",children:m.jsx("button",{ref:y,type:"button",onClick:j=>{j.stopPropagation(),x(N=>!N)},"aria-label":"Sidebar control",className:"w-10 h-10 rounded-2xl bg-white/[0.06] hover:bg-white/[0.1] border border-primary shadow-md flex items-center justify-center",children:m.jsx(HH,{size:18,className:"text-white/90"})})}),w&&qn.createPortal(m.jsxs("div",{ref:b,className:"fixed z-[2147483647] w-80 rounded-2xl border border-primary/40 bg-background/95 backdrop-blur text-foreground shadow-2xl overflow-hidden",style:{left:E?.left??0,top:E?.top??-9999,transform:"translate(-50%, -100%)",visibility:E?"visible":"hidden"},onClick:j=>j.stopPropagation(),children:[m.jsx("div",{className:"px-4 py-3 border-b border-primary/20 text-[15px] font-semibold text-primary",children:"Sidebar control"}),m.jsxs("div",{className:"p-4 text-[15px] space-y-3",children:[m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:text-white transition-colors",children:[m.jsx("input",{type:"radio",name:"sb",className:"accent-primary",checked:!s&&!o,onChange:()=>{a(!1),u(!1),x(!1)}}),m.jsx("span",{children:"Expanded"})]}),m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:text-white transition-colors",children:[m.jsx("input",{type:"radio",name:"sb",className:"accent-primary",checked:s&&!o,onChange:()=>{a(!0),u(!1),x(!1)}}),m.jsx("span",{children:"Collapsed"})]}),m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:text-white transition-colors",children:[m.jsx("input",{type:"radio",name:"sb",className:"accent-primary",checked:s&&o,onChange:()=>{a(!0),u(!0),x(!1)}}),m.jsx("span",{children:"Expand on hover"})]})]})]}),document.body),m.jsx(t9,{anchor:d,label:p,show:!!d&&A})]})]})}const i9=S.lazy(()=>Io(()=>import("./AccountDropdown-DVSK9F7c.js"),[]));function s9({onMenuClick:t}){const[e]=Ps(),r=n=>{const i={"/dashboard":"Dashboard","/portfolio":"Portfolio","/gainers":"Top Gainers","/analyse":"Analysis","/watchlist":"Watchlist","/alerts":"Alerts","/account":"Account","/ai-insights":"AI","/news":"News"};for(const[s,a]of Object.entries(i))if(e.startsWith(s))return a;return"Dashboard"};return m.jsx("header",{className:"sticky top-0 z-40 border-b border-border/50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 h-14 md:h-16",children:m.jsxs("div",{className:"flex h-full items-center justify-between px-3 sm:px-4 md:px-6 gap-2",children:[m.jsx("button",{onClick:t,className:"md:hidden p-2 hover:bg-foreground/10 rounded-lg transition-colors","aria-label":"Toggle sidebar",children:m.jsx(VH,{size:20,className:"text-foreground"})}),m.jsx("h1",{className:"text-base font-semibold tracking-tight text-foreground truncate flex-1 md:flex-none md:text-lg",children:r()}),m.jsx(S.Suspense,{fallback:m.jsx("div",{className:"w-10 h-10"}),children:m.jsx(i9,{})})]})})}function zi(){const{user:t,loading:e,session:r,signOut:n}=ks();return{user:t,session:r,signOut:n,isLoading:e,authReady:!e,isAuthenticated:!!t,idToken:r?.access_token??null,getIdToken:async()=>r?.access_token??null,signInWithGoogle:async()=>{}}}const a9=()=>{};var rP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},o9=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},oF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|o>>4;let g=(o&15)<<2|d>>6,w=d&63;u||(w=64,a||(g=64)),n.push(r[f],r[p],r[g],r[w])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||d==null||p==null)throw new l9;const g=s<<2|o>>4;if(n.push(g),d!==64){const w=o<<4&240|d>>2;if(n.push(w),p!==64){const x=d<<6&192|p;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class l9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c9=function(t){const e=aF(t);return oF.encodeByteArray(e,!0)},lF=function(t){return c9(t).replace(/\./g,"")},cF=function(t){try{return oF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=()=>u9().__FIREBASE_DEFAULTS__,f9=()=>{if(typeof process>"u"||typeof rP>"u")return;const t=rP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cF(t[1]);return e&&JSON.parse(e)},TE=()=>{try{return a9()||d9()||f9()||h9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},p9=t=>TE()?.emulatorHosts?.[t],uF=()=>TE()?.config,dF=t=>TE()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g9(t){return(await fetch(t,{credentials:"include"})).ok}const id={};function v9(){const t={prod:[],emulator:[]};for(const e of Object.keys(id))id[e]?t.emulator.push(e):t.prod.push(e);return t}function y9(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let nP=!1;function b9(t,e){if(typeof window>"u"||typeof document>"u"||!pg(window.location.host)||id[t]===e||id[t]||nP)return;id[t]=e;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",s=v9().prod.length>0;function a(){const g=document.getElementById(n);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,w){g.setAttribute("width","24"),g.setAttribute("id",w),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{nP=!0,a()},g}function f(g,w){g.setAttribute("id",w),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=y9(n),w=r("text"),x=document.getElementById(w)||document.createElement("span"),y=r("learnmore"),b=document.getElementById(y)||document.createElement("a"),E=r("preprendIcon"),O=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const A=g.element;o(A),f(b,y);const P=d();u(O,E),A.append(O,x,b,P),document.body.appendChild(A)}s?(x.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yr())}function x9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E9(){const t=Yr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O9(){try{return typeof indexedDB=="object"}catch{return!1}}function T9(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="FirebaseError";class Na extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=A9,Object.setPrototypeOf(this,Na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yf.prototype.create)}}class yf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?C9(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Na(i,o,n)}}function C9(t,e){return t.replace(k9,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const k9=/\{\$([^}]+)}/g;function P9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ec(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(iP(s)&&iP(a)){if(!ec(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function iP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function j9(t,e){const r=new N9(t,e);return r.subscribe.bind(r)}class N9{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");I9(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=pb),i.error===void 0&&(i.error=pb),i.complete===void 0&&(i.complete=pb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I9(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function pb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){return t&&t._delegate?t._delegate:t}class tc{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new m9;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D9(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:M9(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M9(t){return t===ao?void 0:t}function D9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new R9(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(kt||(kt={}));const L9={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},F9=kt.INFO,U9={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},B9=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=U9[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fF{constructor(e){this.name=e,this._logLevel=F9,this._logHandler=B9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const q9=(t,e)=>e.some(r=>t instanceof r);let sP,aP;function z9(){return sP||(sP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W9(){return aP||(aP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hF=new WeakMap,yS=new WeakMap,pF=new WeakMap,mb=new WeakMap,AE=new WeakMap;function V9(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(ba(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&hF.set(r,t)}).catch(()=>{}),AE.set(e,t),e}function H9(t){if(yS.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});yS.set(t,e)}let bS={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return yS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pF.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ba(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K9(t){bS=t(bS)}function G9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(gb(this),e,...r);return pF.set(n,e.sort?e.sort():[e]),ba(n)}:W9().includes(t)?function(...e){return t.apply(gb(this),e),ba(hF.get(this))}:function(...e){return ba(t.apply(gb(this),e))}}function Y9(t){return typeof t=="function"?G9(t):(t instanceof IDBTransaction&&H9(t),q9(t,z9())?new Proxy(t,bS):t)}function ba(t){if(t instanceof IDBRequest)return V9(t);if(mb.has(t))return mb.get(t);const e=Y9(t);return e!==t&&(mb.set(t,e),AE.set(e,t)),e}const gb=t=>AE.get(t);function X9(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=ba(a);return n&&a.addEventListener("upgradeneeded",u=>{n(ba(a.result),u.oldVersion,u.newVersion,ba(a.transaction),u)}),r&&a.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),o.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}const Q9=["get","getKey","getAll","getAllKeys","count"],J9=["put","add","delete","clear"],vb=new Map;function oP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vb.get(e))return vb.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=J9.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Q9.includes(r)))return;const s=async function(a,...o){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return n&&(d=d.index(o.shift())),(await Promise.all([d[r](...o),i&&u.done]))[0]};return vb.set(e,s),s}K9(t=>({...t,get:(e,r,n)=>oP(e,r)||t.get(e,r,n),has:(e,r)=>!!oP(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(eK(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function eK(t){return t.getComponent()?.type==="VERSION"}const wS="@firebase/app",lP="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new fF("@firebase/app"),tK="@firebase/app-compat",rK="@firebase/analytics-compat",nK="@firebase/analytics",iK="@firebase/app-check-compat",sK="@firebase/app-check",aK="@firebase/auth",oK="@firebase/auth-compat",lK="@firebase/database",cK="@firebase/data-connect",uK="@firebase/database-compat",dK="@firebase/functions",fK="@firebase/functions-compat",hK="@firebase/installations",pK="@firebase/installations-compat",mK="@firebase/messaging",gK="@firebase/messaging-compat",vK="@firebase/performance",yK="@firebase/performance-compat",bK="@firebase/remote-config",wK="@firebase/remote-config-compat",xK="@firebase/storage",_K="@firebase/storage-compat",SK="@firebase/firestore",EK="@firebase/ai",OK="@firebase/firestore-compat",TK="firebase",AK="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="[DEFAULT]",CK={[wS]:"fire-core",[tK]:"fire-core-compat",[nK]:"fire-analytics",[rK]:"fire-analytics-compat",[sK]:"fire-app-check",[iK]:"fire-app-check-compat",[aK]:"fire-auth",[oK]:"fire-auth-compat",[lK]:"fire-rtdb",[cK]:"fire-data-connect",[uK]:"fire-rtdb-compat",[dK]:"fire-fn",[fK]:"fire-fn-compat",[hK]:"fire-iid",[pK]:"fire-iid-compat",[mK]:"fire-fcm",[gK]:"fire-fcm-compat",[vK]:"fire-perf",[yK]:"fire-perf-compat",[bK]:"fire-rc",[wK]:"fire-rc-compat",[xK]:"fire-gcs",[_K]:"fire-gcs-compat",[SK]:"fire-fst",[OK]:"fire-fst-compat",[EK]:"fire-vertex","fire-js":"fire-js",[TK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new Map,kK=new Map,_S=new Map;function cP(t,e){try{t.container.addComponent(e)}catch(r){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ed(t){const e=t.name;if(_S.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;_S.set(e,t);for(const r of Kp.values())cP(r,t);for(const r of kK.values())cP(r,t);return!0}function mF(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ds(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new yf("app","Firebase",PK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=AK;function gF(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:xS,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw wa.create("bad-app-name",{appName:String(i)});if(r||(r=uF()),!r)throw wa.create("no-options");const s=Kp.get(i);if(s){if(ec(r,s.options)&&ec(n,s.config))return s;throw wa.create("duplicate-app",{appName:i})}const a=new $9(i);for(const u of _S.values())a.addComponent(u);const o=new jK(r,n,a);return Kp.set(i,o),o}function NK(t=xS){const e=Kp.get(t);if(!e&&t===xS&&uF())return gF();if(!e)throw wa.create("no-app",{appName:t});return e}function ql(t,e,r){let n=CK[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(a.join(" "));return}Ed(new tc(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK="firebase-heartbeat-database",RK=1,Od="firebase-heartbeat-store";let yb=null;function vF(){return yb||(yb=X9(IK,RK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Od)}catch(r){console.warn(r)}}}}).catch(t=>{throw wa.create("idb-open",{originalErrorMessage:t.message})})),yb}async function MK(t){try{const r=(await vF()).transaction(Od),n=await r.objectStore(Od).get(yF(t));return await r.done,n}catch(e){if(e instanceof Na)ws.warn(e.message);else{const r=wa.create("idb-get",{originalErrorMessage:e?.message});ws.warn(r.message)}}}async function uP(t,e){try{const n=(await vF()).transaction(Od,"readwrite");await n.objectStore(Od).put(e,yF(t)),await n.done}catch(r){if(r instanceof Na)ws.warn(r.message);else{const n=wa.create("idb-set",{originalErrorMessage:r?.message});ws.warn(n.message)}}}function yF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=1024,$K=30;class LK{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new UK(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=dP();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>$K){const i=BK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dP(),{heartbeatsToSend:r,unsentEntries:n}=FK(this._heartbeatsCache.heartbeats),i=lF(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ws.warn(e),""}}}function dP(){return new Date().toISOString().substring(0,10)}function FK(t,e=DK){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),fP(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),fP(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class UK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O9()?T9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await MK(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return uP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return uP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function fP(t){return lF(JSON.stringify({version:2,heartbeats:t})).length}function BK(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qK(t){Ed(new tc("platform-logger",e=>new Z9(e),"PRIVATE")),Ed(new tc("heartbeat",e=>new LK(e),"PRIVATE")),ql(wS,lP,t),ql(wS,lP,"esm2020"),ql("fire-js","")}qK("");var zK="firebase",WK="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ql(zK,WK,"app");function bF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VK=bF,wF=new yf("auth","Firebase",bF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new fF("@firebase/auth");function HK(t,...e){Gp.logLevel<=kt.WARN&&Gp.warn(`Auth (${wf}): ${t}`,...e)}function Cp(t,...e){Gp.logLevel<=kt.ERROR&&Gp.error(`Auth (${wf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,...e){throw CE(t,...e)}function Ii(t,...e){return CE(t,...e)}function xF(t,e,r){const n={...VK(),[e]:r};return new yf("auth","Firebase",n).create(e,{appName:t.name})}function wo(t){return xF(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CE(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return wF.create(t,...e)}function He(t,e,...r){if(!t)throw CE(e,...r)}function hs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cp(e),new Error(e)}function _s(t,e){t||hs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){return typeof self<"u"&&self.location?.href||""}function KK(){return hP()==="http:"||hP()==="https:"}function hP(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KK()||_9()||"connection"in navigator)?navigator.onLine:!0}function YK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,r){this.shortDelay=e,this.longDelay=r,_s(r>e,"Short delay should be less than long delay!"),this.isMobile=w9()||S9()}get(){return GK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t,e){_s(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JK=new xf(3e4,6e4);function PE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ic(t,e,r,n,i={}){return SF(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=bf({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...s};return x9()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&pg(t.emulatorConfig.host)&&(d.credentials="include"),_F.fetch()(await EF(t,t.config.apiHost,r,o),d)})}async function SF(t,e,r){t._canInitEmulator=!1;const n={...XK,...e};try{const i=new e7(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw ep(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[u,d]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ep(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw ep(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw ep(t,"user-disabled",a);const f=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xF(t,f,d);xs(t,f)}}catch(i){if(i instanceof Na)throw i;xs(t,"network-request-failed",{message:String(i)})}}async function ZK(t,e,r,n,i={}){const s=await Ic(t,e,r,n,i);return"mfaPendingCredential"in s&&xs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function EF(t,e,r,n){const i=`${e}${r}?${n}`,s=t,a=s.config.emulator?kE(t.config,i):`${t.config.apiScheme}://${i}`;return QK.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class e7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ii(this.auth,"network-request-failed")),JK.get())})}}function ep(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ii(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7(t,e){return Ic(t,"POST","/v1/accounts:delete",e)}async function Yp(t,e){return Ic(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r7(t,e=!1){const r=Nc(t),n=await r.getIdToken(e),i=jE(n);He(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:n,authTime:sd(bb(i.auth_time)),issuedAtTime:sd(bb(i.iat)),expirationTime:sd(bb(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function bb(t){return Number(t)*1e3}function jE(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Cp("JWT malformed, contained fewer than 3 sections"),null;try{const i=cF(r);return i?JSON.parse(i):(Cp("Failed to decode base64 JWT payload"),null)}catch(i){return Cp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function pP(t){const e=jE(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Na&&n7(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function n7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=sd(this.lastLoginAt),this.creationTime=sd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(t){const e=t.auth,r=await t.getIdToken(),n=await Td(t,Yp(e,{idToken:r}));He(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?OF(i.providerUserInfo):[],a=a7(t.providerData,s),o=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!a?.length,d=o?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ES(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function s7(t){const e=Nc(t);await Xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a7(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function OF(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o7(t,e){const r=await SF(t,{},async()=>{const n=bf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await EF(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:n};return t.emulatorConfig&&pg(t.emulatorConfig.host)&&(u.credentials="include"),_F.fetch()(a,u)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function l7(t,e){return Ic(t,"POST","/v2/accounts:revokeToken",PE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){He(e.length!==0,"internal-error");const r=pP(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await o7(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new zl;return n&&(He(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(He(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(He(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class di{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new i7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ES(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Td(this,this.stsTokenManager.getToken(this.auth,e));return He(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return r7(this,e)}reload(){return s7(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Xp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ds(this.auth.app))return Promise.reject(wo(this.auth));const e=await this.getIdToken();return await Td(this,t7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,a=r.photoURL??void 0,o=r.tenantId??void 0,u=r._redirectEventId??void 0,d=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:w,providerData:x,stsTokenManager:y}=r;He(p&&y,e,"internal-error");const b=zl.fromJSON(this.name,y);He(typeof p=="string",e,"internal-error"),ra(n,e.name),ra(i,e.name),He(typeof g=="boolean",e,"internal-error"),He(typeof w=="boolean",e,"internal-error"),ra(s,e.name),ra(a,e.name),ra(o,e.name),ra(u,e.name),ra(d,e.name),ra(f,e.name);const E=new di({uid:p,auth:e,email:i,emailVerified:g,displayName:n,isAnonymous:w,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:b,createdAt:d,lastLoginAt:f});return x&&Array.isArray(x)&&(E.providerData=x.map(O=>({...O}))),u&&(E._redirectEventId=u),E}static async _fromIdTokenResponse(e,r,n=!1){const i=new zl;i.updateFromServerResponse(r);const s=new di({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Xp(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];He(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?OF(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,o=new zl;o.updateFromIdToken(n);const u=new di({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ES(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Map;function ps(t){_s(t instanceof Function,"Expected a class definition");let e=mP.get(t);return e?(_s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}TF.type="NONE";const gP=TF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t,e,r){return`firebase:${t}:${e}:${r}`}class Wl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=kp(this.userKey,i.apiKey,s),this.fullPersistenceKey=kp("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Yp(this.auth,{idToken:e}).catch(()=>{});return r?di._fromGetAccountInfoResponse(this.auth,r,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Wl(ps(gP),e,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||ps(gP);const a=kp(n,e.config.apiKey,e.name);let o=null;for(const d of r)try{const f=await d._get(a);if(f){let p;if(typeof f=="string"){const g=await Yp(e,{idToken:f}).catch(()=>{});if(!g)break;p=await di._fromGetAccountInfoResponse(e,g,f)}else p=di._fromJSON(e,f);d!==s&&(o=p),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Wl(s,e,n):(s=u[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new Wl(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NF(e))return"Blackberry";if(IF(e))return"Webos";if(CF(e))return"Safari";if((e.includes("chrome/")||kF(e))&&!e.includes("edge/"))return"Chrome";if(jF(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function AF(t=Yr()){return/firefox\//i.test(t)}function CF(t=Yr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kF(t=Yr()){return/crios\//i.test(t)}function PF(t=Yr()){return/iemobile/i.test(t)}function jF(t=Yr()){return/android/i.test(t)}function NF(t=Yr()){return/blackberry/i.test(t)}function IF(t=Yr()){return/webos/i.test(t)}function NE(t=Yr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function c7(t=Yr()){return NE(t)&&!!window.navigator?.standalone}function u7(){return E9()&&document.documentMode===10}function RF(t=Yr()){return NE(t)||jF(t)||IF(t)||NF(t)||/windows phone/i.test(t)||PF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(t,e=[]){let r;switch(t){case"Browser":r=vP(Yr());break;case"Worker":r=`${vP(Yr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${wf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const u=e(s);a(u)}catch(u){o(u)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f7(t,e={}){return Ic(t,"GET","/v2/passwordPolicy",PE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=6;class p7{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??h7,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yP(this),this.idTokenSubscription=new yP(this),this.beforeStateQueue=new d7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ps(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Yp(this,{idToken:e}),n=await di._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ds(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=n?._redirectEventId,o=await this.tryRedirectSignIn(e);(!s||s===a)&&o?.user&&(n=o.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Xp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ds(this.app))return Promise.reject(wo(this));const r=e?Nc(e):null;return r&&He(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ds(this.app)?Promise.reject(wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ds(this.app)?Promise.reject(wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f7(this),r=new p7(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await l7(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ps(e)||this._popupRedirectResolver;He(r,this,"argument-error"),this.redirectPersistenceManager=await Wl.create(this,[ps(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const u=e.addObserver(r,n,i);return()=>{a=!0,u()}}else{const u=e.addObserver(r);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(ds(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&HK(`Error while retrieving App Check token: ${e.error}`),e?.token}}function IE(t){return Nc(t)}class yP{constructor(e){this.auth=e,this.observer=null,this.addObserver=j9(r=>this.observer=r)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g7(t){RE=t}function v7(t){return RE.loadJS(t)}function y7(){return RE.gapiScript}function b7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(t,e){const r=mF(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(ec(s,e??{}))return i;xs(i,"already-initialized")}return r.initialize({options:e})}function x7(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(ps);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function _7(t,e,r){const n=IE(t);He(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=DF(e),{host:a,port:o}=S7(e),u=o===null?"":`:${o}`,d={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){He(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),He(ec(d,n.config.emulator)&&ec(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,pg(a)?(g9(`${s}//${a}${u}`),b9("Auth",!0)):E7()}function DF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S7(t){const e=DF(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:bP(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:bP(a)}}}function bP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function E7(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,r){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e){return ZK(t,"POST","/v1/accounts:signInWithIdp",PE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7="http://localhost";class Ao extends $F{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):xs("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const a=new Ao(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Vl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Vl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Vl(e,r)}buildRequest(){const e={requestUri:O7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=bf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends LF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends _f{constructor(){super("facebook.com")}static credential(e){return Ao._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";fa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends _f{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ao._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ha.credential(r,n)}catch{return null}}}ha.GOOGLE_SIGN_IN_METHOD="google.com";ha.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends _f{constructor(){super("github.com")}static credential(e){return Ao._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pa.credential(e.oauthAccessToken)}catch{return null}}}pa.GITHUB_SIGN_IN_METHOD="github.com";pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends _f{constructor(){super("twitter.com")}static credential(e,r){return Ao._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return ma.credential(r,n)}catch{return null}}}ma.TWITTER_SIGN_IN_METHOD="twitter.com";ma.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await di._fromIdTokenResponse(e,n,i),a=wP(n);return new rc({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=wP(n);return new rc({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function wP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Na{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Qp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Qp(e,r,n,i)}}function FF(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qp._fromErrorAndOperation(t,s,e,n):s})}async function T7(t,e,r=!1){const n=await Td(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return rc._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A7(t,e,r=!1){const{auth:n}=t;if(ds(n.app))return Promise.reject(wo(n));const i="reauthenticate";try{const s=await Td(t,FF(n,i,e,t),r);He(s.idToken,n,"internal-error");const a=jE(s.idToken);He(a,n,"internal-error");const{sub:o}=a;return He(t.uid===o,n,"user-mismatch"),rc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&xs(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C7(t,e,r=!1){if(ds(t.app))return Promise.reject(wo(t));const n="signIn",i=await FF(t,n,e),s=await rc._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}function k7(t,e,r,n){return Nc(t).onIdTokenChanged(e,r,n)}function P7(t,e,r){return Nc(t).beforeAuthStateChanged(e,r)}const Jp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Jp,"1"),this.storage.removeItem(Jp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=1e3,N7=10;class BF extends UF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,u)=>{this.notifyListeners(a,u)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);u7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,N7):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},j7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}BF.type="LOCAL";const I7=BF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF extends UF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}qF.type="SESSION";const zF=qF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new mg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async d=>d(r.origin,s)),u=await R7(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,u)=>{const d=ME("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function D7(t){Ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function $7(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L7(){return navigator?.serviceWorker?.controller||null}function F7(){return WF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="firebaseLocalStorageDb",U7=1,Zp="firebaseLocalStorage",HF="fbase_key";class Sf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function gg(t,e){return t.transaction([Zp],e?"readwrite":"readonly").objectStore(Zp)}function B7(){const t=indexedDB.deleteDatabase(VF);return new Sf(t).toPromise()}function OS(){const t=indexedDB.open(VF,U7);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Zp,{keyPath:HF})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Zp)?e(n):(n.close(),await B7(),e(await OS()))})})}async function xP(t,e,r){const n=gg(t,!0).put({[HF]:e,value:r});return new Sf(n).toPromise()}async function q7(t,e){const r=gg(t,!1).get(e),n=await new Sf(r).toPromise();return n===void 0?null:n.value}function _P(t,e){const r=gg(t,!0).delete(e);return new Sf(r).toPromise()}const z7=800,W7=3;class KF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await OS(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>W7)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mg._getInstance(F7()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $7(),!this.activeServiceWorker)return;this.sender=new M7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await OS();return await xP(e,Jp,"1"),await _P(e,Jp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>xP(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>q7(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>_P(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=gg(i,!1).getAll();return new Sf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KF.type="LOCAL";const V7=KF;new xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(t,e){return e?ps(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE extends $F{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Vl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function K7(t){return C7(t.auth,new DE(t),t.bypassAuthState)}function G7(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),A7(r,new DE(t),t.bypassAuthState)}async function Y7(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),T7(r,new DE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K7;case"linkViaPopup":case"linkViaRedirect":return Y7;case"reauthViaPopup":case"reauthViaRedirect":return G7;default:xs(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=new xf(2e3,1e4);class Rl extends GF{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Rl.currentPopupAction&&Rl.currentPopupAction.cancel(),Rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=ME();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X7.get())};e()}}Rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7="pendingRedirect",Pp=new Map;class J7 extends GF{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Pp.get(this.auth._key());if(!e){try{const n=await Z7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Pp.set(this.auth._key(),e)}return this.bypassAuthState||Pp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z7(t,e){const r=rG(e),n=tG(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function eG(t,e){Pp.set(t._key(),e)}function tG(t){return ps(t._redirectPersistence)}function rG(t){return kp(Q7,t.config.apiKey,t.name)}async function nG(t,e,r=!1){if(ds(t.app))return Promise.reject(wo(t));const n=IE(t),i=H7(n,e),a=await new J7(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=600*1e3;class sG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aG(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!YF(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Ii(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iG&&this.cachedEventUids.clear(),this.cachedEventUids.has(SP(e))}saveEventToCache(e){this.cachedEventUids.add(SP(e)),this.lastProcessedEventTime=Date.now()}}function SP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YF({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function aG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oG(t,e={}){return Ic(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cG=/^https?/;async function uG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oG(t);for(const r of e)try{if(dG(r))return}catch{}xs(t,"unauthorized-domain")}function dG(t){const e=SS(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!cG.test(r))return!1;if(lG.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=new xf(3e4,6e4);function EP(){const t=Ri().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function hG(t){return new Promise((e,r)=>{function n(){EP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EP(),r(Ii(t,"network-request-failed"))},timeout:fG.get()})}if(Ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ri().gapi?.load)n();else{const i=b7("iframefcb");return Ri()[i]=()=>{gapi.load?n():r(Ii(t,"network-request-failed"))},v7(`${y7()}?onload=${i}`).catch(s=>r(s))}}).catch(e=>{throw jp=null,e})}let jp=null;function pG(t){return jp=jp||hG(t),jp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG=new xf(5e3,15e3),gG="__/auth/iframe",vG="emulator/auth/iframe",yG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wG(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?kE(e,vG):`https://${t.config.authDomain}/${gG}`,n={apiKey:e.apiKey,appName:t.name,v:wf},i=bG.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${bf(n).slice(1)}`}async function xG(t){const e=await pG(t),r=Ri().gapi;return He(r,t,"internal-error"),e.open({where:document.body,url:wG(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yG,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Ii(t,"network-request-failed"),o=Ri().setTimeout(()=>{s(a)},mG.get());function u(){Ri().clearTimeout(o),i(n)}n.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SG=500,EG=600,OG="_blank",TG="http://localhost";class OP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AG(t,e,r,n=SG,i=EG){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const u={..._G,width:n.toString(),height:i.toString(),top:s,left:a},d=Yr().toLowerCase();r&&(o=kF(d)?OG:r),AF(d)&&(e=e||TG,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[w,x])=>`${g}${w}=${x},`,"");if(c7(d)&&o!=="_self")return CG(e||"",o),new OP(null);const p=window.open(e||"",o,f);He(p,t,"popup-blocked");try{p.focus()}catch{}return new OP(p)}function CG(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kG="__/auth/handler",PG="emulator/auth/handler",jG=encodeURIComponent("fac");async function TP(t,e,r,n,i,s){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:wf,eventId:i};if(e instanceof LF){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",P9(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(e instanceof _f){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const u=await t._getAppCheckToken(),d=u?`#${jG}=${encodeURIComponent(u)}`:"";return`${NG(t)}?${bf(o).slice(1)}${d}`}function NG({config:t}){return t.emulator?kE(t,PG):`https://${t.authDomain}/${kG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="webStorageSupport";class IG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zF,this._completeRedirectFn=nG,this._overrideRedirectResult=eG}async _openPopup(e,r,n,i){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await TP(e,r,n,SS(),i);return AG(e,s,ME())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await TP(e,r,n,SS(),i);return D7(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(_s(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await xG(e),n=new sG(e);return r.register("authEvent",i=>(He(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(wb,{type:wb},i=>{const s=i?.[0]?.[wb];s!==void 0&&r(!!s),xs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=uG(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return RF()||CF()||NE()}}const RG=IG;var AP="@firebase/auth",CP="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $G(t){Ed(new tc("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;He(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MF(t)},d=new m7(n,i,s,u);return x7(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ed(new tc("auth-internal",e=>{const r=IE(e.getProvider("auth").getImmediate());return(n=>new MG(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ql(AP,CP,DG(t)),ql(AP,CP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG=300,FG=dF("authIdTokenMaxAge")||LG;let kP=null;const UG=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>FG)return;const i=r?.token;kP!==i&&(kP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function BG(t=NK()){const e=mF(t,"auth");if(e.isInitialized())return e.getImmediate();const r=w7(t,{popupRedirectResolver:RG,persistence:[V7,I7,zF]}),n=dF("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=UG(s.toString());P7(r,a,()=>a(r.currentUser)),k7(r,o=>a(o))}}const i=p9("auth");return i&&_7(r,`http://${i}`),r}function qG(){return document.getElementsByTagName("head")?.[0]??document}g7({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Ii("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",qG().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$G("Browser");function zG(){const t={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0};return Object.entries(t).filter(([,r])=>!r).map(([r])=>r).length>0?(console.warn("[Firebase] Missing Firebase configuration. Using Supabase for authentication instead."),null):t}const PP=zG();let jP=null,em=null;PP&&(jP=gF(PP),em=BG(jP));async function XF(t=!1){if(!em)return null;const e=em.currentUser;if(!e)return null;try{return await e.getIdToken(t)}catch(r){return console.error("Failed to retrieve Firebase ID token",r),null}}const WG="demo.userId";function VG(t){if(typeof t!="string")return null;const e=t.trim();return e.length>0?e:null}function vg(){if(typeof window>"u")return null;try{return VG(window.localStorage.getItem(WG))}catch{return null}}const HG={};var KG={};const NP=typeof import.meta<"u"&&HG?.VITE_API_BASE||typeof process<"u"&&KG?.NEXT_PUBLIC_API_BASE||"",IP=typeof NP=="string"?NP.trim().replace(/\/+$/,""):"";function GG(t){if(/^https?:/i.test(t))return t;const e=t.startsWith("/")?t:`/${t}`;return IP?`${IP}${e}`:e}async function YG(){try{const r=await em?.currentUser?.getIdToken?.();if(typeof r=="string"&&r.trim())return{Authorization:`Bearer ${r}`}}catch(e){console.warn("Failed to resolve Firebase ID token",e)}const t=vg();return t?{"x-demo-user-id":t}:{}}function XG(t){if(!t)return{};if(t instanceof Headers){const e={};return t.forEach((r,n)=>{e[n]=r}),e}return Array.isArray(t)?t.reduce((e,[r,n])=>(e[String(r)]=String(n),e),{}):{...t}}function Ia(t,e={}){const r=GG(t);return fetch(r,{mode:"cors",credentials:"include",...e})}async function Ef(t,e={},r=3){const n=XG(e.headers);Object.keys(n).some(o=>o.toLowerCase()==="content-type")||(n["Content-Type"]="application/json");const s=await YG(),a={...n,...s};for(let o=0;o<r;o++)try{const u=await Ia(t,{...e,headers:a});if(u.status===502&&o<r-1){const d=Math.pow(2,o)*1e3;console.warn(`[API] Got 502, retrying after ${d}ms (attempt ${o+1}/${r})`),await new Promise(f=>setTimeout(f,d));continue}if(!u.ok){const d=await u.text().catch(()=>"");throw new Error(`API ${u.status}: ${d||u.statusText}`)}if(u.status===204)return null;try{return await u.json()}catch{return null}}catch(u){if(o===r-1)throw u;console.warn(`[API] Attempt ${o+1} failed, retrying...`,u instanceof Error?u.message:u),await new Promise(d=>setTimeout(d,Math.pow(2,o)*1e3))}throw new Error("API request failed after retries")}async function QF(t,e){const r=await Ia(t,e);try{return await r.json()}catch{return}}const QG=Object.freeze(Object.defineProperty({__proto__:null,api:Ia,apiFetch:Ef,apiJSON:QF},Symbol.toStringTag,{value:"Module"}));function JG(t){if(!t||typeof t!="object")return!1;const e=t;if(e.ok!==!0)return!1;const{ts:r}=e;if(typeof r=="number")return Number.isFinite(r);if(typeof r=="string"){if(!r.trim())return!1;const n=Date.parse(r);return Number.isFinite(n)}return!1}let mo,tp=null;async function ZG(){const t=new AbortController,e=setTimeout(()=>t.abort(),4e3);try{const r=await QF("/api/health",{signal:t.signal});return JG(r)}catch{return!1}finally{clearTimeout(e)}}function eY(){return mo!==void 0?Promise.resolve(mo):(tp||(tp=ZG().then(t=>(mo=t,t)).finally(()=>{tp=null})),tp)}function $E(){const[t,e]=S.useState(()=>mo===void 0?null:mo);return S.useEffect(()=>{let r=!0;return mo!==void 0?(e(mo),()=>{r=!1}):(eY().then(n=>{r&&e(n)}),()=>{r=!1})},[]),t}const tY=1,rY=1e4;let xb=0;function nY(){return xb=(xb+1)%Number.MAX_SAFE_INTEGER,xb.toString()}const ad=new Map,RP=t=>{if(ad.has(t))return;const e=setTimeout(()=>{ad.delete(t),od({type:"REMOVE_TOAST",toastId:t})},rY);ad.set(t,e)},iY=t=>{const e=ad.get(t);e&&(clearTimeout(e),ad.delete(t))},sY=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts.filter(r=>r.id!==e.toast.id)].slice(0,tY)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?RP(r):t.toasts.forEach(n=>{RP(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Np=[];let Ip={toasts:[]};function od(t){Ip=sY(Ip,t),Np.forEach(e=>{e(Ip)})}const rp=(t={})=>{const{id:e,onOpenChange:r,...n}=t,i=e??nY();iY(i);const s=o=>od({type:"UPDATE_TOAST",toast:{...o,id:i}}),a=()=>od({type:"DISMISS_TOAST",toastId:i});return od({type:"ADD_TOAST",toast:{...n,id:i,open:!0,onOpenChange:o=>{o||a(),r?.(o)}}}),{id:i,dismiss:a,update:s}},TS=Object.assign(rp,{dismiss:t=>od({type:"DISMISS_TOAST",toastId:t}),success:(t,e)=>rp({...e,title:t,variant:e?.variant??"default"}),error:(t,e)=>rp({...e,title:t,variant:e?.variant??"destructive"}),loading:(t,e)=>rp({...e,title:t,duration:e?.duration??15e3,variant:e?.variant??"default"})});function JF(){const[t,e]=S.useState(Ip);return S.useEffect(()=>(Np.push(e),()=>{const r=Np.indexOf(e);r>-1&&Np.splice(r,1)}),[t]),{...t,toast:TS,dismiss:r=>TS.dismiss(r)}}function ZF(){if(typeof window>"u")return null;try{return window.localStorage??null}catch{return null}}function aY(t,e){const r=ZF();if(!r)return null;try{const n=r.getItem(t);if(!n)return null;const i=JSON.parse(n);return e?e(i):i}catch(n){return console.warn("storage:readJSON",n),null}}function oY(t,e){const r=ZF();if(r)try{if(e==null){r.removeItem(t);return}r.setItem(t,JSON.stringify(e))}catch(n){console.warn("storage:writeJSON",n)}}const lY="portfolio.positions";function eU(t){return`${lY}.${t}`}function tU(t){if(!t||typeof t!="object")throw new Error("Invalid position payload");const e=typeof t.id=="string"&&t.id.trim()?t.id.trim():"";if(!e)throw new Error("Position is missing an id");const r=typeof t.symbol=="string"?t.symbol.trim().toUpperCase():"",n=Number(t.quantity??t.qty??0),i=Number(t.entryPrice??t.avgPrice??0);if(!Number.isFinite(n)||!Number.isFinite(i))throw new Error("Invalid position data");const s=typeof t.notes=="string"&&t.notes.trim().length>0?t.notes.trim():null,a=typeof t.createdAt=="string"?t.createdAt:new Date().toISOString(),o=typeof t.updatedAt=="string"?t.updatedAt:a;return{id:e,symbol:r,quantity:n,entryPrice:i,notes:s,createdAt:a,updatedAt:o}}function _b(t){return aY(eU(t))}function cY(t,e){oY(eU(t),e)}async function uY(t){const e=await Ef("/api/portfolio/positions",{method:"GET"}),n=(Array.isArray(e?.data)?e.data:[]).map(s=>tU(s)),i=typeof e?.userId=="string"&&e.userId.trim()?e.userId.trim():null;return{data:n,userId:i}}async function dY(t,e){const n={symbol:typeof e.symbol=="string"?e.symbol.toUpperCase().trim():"",quantity:Number(e.quantity),entryPrice:Number(e.entryPrice),notes:e.notes??null};if(!n.symbol||Number.isNaN(n.quantity)||Number.isNaN(n.entryPrice))throw new Error("Invalid form values.");const i=await Ef("/api/portfolio/positions",{method:"POST",body:JSON.stringify(n)});return tU(i?.data)}async function fY(t,e){if(!(typeof t=="string"?t.trim():""))throw new Error("Missing position id");await Ef(`/api/portfolio/positions/${encodeURIComponent(t)}`,{method:"DELETE"})}const hY="__no_user__";function yg(t){return["portfolio","positions",t??hY]}async function rU(){const{data:t,error:e}=await hi.from("positions").select("*").order("created_at",{ascending:!1});if(e)throw new Error(e.message);return t??[]}async function pY(t,e,r,n,i){const{error:s}=await hi.from("positions").upsert([{user_id:t,symbol:e,qty:r,entry_price:n,note:null}],{onConflict:"user_id,symbol"});if(s)throw new Error(s.message)}async function mY(t){const{error:e}=await hi.from("positions").delete().eq("id",t);if(e)throw new Error(e.message)}function gY(t,e){if(!Array.isArray(t))return!1;const r=Array.isArray(e)?e:[];if(r.length!==t.length)return!0;if(t.length===0)return!1;for(let n=0;n<t.length;n+=1){const i=t[n],s=r[n];if(!s||i.id!==s.id||i.updatedAt!==s.updatedAt)return!0}return!1}function vY(t,e){const r=Array.isArray(e)?e.length:0;return Array.isArray(t)?t.length>0||r===0?!0:gY(t,e):!1}function yY(t){const e=Number(t.qty),r=Number(t.entry_price);return{id:t.id,symbol:t.symbol?.toUpperCase?.()??"",quantity:Number.isFinite(e)?e:0,entryPrice:Number.isFinite(r)?r:0,notes:t.note??null,createdAt:t.created_at,updatedAt:t.updated_at??t.created_at}}function LE(t={}){const{enabled:e=!0}=t,{user:r}=zi(),{user:n}=ks(),i=r?.uid??null,s=n?.id??null,a=vg(),o=s??i??a,u=s?null:o,d=qi(),f=S.useMemo(()=>yg(o),[o]),p=S.useMemo(()=>o?_b(o):null,[o]),g=p??void 0,w=On({queryKey:f,queryFn:async()=>{if(s)return(await rU()).map(yY);if(!u)return[];const y=await uY(),b=Array.isArray(y?.data)?y.data:[],E=typeof y?.userId=="string"&&y.userId.trim()?y.userId.trim():null;if(E&&E!==u){const O=d.getQueryData(f);if(Array.isArray(O)&&O.length>0)return O;const A=_b(u);if(Array.isArray(A)&&A.length>0)return A}return b},initialData:g,placeholderData:y=>y??g??[],staleTime:300*1e3,gcTime:1440*60*1e3,enabled:e&&(!!s||!!o),refetchOnWindowFocus:!1,keepPreviousData:!0,retry:(y,b)=>(b instanceof Error?b.message:String(b)).includes("API 401")?!1:y<2,onError:y=>{(y instanceof Error?y.message:String(y)).includes("API 401")&&TS.error("Authentication required",{id:"portfolio-auth-error",description:"Sign in to manage your portfolio positions."})},onSuccess:y=>{if(!o)return;const b=_b(o);vY(y,b)&&cY(o,y)}});S.useEffect(()=>{if(typeof window>"u")return;const y=b=>{b.key==="portfolio.refresh"&&d.invalidateQueries({queryKey:f})};return window.addEventListener("storage",y),()=>window.removeEventListener("storage",y)},[d,f]);const x=w.data??(o?p??[]:[]);return{...w,data:x}}const MP=t=>{let e;const r=new Set,n=(d,f)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const g=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),r.forEach(w=>w(e,g))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d))},u=e=t(n,i,o);return o},bY=(t=>t?MP(t):MP),wY=t=>t;function xY(t,e=wY){const r=W.useSyncExternalStore(t.subscribe,W.useCallback(()=>e(t.getState()),[t,e]),W.useCallback(()=>e(t.getInitialState()),[t,e]));return W.useDebugValue(r),r}const DP=t=>{const e=bY(t),r=n=>xY(e,n);return Object.assign(r,e),r},_Y=(t=>t?DP(t):DP),$P=t=>Symbol.iterator in t,LP=t=>"entries"in t,FP=(t,e)=>{const r=t instanceof Map?t:new Map(t.entries()),n=e instanceof Map?e:new Map(e.entries());if(r.size!==n.size)return!1;for(const[i,s]of r)if(!n.has(i)||!Object.is(s,n.get(i)))return!1;return!0},SY=(t,e)=>{const r=t[Symbol.iterator](),n=e[Symbol.iterator]();let i=r.next(),s=n.next();for(;!i.done&&!s.done;){if(!Object.is(i.value,s.value))return!1;i=r.next(),s=n.next()}return!!i.done&&!!s.done};function EY(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e)?!1:$P(t)&&$P(e)?LP(t)&&LP(e)?FP(t,e):SY(t,e):FP({entries:()=>Object.entries(t)},{entries:()=>Object.entries(e)})}function OY(t){const e=W.useRef(void 0);return r=>{const n=t(r);return EY(e.current,n)?e.current:e.current=n}}function Sb(t){if(!t)return null;const e=t.trim();return e?e.toUpperCase():null}const UP=_Y((t,e)=>({prices:{},setPrice:(r,n)=>{const i=Sb(r),s=Number(n);!i||!Number.isFinite(s)||t(a=>a.prices[i]===s?a:{prices:{...a.prices,[i]:s}})},setPrices:r=>{const n=Object.entries(r);n.length!==0&&t(i=>{let s=!1;const a={...i.prices};for(const[o,u]of n){const d=Sb(o),f=Number(u);!d||!Number.isFinite(f)||a[d]!==f&&(a[d]=f,s=!0)}return s?{prices:a}:i})},getPrice:r=>{const n=Sb(r);if(n)return e().prices[n]},reset:()=>{t({prices:{}})}}));function tm(){const t=UP(OY(r=>({prices:r.prices,setPrice:r.setPrice,setPrices:r.setPrices,reset:r.reset}))),e=S.useCallback(r=>UP.getState().getPrice(r),[]);return{...t,getPrice:e}}function TY(t){return Array.from(new Set(t.map(e=>e.trim().toUpperCase()).filter(Boolean)))}async function AY(t){if(t.length===0)return{};const e="https://api.binance.com/api/v3/ticker/price?symbols="+encodeURIComponent(JSON.stringify(t));try{const r=await fetch(e);if(!r.ok)return{};const n=await r.json(),i={};for(const s of n){const a=s?.symbol?.toUpperCase?.(),o=Number(s?.price);a&&Number.isFinite(o)&&(i[a]=o)}return i}catch{return{}}}function nU(){const{data:t=[]}=LE(),{prices:e,setPrices:r,getPrice:n}=tm();return S.useEffect(()=>{if(typeof window>"u"||!t.length)return;const i=TY(t.map(u=>u.symbol));if(i.length===0)return;let s=!1;async function a(){const u=await AY(i);!s&&Object.keys(u).length>0&&r(u)}a();const o=window.setInterval(a,5e3);return()=>{s=!0,window.clearInterval(o)}},[t,r]),S.useMemo(()=>{let i=t.length,s=0,a=0;for(const d of t){const f=Number(d.quantity)||0,p=Number(d.entryPrice)||0,g=d.symbol.toUpperCase(),w=e[g],x=Number.isFinite(w)?w:n(d.symbol),y=typeof x=="number"&&Number.isFinite(x)?x:p;s+=f*p,a+=f*y}const o=a-s,u=s>0?o/s*100:0;return{count:i,cost:s,market:a,pnl:o,pnlPct:u}},[t,e,n])}function BP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function iU(...t){return e=>{let r=!1;const n=t.map(i=>{const s=BP(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():BP(t[i],null)}}}}function br(...t){return S.useCallback(iU(...t),t)}function Ad(t){const e=kY(t),r=S.forwardRef((n,i)=>{const{children:s,...a}=n,o=S.Children.toArray(s),u=o.find(jY);if(u){const d=u.props.children,f=o.map(p=>p===u?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:p);return m.jsx(e,{...a,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return m.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var CY=Ad("Slot");function kY(t){const e=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const a=IY(i),o=NY(s,i.props);return i.type!==S.Fragment&&(o.ref=n?iU(n,a):a),S.cloneElement(i,o)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var PY=Symbol("radix.slottable");function jY(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===PY}function NY(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const u=s(...o);return i(...o),u}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function IY(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function sU(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=sU(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function dt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=sU(t))&&(n&&(n+=" "),n+=e);return n}const qP=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zP=dt,aU=(t,e)=>r=>{var n;if(e?.variants==null)return zP(t,r?.class,r?.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(d=>{const f=r?.[d],p=s?.[d];if(f===null)return null;const g=qP(f)||qP(p);return i[d][g]}),o=r&&Object.entries(r).reduce((d,f)=>{let[p,g]=f;return g===void 0||(d[p]=g),d},{}),u=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:p,className:g,...w}=f;return Object.entries(w).every(x=>{let[y,b]=x;return Array.isArray(b)?b.includes({...s,...o}[y]):{...s,...o}[y]===b})?[...d,p,g]:d},[]);return zP(t,a,u,r?.class,r?.className)},FE="-",RY=t=>{const e=DY(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(FE);return o[0]===""&&o.length!==1&&o.shift(),oU(o,e)||MY(a)},getConflictingClassGroupIds:(a,o)=>{const u=r[a]||[];return o&&n[a]?[...u,...n[a]]:u}}},oU=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?oU(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(FE);return e.validators.find(({validator:a})=>a(s))?.classGroupId},WP=/^\[(.+)\]$/,MY=t=>{if(WP.test(t)){const e=WP.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},DY=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return LY(Object.entries(t.classGroups),r).forEach(([s,a])=>{AS(a,n,s,e)}),n},AS=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:VP(e,i);s.classGroupId=r;return}if(typeof i=="function"){if($Y(i)){AS(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{AS(a,VP(e,s),r,n)})})},VP=(t,e)=>{let r=t;return e.split(FE).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},$Y=t=>t.isThemeGetter,LY=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,FY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},lU="!",UY=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{const u=[];let d=0,f=0,p;for(let b=0;b<o.length;b++){let E=o[b];if(d===0){if(E===i&&(n||o.slice(b,b+s)===e)){u.push(o.slice(f,b)),f=b+s;continue}if(E==="/"){p=b;continue}}E==="["?d++:E==="]"&&d--}const g=u.length===0?o:o.substring(f),w=g.startsWith(lU),x=w?g.substring(1):g,y=p&&p>f?p-f:void 0;return{modifiers:u,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:y}};return r?o=>r({className:o,parseClassName:a}):a},BY=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},qY=t=>({cache:FY(t.cacheSize),parseClassName:UY(t),...RY(t)}),zY=/\s+/,WY=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(zY);let o="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:w}=r(d);let x=!!w,y=n(x?g.substring(0,w):g);if(!y){if(!x){o=d+(o.length>0?" "+o:o);continue}if(y=n(g),!y){o=d+(o.length>0?" "+o:o);continue}x=!1}const b=BY(f).join(":"),E=p?b+lU:b,O=E+y;if(s.includes(O))continue;s.push(O);const A=i(y,x);for(let P=0;P<A.length;++P){const T=A[P];s.push(E+T)}o=d+(o.length>0?" "+o:o)}return o};function VY(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=cU(e))&&(n&&(n+=" "),n+=r);return n}const cU=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=cU(t[n]))&&(r&&(r+=" "),r+=e);return r};function HY(t,...e){let r,n,i,s=a;function a(u){const d=e.reduce((f,p)=>p(f),t());return r=qY(d),n=r.cache.get,i=r.cache.set,s=o,o(u)}function o(u){const d=n(u);if(d)return d;const f=WY(u,r);return i(u,f),f}return function(){return s(VY.apply(null,arguments))}}const Ut=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},uU=/^\[(?:([a-z-]+):)?(.+)\]$/i,KY=/^\d+\/\d+$/,GY=new Set(["px","full","screen"]),YY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ns=t=>Hl(t)||GY.has(t)||KY.test(t),na=t=>Rc(t,"length",oX),Hl=t=>!!t&&!Number.isNaN(Number(t)),Eb=t=>Rc(t,"number",Hl),Cu=t=>!!t&&Number.isInteger(Number(t)),eX=t=>t.endsWith("%")&&Hl(t.slice(0,-1)),Ze=t=>uU.test(t),ia=t=>YY.test(t),tX=new Set(["length","size","percentage"]),rX=t=>Rc(t,tX,dU),nX=t=>Rc(t,"position",dU),iX=new Set(["image","url"]),sX=t=>Rc(t,iX,cX),aX=t=>Rc(t,"",lX),ku=()=>!0,Rc=(t,e,r)=>{const n=uU.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},oX=t=>XY.test(t)&&!QY.test(t),dU=()=>!1,lX=t=>JY.test(t),cX=t=>ZY.test(t),uX=()=>{const t=Ut("colors"),e=Ut("spacing"),r=Ut("blur"),n=Ut("brightness"),i=Ut("borderColor"),s=Ut("borderRadius"),a=Ut("borderSpacing"),o=Ut("borderWidth"),u=Ut("contrast"),d=Ut("grayscale"),f=Ut("hueRotate"),p=Ut("invert"),g=Ut("gap"),w=Ut("gradientColorStops"),x=Ut("gradientColorStopPositions"),y=Ut("inset"),b=Ut("margin"),E=Ut("opacity"),O=Ut("padding"),A=Ut("saturate"),P=Ut("scale"),T=Ut("sepia"),C=Ut("skew"),j=Ut("space"),N=Ut("translate"),D=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Ze,e],$=()=>[Ze,e],F=()=>["",ns,na],K=()=>["auto",Hl,Ze],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",Ze],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Hl,Ze];return{cacheSize:500,separator:":",theme:{colors:[ku],spacing:[ns,na],blur:["none","",ia,Ze],brightness:U(),borderColor:[t],borderRadius:["none","","full",ia,Ze],borderSpacing:$(),borderWidth:F(),contrast:U(),grayscale:J(),hueRotate:U(),invert:J(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[eX,na],inset:R(),margin:R(),opacity:U(),padding:$(),saturate:U(),scale:U(),sepia:J(),skew:U(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[ia]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Ze]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cu,Ze]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Cu,Ze]}],"grid-cols":[{"grid-cols":[ku]}],"col-start-end":[{col:["auto",{span:["full",Cu,Ze]},Ze]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[ku]}],"row-start-end":[{row:["auto",{span:[Cu,Ze]},Ze]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,e]}],"min-w":[{"min-w":[Ze,e,"min","max","fit"]}],"max-w":[{"max-w":[Ze,e,"none","full","min","max","fit","prose",{screen:[ia]},ia]}],h:[{h:[Ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ia,na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Eb]}],"font-family":[{font:[ku]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",Hl,Eb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ns,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ns,na]}],"underline-offset":[{"underline-offset":["auto",ns,Ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),nX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sX]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[ns,Ze]}],"outline-w":[{outline:[ns,na]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[ns,na]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ia,aX]}],"shadow-color":[{shadow:[ku]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",ia,Ze]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[A]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Cu,Ze]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ns,na,Eb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dX=HY(uX);function ht(...t){return dX(dt(t))}const xa=t=>{if(Array.isArray(t))return t;if(t&&typeof t=="object"){const e=t.data;if(Array.isArray(e))return e}return[]},bl=t=>(t??"").toString(),HP=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function fX(t){const e=typeof t=="number"?t:typeof t=="string"?Number(t):0;return Number.isFinite(e)?HP.format(e):HP.format(0)}const hX=aU("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-lg hover:shadow-xl hover:bg-primary/95 active:bg-primary/85",destructive:"bg-destructive text-destructive-foreground shadow-lg hover:shadow-xl hover:bg-destructive/95 active:bg-destructive/85",outline:"border-2 border-primary text-primary bg-transparent hover:bg-primary/10 active:bg-primary/20",secondary:"bg-secondary/20 text-secondary border border-secondary hover:bg-secondary/30 active:bg-secondary/40",ghost:"text-foreground hover:bg-muted/40 active:bg-muted/60",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 text-sm",sm:"h-9 rounded-lg px-3 text-xs",lg:"h-11 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),it=S.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const a=n?CY:"button";return m.jsx(a,{className:ht(hX({variant:e,size:r,className:t})),ref:s,...i})});it.displayName="Button";const lt=S.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:ht("min-w-0 rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));lt.displayName="Card";const Ur=S.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:ht("flex min-w-0 flex-col space-y-1.5 p-6",t),...e}));Ur.displayName="CardHeader";const Br=S.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:ht("min-w-0 break-keep whitespace-normal text-2xl font-semibold leading-none tracking-tight",t),...e}));Br.displayName="CardTitle";const pX=S.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:ht("text-sm text-muted-foreground",t),...e}));pX.displayName="CardDescription";const ct=S.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:ht("min-w-0 p-6 pt-0",t),...e}));ct.displayName="CardContent";const fU=S.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:ht("flex min-w-0 items-center p-6 pt-0",t),...e}));fU.displayName="CardFooter";async function mX(){const t=await fetch("https://api.coingecko.com/api/v3/global",{method:"GET"});if(!t.ok)throw new Error(`CG ${t.status}`);const r=(await t.json())?.data?.market_cap_percentage?.btc;if(typeof r!="number")throw new Error("CG bad payload");return r}function gX(){return On({queryKey:["btcDominance"],queryFn:mX,staleTime:300*1e3,gcTime:1440*60*1e3,refetchOnWindowFocus:!1})}const vX=t=>Number.isFinite(t)?`${t.toFixed(2)}%`:"",yX={"--neon-glow":"hsl(45, 92%, 60%)"};function bX(){const{data:t,isLoading:e,isError:r}=gX(),n=qi();S.useEffect(()=>{if(typeof window>"u")return;const o=()=>{n.invalidateQueries({queryKey:["btcDominance"]})};return window.addEventListener("dashboard:refresh",o),()=>{window.removeEventListener("dashboard:refresh",o)}},[n]);const i=typeof t=="number"&&Number.isFinite(t),s=r||!i?"":vX(t),a=r?"Unavailable":"Share of total crypto market cap";return m.jsxs(lt,{className:"dashboard-card neon-hover bg-gradient-to-br from-amber-500/10 to-amber-500/20 flex flex-col",style:yX,children:[m.jsx(ct,{className:"p-6 flex-1 flex flex-col justify-between gap-3",children:m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-foreground",children:"BTC Dominance"}),m.jsx("p",{className:"text-3xl font-bold text-foreground mt-2",children:e?"":s}),m.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a})]})}),m.jsx(fU,{className:"pt-0 px-6 pb-6",children:m.jsx("span",{className:"text-xs opacity-70",children:"Source: CoinGecko"})})]})}const wX="gainers_data_cache",xX="gainers_data_timestamp",_X=t=>t.endsWith("USDT")?t.slice(0,-4):t;function SX(){const[t,e]=S.useState([]),[r,n]=S.useState(null),i=()=>{try{const u=localStorage.getItem(wX),d=localStorage.getItem(xX);if(u&&d){const p=JSON.parse(u).slice(0,3).map(w=>({symbol:w.symbol,change24h:typeof w.change24h=="number"?w.change24h:parseFloat(w.change24h||"0")}));e(p);const g=new Date(d);return n(g),!0}}catch(u){console.error("Error loading gainers from cache:",u)}return!1},s=async()=>{try{const u=await fetch("/api/market/gainers");if(!u.ok)return;const d=await u.json(),f=Array.isArray(d)?d:d?.rows;if(!Array.isArray(f))return;const p=w=>{if(typeof w=="number")return Number.isFinite(w)?w:null;if(typeof w=="string"){const x=Number(w);return Number.isFinite(x)?x:null}return null},g=f.slice(0,3).map(w=>({symbol:w.symbol||w.pair||w.ticker||"",change24h:p(w.changePct)??p(w.change24h)??p(w.priceChangePercent)??0})).filter(w=>w.symbol);g.length>0&&(e(g),n(new Date))}catch(u){console.error("Error fetching gainers fallback:",u)}};S.useEffect(()=>{i()||s();const d=()=>{i()};window.addEventListener("storage",d);const f=setInterval(i,5e3);return()=>{window.removeEventListener("storage",d),clearInterval(f)}},[]);const a=u=>u.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),o=u=>`${u>=0?"+":""}${u.toFixed(2)}%`;return m.jsx(Wt,{to:"/gainers",className:"block h-full",children:m.jsx(lt,{className:"dashboard-card neon-hover bg-gradient-to-br from-green-500/10 to-green-500/20 h-auto sm:h-full cursor-pointer",style:{"--neon-glow":"hsl(120, 100%, 40%)"},children:m.jsxs(ct,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start h-full",children:[m.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm mb-0.5",children:"Top Gainers"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Market Leaders"})]}),m.jsx(ZL,{className:"w-5 h-5 text-accent flex-shrink-0 mt-0.5"})]}),m.jsx("div",{className:"space-y-1.5 flex-1 mb-2",children:t.length>0?t.map(u=>m.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[m.jsx("span",{className:"font-medium text-foreground",children:_X(u.symbol)}),m.jsx("span",{className:`font-semibold ${u.change24h>=0?"text-accent":"text-destructive"}`,children:o(u.change24h)})]},u.symbol)):m.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading gainers..."})}),m.jsx("div",{className:"text-xs text-primary font-medium mb-2 hover:underline",children:"view more "}),r&&m.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["last updated ",a(r)]})]})})})}const EX=({value:t,classification:e})=>{const r=Math.max(0,Math.min(100,t)),n=-90+r/100*180;let i="#ef4444";return r<25?i="#ef4444":r<45?i="#f97316":r<55?i="#eab308":r<75?i="#84cc16":i="#22c55e",m.jsxs("div",{className:"flex flex-col items-center justify-center w-full",children:[m.jsxs("svg",{width:"140",height:"85",viewBox:"0 0 200 120",className:"mb-2",children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[m.jsx("stop",{offset:"0%",style:{stopColor:"#ef4444",stopOpacity:1}})," ",m.jsx("stop",{offset:"25%",style:{stopColor:"#f97316",stopOpacity:1}})," ",m.jsx("stop",{offset:"50%",style:{stopColor:"#eab308",stopOpacity:1}})," ",m.jsx("stop",{offset:"75%",style:{stopColor:"#84cc16",stopOpacity:1}})," ",m.jsx("stop",{offset:"100%",style:{stopColor:"#22c55e",stopOpacity:1}})," "]})}),m.jsx("path",{d:"M 20 100 A 80 80 0 0 1 180 100",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"8",strokeLinecap:"round"}),m.jsx("text",{x:"20",y:"115",fontSize:"10",fill:"currentColor",className:"text-muted-foreground",textAnchor:"middle",children:"Fear"}),m.jsx("text",{x:"100",y:"115",fontSize:"10",fill:"currentColor",className:"text-muted-foreground",textAnchor:"middle",children:"Neutral"}),m.jsx("text",{x:"180",y:"115",fontSize:"10",fill:"currentColor",className:"text-muted-foreground",textAnchor:"middle",children:"Greed"}),m.jsx("circle",{cx:"100",cy:"100",r:"8",fill:"currentColor",className:"text-foreground"}),m.jsxs("g",{transform:`rotate(${n} 100 100)`,children:[m.jsx("line",{x1:"100",y1:"100",x2:"100",y2:"25",stroke:i,strokeWidth:"3",strokeLinecap:"round"}),m.jsx("circle",{cx:"100",cy:"25",r:"4",fill:i})]})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-2xl font-bold",style:{color:i},children:r.toFixed(0)}),m.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:e})]})]})};async function hU(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const OX=new Set(["/api/health","/api/scanner/history","/api/market/ticker/BTCUSDT","/api/market/ticker/ETHUSDT","/api/market/gainers"]);function TX(t){if(!t)return t;try{return new URL(t).pathname}catch{const[e]=t.split("?");return e&&(e.startsWith("/")?e:`/${e}`)}return t}function pU(t){const e=TX(t);return e?OX.has(e):!1}async function AX(t,e){const r={};if(e!==void 0&&(r["Content-Type"]="application/json"),!pU(t)){const n=await XF();n&&(r.Authorization=`Bearer ${n}`)}return r}async function ld(t,e,r){const n=await Ia(e,{method:t,headers:await AX(e,r),body:r?JSON.stringify(r):void 0});return await hU(n),n}const Gu=({on401:t})=>async({queryKey:e})=>{const[r]=e;let n;if(!pU(r)){const s=await XF();n=s?{Authorization:`Bearer ${s}`}:void 0}const i=await Ia(r,{headers:n});return t==="returnNull"&&i.status===401?null:(await hU(i),await i.json())};new pL({defaultOptions:{queries:{queryFn:Gu({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function CX(t){return Array.isArray(t)?t:t?[t]:[]}function UE(t,e={}){const r=CX(t).filter(Boolean);if(r.length===0)throw new Error("openSpotTickerStream requires at least one symbol");const n=typeof e=="function"?{onMessage:e}:e,i=n.onMessage,a=`wss://stream.binance.com:9443/stream?streams=${r.map(x=>`${x.toLowerCase()}@ticker`).join("/")}`;let o=null,u=null,d=0,f=!1;const p=n.maxReconnects??1/0,g=()=>{u&&(clearTimeout(u),u=null)},w=()=>{f||(g(),o=new WebSocket(a),o.onopen=x=>{d=0,n.onOpen?.(x)},o.onmessage=x=>{try{const y=JSON.parse(x.data),b=y&&y.data||y;if(!b)return;i?.({symbol:b.s,lastPrice:b.c,priceChange:b.p,priceChangePercent:b.P,highPrice:b.h,lowPrice:b.l,volume:b.v,quoteVolume:b.q})}catch(y){n.onError?.(y instanceof Error?y:new Error("Failed to parse ticker message"))}},o.onerror=x=>{n.onError?.(x)},o.onclose=x=>{if(n.onClose?.(x),f||d>=p)return;const y=d+1,b=Math.min(3e4,1e3*Math.pow(2,Math.min(y,5)));u=setTimeout(()=>{d=y,w()},b)})};return w(),()=>{if(f=!0,g(),o){o.onopen=null,o.onmessage=null,o.onerror=null,o.onclose=null;try{o.close(1e3,"normal")}catch{}}o=null}}function kX(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return S.useMemo(()=>n=>{e.forEach(i=>i(n))},e)}const bg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Mc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function BE(t){return"nodeType"in t}function Xr(t){var e,r;return t?Mc(t)?t:BE(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function qE(t){const{Document:e}=Xr(t);return t instanceof e}function Of(t){return Mc(t)?!1:t instanceof Xr(t).HTMLElement}function mU(t){return t instanceof Xr(t).SVGElement}function Dc(t){return t?Mc(t)?t.document:BE(t)?qE(t)?t:Of(t)||mU(t)?t.ownerDocument:document:document:document}const mi=bg?S.useLayoutEffect:S.useEffect;function wg(t){const e=S.useRef(t);return mi(()=>{e.current=t}),S.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function PX(){const t=S.useRef(null),e=S.useCallback((n,i)=>{t.current=setInterval(n,i)},[]),r=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function Cd(t,e){e===void 0&&(e=[t]);const r=S.useRef(t);return mi(()=>{r.current!==t&&(r.current=t)},e),r}function Tf(t,e){const r=S.useRef();return S.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function rm(t){const e=wg(t),r=S.useRef(null),n=S.useCallback(i=>{i!==r.current&&e?.(i,r.current),r.current=i},[]);return[r,n]}function nm(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let Ob={};function Af(t,e){return S.useMemo(()=>{if(e)return e;const r=Ob[t]==null?0:Ob[t]+1;return Ob[t]=r,t+"-"+r},[t,e])}function gU(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((s,a)=>{const o=Object.entries(a);for(const[u,d]of o){const f=s[u];f!=null&&(s[u]=f+t*d)}return s},{...e})}}const Kl=gU(1),kd=gU(-1);function jX(t){return"clientX"in t&&"clientY"in t}function xg(t){if(!t)return!1;const{KeyboardEvent:e}=Xr(t.target);return e&&t instanceof e}function NX(t){if(!t)return!1;const{TouchEvent:e}=Xr(t.target);return e&&t instanceof e}function im(t){if(NX(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return jX(t)?{x:t.clientX,y:t.clientY}:null}const Ea=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[Ea.Translate.toString(t),Ea.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),KP="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function IX(t){return t.matches(KP)?t:t.querySelector(KP)}const RX={display:"none"};function MX(t){let{id:e,value:r}=t;return W.createElement("div",{id:e,style:RX},r)}function DX(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return W.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function $X(){const[t,e]=S.useState("");return{announce:S.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const vU=S.createContext(null);function LX(t){const e=S.useContext(vU);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function FX(){const[t]=S.useState(()=>new Set),e=S.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[S.useCallback(n=>{let{type:i,event:s}=n;t.forEach(a=>{var o;return(o=a[i])==null?void 0:o.call(a,s)})},[t]),e]}const UX={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},BX={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function qX(t){let{announcements:e=BX,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=UX}=t;const{announce:s,announcement:a}=$X(),o=Af("DndLiveRegion"),[u,d]=S.useState(!1);if(S.useEffect(()=>{d(!0)},[]),LX(S.useMemo(()=>({onDragStart(p){let{active:g}=p;s(e.onDragStart({active:g}))},onDragMove(p){let{active:g,over:w}=p;e.onDragMove&&s(e.onDragMove({active:g,over:w}))},onDragOver(p){let{active:g,over:w}=p;s(e.onDragOver({active:g,over:w}))},onDragEnd(p){let{active:g,over:w}=p;s(e.onDragEnd({active:g,over:w}))},onDragCancel(p){let{active:g,over:w}=p;s(e.onDragCancel({active:g,over:w}))}}),[s,e])),!u)return null;const f=W.createElement(W.Fragment,null,W.createElement(MX,{id:n,value:i.draggable}),W.createElement(DX,{id:o,announcement:a}));return r?qn.createPortal(f,r):f}var gr;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(gr||(gr={}));function sm(){}function GP(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function zX(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return S.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const gi=Object.freeze({x:0,y:0});function yU(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function WX(t,e){const r=im(t);if(!r)return"0 0";const n={x:(r.x-e.left)/e.width*100,y:(r.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function bU(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function VX(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function YP(t){let{left:e,top:r,height:n,width:i}=t;return[{x:e,y:r},{x:e+i,y:r},{x:e,y:r+n},{x:e+i,y:r+n}]}function wU(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function XP(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}const HX=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=XP(e,e.left,e.top),s=[];for(const a of n){const{id:o}=a,u=r.get(o);if(u){const d=yU(XP(u),i);s.push({id:o,data:{droppableContainer:a,value:d}})}}return s.sort(bU)},KX=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=YP(e),s=[];for(const a of n){const{id:o}=a,u=r.get(o);if(u){const d=YP(u),f=i.reduce((g,w,x)=>g+yU(d[x],w),0),p=Number((f/4).toFixed(4));s.push({id:o,data:{droppableContainer:a,value:p}})}}return s.sort(bU)};function GX(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=i-n,o=s-r;if(n<i&&r<s){const u=e.width*e.height,d=t.width*t.height,f=a*o,p=f/(u+d-f);return Number(p.toFixed(4))}return 0}const YX=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=[];for(const s of n){const{id:a}=s,o=r.get(a);if(o){const u=GX(o,e);u>0&&i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(VX)};function XX(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function xU(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:gi}function QX(t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((a,o)=>({...a,top:a.top+t*o.y,bottom:a.bottom+t*o.y,left:a.left+t*o.x,right:a.right+t*o.x}),{...r})}}const JX=QX(1);function _U(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function ZX(t,e,r){const n=_U(e);if(!n)return t;const{scaleX:i,scaleY:s,x:a,y:o}=n,u=t.left-a-(1-i)*parseFloat(r),d=t.top-o-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),f=i?t.width/i:t.width,p=s?t.height/s:t.height;return{width:f,height:p,top:d,right:u+f,bottom:d+p,left:u}}const eQ={ignoreTransform:!1};function $c(t,e){e===void 0&&(e=eQ);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:f}=Xr(t).getComputedStyle(t);d&&(r=ZX(r,d,f))}const{top:n,left:i,width:s,height:a,bottom:o,right:u}=r;return{top:n,left:i,width:s,height:a,bottom:o,right:u}}function QP(t){return $c(t,{ignoreTransform:!0})}function tQ(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function rQ(t,e){return e===void 0&&(e=Xr(t).getComputedStyle(t)),e.position==="fixed"}function nQ(t,e){e===void 0&&(e=Xr(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?r.test(s):!1})}function _g(t,e){const r=[];function n(i){if(e!=null&&r.length>=e||!i)return r;if(qE(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!Of(i)||mU(i)||r.includes(i))return r;const s=Xr(t).getComputedStyle(i);return i!==t&&nQ(i,s)&&r.push(i),rQ(i,s)?r:n(i.parentNode)}return t?n(t):r}function SU(t){const[e]=_g(t,1);return e??null}function Tb(t){return!bg||!t?null:Mc(t)?t:BE(t)?qE(t)||t===Dc(t).scrollingElement?window:Of(t)?t:null:null}function EU(t){return Mc(t)?t.scrollX:t.scrollLeft}function OU(t){return Mc(t)?t.scrollY:t.scrollTop}function CS(t){return{x:EU(t),y:OU(t)}}var Cr;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Cr||(Cr={}));function TU(t){return!bg||!t?!1:t===document.scrollingElement}function AU(t){const e={x:0,y:0},r=TU(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=n.y,o=t.scrollLeft>=n.x;return{isTop:i,isLeft:s,isBottom:a,isRight:o,maxScroll:n,minScroll:e}}const iQ={x:.2,y:.2};function sQ(t,e,r,n,i){let{top:s,left:a,right:o,bottom:u}=r;n===void 0&&(n=10),i===void 0&&(i=iQ);const{isTop:d,isBottom:f,isLeft:p,isRight:g}=AU(t),w={x:0,y:0},x={x:0,y:0},y={height:e.height*i.y,width:e.width*i.x};return!d&&s<=e.top+y.height?(w.y=Cr.Backward,x.y=n*Math.abs((e.top+y.height-s)/y.height)):!f&&u>=e.bottom-y.height&&(w.y=Cr.Forward,x.y=n*Math.abs((e.bottom-y.height-u)/y.height)),!g&&o>=e.right-y.width?(w.x=Cr.Forward,x.x=n*Math.abs((e.right-y.width-o)/y.width)):!p&&a<=e.left+y.width&&(w.x=Cr.Backward,x.x=n*Math.abs((e.left+y.width-a)/y.width)),{direction:w,speed:x}}function aQ(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:r,right:n,bottom:i}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:i,width:t.clientWidth,height:t.clientHeight}}function CU(t){return t.reduce((e,r)=>Kl(e,CS(r)),gi)}function oQ(t){return t.reduce((e,r)=>e+EU(r),0)}function lQ(t){return t.reduce((e,r)=>e+OU(r),0)}function kU(t,e){if(e===void 0&&(e=$c),!t)return;const{top:r,left:n,bottom:i,right:s}=e(t);SU(t)&&(i<=0||s<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const cQ=[["x",["left","right"],oQ],["y",["top","bottom"],lQ]];class zE{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=_g(r),i=CU(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,o]of cQ)for(const u of a)Object.defineProperty(this,u,{get:()=>{const d=o(n),f=i[s]-d;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class cd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var i;(i=this.target)==null||i.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function uQ(t){const{EventTarget:e}=Xr(t);return t instanceof e?t:Dc(t)}function Ab(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Un;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Un||(Un={}));function JP(t){t.preventDefault()}function dQ(t){t.stopPropagation()}var ot;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ot||(ot={}));const PU={start:[ot.Space,ot.Enter],cancel:[ot.Esc],end:[ot.Space,ot.Enter,ot.Tab]},fQ=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case ot.Right:return{...r,x:r.x+25};case ot.Left:return{...r,x:r.x-25};case ot.Down:return{...r,y:r.y+25};case ot.Up:return{...r,y:r.y-25}}};class WE{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new cd(Dc(r)),this.windowListeners=new cd(Xr(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Un.Resize,this.handleCancel),this.windowListeners.add(Un.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Un.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&kU(n),r(gi)}handleKeyDown(e){if(xg(e)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:s=PU,coordinateGetter:a=fQ,scrollBehavior:o="smooth"}=i,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=n.current,f=d?{x:d.left,y:d.top}:gi;this.referenceCoordinates||(this.referenceCoordinates=f);const p=a(e,{active:r,context:n.current,currentCoordinates:f});if(p){const g=kd(p,f),w={x:0,y:0},{scrollableAncestors:x}=n.current;for(const y of x){const b=e.code,{isTop:E,isRight:O,isLeft:A,isBottom:P,maxScroll:T,minScroll:C}=AU(y),j=aQ(y),N={x:Math.min(b===ot.Right?j.right-j.width/2:j.right,Math.max(b===ot.Right?j.left:j.left+j.width/2,p.x)),y:Math.min(b===ot.Down?j.bottom-j.height/2:j.bottom,Math.max(b===ot.Down?j.top:j.top+j.height/2,p.y))},D=b===ot.Right&&!O||b===ot.Left&&!A,M=b===ot.Down&&!P||b===ot.Up&&!E;if(D&&N.x!==p.x){const R=y.scrollLeft+g.x,$=b===ot.Right&&R<=T.x||b===ot.Left&&R>=C.x;if($&&!g.y){y.scrollTo({left:R,behavior:o});return}$?w.x=y.scrollLeft-R:w.x=b===ot.Right?y.scrollLeft-T.x:y.scrollLeft-C.x,w.x&&y.scrollBy({left:-w.x,behavior:o});break}else if(M&&N.y!==p.y){const R=y.scrollTop+g.y,$=b===ot.Down&&R<=T.y||b===ot.Up&&R>=C.y;if($&&!g.x){y.scrollTo({top:R,behavior:o});return}$?w.y=y.scrollTop-R:w.y=b===ot.Down?y.scrollTop-T.y:y.scrollTop-C.y,w.y&&y.scrollBy({top:-w.y,behavior:o});break}}this.handleMove(e,Kl(kd(p,this.referenceCoordinates),w))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}WE.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=PU,onActivation:i}=e,{active:s}=r;const{code:a}=t.nativeEvent;if(n.start.includes(a)){const o=s.activatorNode.current;return o&&t.target!==o?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function ZP(t){return!!(t&&"distance"in t)}function ej(t){return!!(t&&"delay"in t)}class VE{constructor(e,r,n){var i;n===void 0&&(n=uQ(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:s}=e,{target:a}=s;this.props=e,this.events=r,this.document=Dc(a),this.documentListeners=new cd(this.document),this.listeners=new cd(n),this.windowListeners=new cd(Xr(a)),this.initialCoordinates=(i=im(s))!=null?i:gi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Un.Resize,this.handleCancel),this.windowListeners.add(Un.DragStart,JP),this.windowListeners.add(Un.VisibilityChange,this.handleCancel),this.windowListeners.add(Un.ContextMenu,JP),this.documentListeners.add(Un.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ej(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(ZP(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:i}=this.props;i(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Un.Click,dQ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Un.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:o}}=s;if(!i)return;const u=(r=im(e))!=null?r:gi,d=kd(i,u);if(!n&&o){if(ZP(o)){if(o.tolerance!=null&&Ab(d,o.tolerance))return this.handleCancel();if(Ab(d,o.distance))return this.handleStart()}if(ej(o)&&Ab(d,o.tolerance))return this.handleCancel();this.handlePending(o,d);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===ot.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const hQ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class HE extends VE{constructor(e){const{event:r}=e,n=Dc(r.target);super(e,hQ,n)}}HE.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const pQ={move:{name:"mousemove"},end:{name:"mouseup"}};var kS;(function(t){t[t.RightClick=2]="RightClick"})(kS||(kS={}));class mQ extends VE{constructor(e){super(e,pQ,Dc(e.event.target))}}mQ.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===kS.RightClick?!1:(n?.({event:r}),!0)}}];const Cb={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class gQ extends VE{constructor(e){super(e,Cb)}static setup(){return window.addEventListener(Cb.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Cb.move.name,e)};function e(){}}}gQ.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var ud;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(ud||(ud={}));var am;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(am||(am={}));function vQ(t){let{acceleration:e,activator:r=ud.Pointer,canScroll:n,draggingRect:i,enabled:s,interval:a=5,order:o=am.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:f,delta:p,threshold:g}=t;const w=bQ({delta:p,disabled:!s}),[x,y]=PX(),b=S.useRef({x:0,y:0}),E=S.useRef({x:0,y:0}),O=S.useMemo(()=>{switch(r){case ud.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case ud.DraggableRect:return i}},[r,i,u]),A=S.useRef(null),P=S.useCallback(()=>{const C=A.current;if(!C)return;const j=b.current.x*E.current.x,N=b.current.y*E.current.y;C.scrollBy(j,N)},[]),T=S.useMemo(()=>o===am.TreeOrder?[...d].reverse():d,[o,d]);S.useEffect(()=>{if(!s||!d.length||!O){y();return}for(const C of T){if(n?.(C)===!1)continue;const j=d.indexOf(C),N=f[j];if(!N)continue;const{direction:D,speed:M}=sQ(C,N,O,e,g);for(const R of["x","y"])w[R][D[R]]||(M[R]=0,D[R]=0);if(M.x>0||M.y>0){y(),A.current=C,x(P,a),b.current=M,E.current=D;return}}b.current={x:0,y:0},E.current={x:0,y:0},y()},[e,P,n,y,s,a,JSON.stringify(O),JSON.stringify(w),x,d,T,f,JSON.stringify(g)])}const yQ={x:{[Cr.Backward]:!1,[Cr.Forward]:!1},y:{[Cr.Backward]:!1,[Cr.Forward]:!1}};function bQ(t){let{delta:e,disabled:r}=t;const n=nm(e);return Tf(i=>{if(r||!n||!i)return yQ;const s={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Cr.Backward]:i.x[Cr.Backward]||s.x===-1,[Cr.Forward]:i.x[Cr.Forward]||s.x===1},y:{[Cr.Backward]:i.y[Cr.Backward]||s.y===-1,[Cr.Forward]:i.y[Cr.Forward]||s.y===1}}},[r,e,n])}function wQ(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return Tf(i=>{var s;return e==null?null:(s=n??i)!=null?s:null},[n,e])}function xQ(t,e){return S.useMemo(()=>t.reduce((r,n)=>{const{sensor:i}=n,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,n)}));return[...r,...s]},[]),[t,e])}var Pd;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Pd||(Pd={}));var PS;(function(t){t.Optimized="optimized"})(PS||(PS={}));const tj=new Map;function _Q(t,e){let{dragging:r,dependencies:n,config:i}=e;const[s,a]=S.useState(null),{frequency:o,measure:u,strategy:d}=i,f=S.useRef(t),p=b(),g=Cd(p),w=S.useCallback(function(E){E===void 0&&(E=[]),!g.current&&a(O=>O===null?E:O.concat(E.filter(A=>!O.includes(A))))},[g]),x=S.useRef(null),y=Tf(E=>{if(p&&!r)return tj;if(!E||E===tj||f.current!==t||s!=null){const O=new Map;for(let A of t){if(!A)continue;if(s&&s.length>0&&!s.includes(A.id)&&A.rect.current){O.set(A.id,A.rect.current);continue}const P=A.node.current,T=P?new zE(u(P),P):null;A.rect.current=T,T&&O.set(A.id,T)}return O}return E},[t,s,r,p,u]);return S.useEffect(()=>{f.current=t},[t]),S.useEffect(()=>{p||w()},[r,p]),S.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),S.useEffect(()=>{p||typeof o!="number"||x.current!==null||(x.current=setTimeout(()=>{w(),x.current=null},o))},[o,p,w,...n]),{droppableRects:y,measureDroppableContainers:w,measuringScheduled:s!=null};function b(){switch(d){case Pd.Always:return!1;case Pd.BeforeDragging:return r;default:return!r}}}function KE(t,e){return Tf(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function SQ(t,e){return KE(t,e)}function EQ(t){let{callback:e,disabled:r}=t;const n=wg(e),i=S.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,r]);return S.useEffect(()=>()=>i?.disconnect(),[i]),i}function Sg(t){let{callback:e,disabled:r}=t;const n=wg(e),i=S.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[r]);return S.useEffect(()=>()=>i?.disconnect(),[i]),i}function OQ(t){return new zE($c(t),t)}function rj(t,e,r){e===void 0&&(e=OQ);const[n,i]=S.useState(null);function s(){i(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??r)!=null?d:null}const f=e(t);return JSON.stringify(u)===JSON.stringify(f)?u:f})}const a=EQ({callback(u){if(t)for(const d of u){const{type:f,target:p}=d;if(f==="childList"&&p instanceof HTMLElement&&p.contains(t)){s();break}}}}),o=Sg({callback:s});return mi(()=>{s(),t?(o?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(o?.disconnect(),a?.disconnect())},[t]),n}function TQ(t){const e=KE(t);return xU(t,e)}const nj=[];function AQ(t){const e=S.useRef(t),r=Tf(n=>t?n&&n!==nj&&t&&e.current&&t.parentNode===e.current.parentNode?n:_g(t):nj,[t]);return S.useEffect(()=>{e.current=t},[t]),r}function CQ(t){const[e,r]=S.useState(null),n=S.useRef(t),i=S.useCallback(s=>{const a=Tb(s.target);a&&r(o=>o?(o.set(a,CS(a)),new Map(o)):null)},[]);return S.useEffect(()=>{const s=n.current;if(t!==s){a(s);const o=t.map(u=>{const d=Tb(u);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,CS(d)]):null}).filter(u=>u!=null);r(o.length?new Map(o):null),n.current=t}return()=>{a(t),a(s)};function a(o){o.forEach(u=>{const d=Tb(u);d?.removeEventListener("scroll",i)})}},[i,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>Kl(s,a),gi):CU(t):gi,[t,e])}function ij(t,e){e===void 0&&(e=[]);const r=S.useRef(null);return S.useEffect(()=>{r.current=null},e),S.useEffect(()=>{const n=t!==gi;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?kd(t,r.current):gi}function kQ(t){S.useEffect(()=>{if(!bg)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r?.()}},t.map(e=>{let{sensor:r}=e;return r}))}function PQ(t,e){return S.useMemo(()=>t.reduce((r,n)=>{let{eventName:i,handler:s}=n;return r[i]=a=>{s(a,e)},r},{}),[t,e])}function jU(t){return S.useMemo(()=>t?tQ(t):null,[t])}const sj=[];function jQ(t,e){e===void 0&&(e=$c);const[r]=t,n=jU(r?Xr(r):null),[i,s]=S.useState(sj);function a(){s(()=>t.length?t.map(u=>TU(u)?n:new zE(e(u),u)):sj)}const o=Sg({callback:a});return mi(()=>{o?.disconnect(),a(),t.forEach(u=>o?.observe(u))},[t]),i}function NU(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Of(e)?e:t}function NQ(t){let{measure:e}=t;const[r,n]=S.useState(null),i=S.useCallback(d=>{for(const{target:f}of d)if(Of(f)){n(p=>{const g=e(f);return p?{...p,width:g.width,height:g.height}:g});break}},[e]),s=Sg({callback:i}),a=S.useCallback(d=>{const f=NU(d);s?.disconnect(),f&&s?.observe(f),n(f?e(f):null)},[e,s]),[o,u]=rm(a);return S.useMemo(()=>({nodeRef:o,rect:r,setRef:u}),[r,o,u])}const IQ=[{sensor:HE,options:{}},{sensor:WE,options:{}}],RQ={current:{}},Rp={draggable:{measure:QP},droppable:{measure:QP,strategy:Pd.WhileDragging,frequency:PS.Optimized},dragOverlay:{measure:$c}};class dd extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const MQ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new dd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:sm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Rp,measureDroppableContainers:sm,windowRect:null,measuringScheduled:!1},IU={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:sm,draggableNodes:new Map,over:null,measureDroppableContainers:sm},Cf=S.createContext(IU),RU=S.createContext(MQ);function DQ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new dd}}}function $Q(t,e){switch(e.type){case gr.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case gr.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case gr.DragEnd:case gr.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case gr.RegisterDroppable:{const{element:r}=e,{id:n}=r,i=new dd(t.droppable.containers);return i.set(n,r),{...t,droppable:{...t.droppable,containers:i}}}case gr.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;const a=new dd(t.droppable.containers);return a.set(r,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case gr.UnregisterDroppable:{const{id:r,key:n}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const s=new dd(t.droppable.containers);return s.delete(r),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function LQ(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:i}=S.useContext(Cf),s=nm(n),a=nm(r?.id);return S.useEffect(()=>{if(!e&&!n&&s&&a!=null){if(!xg(s)||document.activeElement===s.target)return;const o=i.get(a);if(!o)return;const{activatorNode:u,node:d}=o;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[u.current,d.current]){if(!f)continue;const p=IX(f);if(p){p.focus();break}}})}},[n,e,i,a,s]),null}function MU(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...n}),r):r}function FQ(t){return S.useMemo(()=>({draggable:{...Rp.draggable,...t?.draggable},droppable:{...Rp.droppable,...t?.droppable},dragOverlay:{...Rp.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function UQ(t){let{activeNode:e,measure:r,initialRect:n,config:i=!0}=t;const s=S.useRef(!1),{x:a,y:o}=typeof i=="boolean"?{x:i,y:i}:i;mi(()=>{if(!a&&!o||!e){s.current=!1;return}if(s.current||!n)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const f=r(d),p=xU(f,n);if(a||(p.x=0),o||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const g=SU(d);g&&g.scrollBy({top:p.y,left:p.x})}},[e,a,o,n,r])}const Eg=S.createContext({...gi,scaleX:1,scaleY:1});var oa;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(oa||(oa={}));const BQ=S.memo(function(e){var r,n,i,s;let{id:a,accessibility:o,autoScroll:u=!0,children:d,sensors:f=IQ,collisionDetection:p=YX,measuring:g,modifiers:w,...x}=e;const y=S.useReducer($Q,void 0,DQ),[b,E]=y,[O,A]=FX(),[P,T]=S.useState(oa.Uninitialized),C=P===oa.Initialized,{draggable:{active:j,nodes:N,translate:D},droppable:{containers:M}}=b,R=j!=null?N.get(j):null,$=S.useRef({initial:null,translated:null}),F=S.useMemo(()=>{var bt;return j!=null?{id:j,data:(bt=R?.data)!=null?bt:RQ,rect:$}:null},[j,R]),K=S.useRef(null),[G,V]=S.useState(null),[Q,z]=S.useState(null),J=Cd(x,Object.values(x)),ie=Af("DndDescribedBy",a),U=S.useMemo(()=>M.getEnabled(),[M]),Y=FQ(g),{droppableRects:he,measureDroppableContainers:we,measuringScheduled:Se}=_Q(U,{dragging:C,dependencies:[D.x,D.y],config:Y.droppable}),de=wQ(N,j),le=S.useMemo(()=>Q?im(Q):null,[Q]),ce=fn(),ee=SQ(de,Y.draggable.measure);UQ({activeNode:j!=null?N.get(j):null,config:ce.layoutShiftCompensation,initialRect:ee,measure:Y.draggable.measure});const ae=rj(de,Y.draggable.measure,ee),ge=rj(de?de.parentElement:null),ne=S.useRef({activatorEvent:null,active:null,activeNode:de,collisionRect:null,collisions:null,droppableRects:he,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Fe=M.getNodeFor((r=ne.current.over)==null?void 0:r.id),Te=NQ({measure:Y.dragOverlay.measure}),Je=(n=Te.nodeRef.current)!=null?n:de,Ge=C?(i=Te.rect)!=null?i:ae:null,mt=!!(Te.nodeRef.current&&Te.rect),Ht=TQ(mt?null:ae),Nt=jU(Je?Xr(Je):null),B=AQ(C?Fe??de:null),q=jQ(B),Z=MU(w,{transform:{x:D.x-Ht.x,y:D.y-Ht.y,scaleX:1,scaleY:1},activatorEvent:Q,active:F,activeNodeRect:ae,containerNodeRect:ge,draggingNodeRect:Ge,over:ne.current.over,overlayNodeRect:Te.rect,scrollableAncestors:B,scrollableAncestorRects:q,windowRect:Nt}),pe=le?Kl(le,D):null,fe=CQ(B),ue=ij(fe),Oe=ij(fe,[ae]),ze=Kl(Z,ue),ye=Ge?JX(Ge,Z):null,Ee=F&&ye?p({active:F,collisionRect:ye,droppableRects:he,droppableContainers:U,pointerCoordinates:pe}):null,Ke=wU(Ee,"id"),[Ne,Tt]=S.useState(null),At=mt?Z:Kl(Z,Oe),qt=XX(At,(s=Ne?.rect)!=null?s:null,ae),at=S.useRef(null),dr=S.useCallback((bt,Kt)=>{let{sensor:xr,options:hn}=Kt;if(K.current==null)return;const zr=N.get(K.current);if(!zr)return;const Rr=bt.nativeEvent,Jr=new xr({active:K.current,activeNode:zr,event:Rr,options:hn,context:ne,onAbort(Gt){if(!N.get(Gt))return;const{onDragAbort:Mr}=J.current,Yn={id:Gt};Mr?.(Yn),O({type:"onDragAbort",event:Yn})},onPending(Gt,Cn,Mr,Yn){if(!N.get(Gt))return;const{onDragPending:xi}=J.current,pn={id:Gt,constraint:Cn,initialCoordinates:Mr,offset:Yn};xi?.(pn),O({type:"onDragPending",event:pn})},onStart(Gt){const Cn=K.current;if(Cn==null)return;const Mr=N.get(Cn);if(!Mr)return;const{onDragStart:Yn}=J.current,Xn={activatorEvent:Rr,active:{id:Cn,data:Mr.data,rect:$}};qn.unstable_batchedUpdates(()=>{Yn?.(Xn),T(oa.Initializing),E({type:gr.DragStart,initialCoordinates:Gt,active:Cn}),O({type:"onDragStart",event:Xn}),V(at.current),z(Rr)})},onMove(Gt){E({type:gr.DragMove,coordinates:Gt})},onEnd:Ki(gr.DragEnd),onCancel:Ki(gr.DragCancel)});at.current=Jr;function Ki(Gt){return async function(){const{active:Mr,collisions:Yn,over:Xn,scrollAdjustedTranslate:xi}=ne.current;let pn=null;if(Mr&&xi){const{cancelDrop:Gi}=J.current;pn={activatorEvent:Rr,active:Mr,collisions:Yn,delta:xi,over:Xn},Gt===gr.DragEnd&&typeof Gi=="function"&&await Promise.resolve(Gi(pn))&&(Gt=gr.DragCancel)}K.current=null,qn.unstable_batchedUpdates(()=>{E({type:Gt}),T(oa.Uninitialized),Tt(null),V(null),z(null),at.current=null;const Gi=Gt===gr.DragEnd?"onDragEnd":"onDragCancel";if(pn){const Kc=J.current[Gi];Kc?.(pn),O({type:Gi,event:pn})}})}}},[N]),Gn=S.useCallback((bt,Kt)=>(xr,hn)=>{const zr=xr.nativeEvent,Rr=N.get(hn);if(K.current!==null||!Rr||zr.dndKit||zr.defaultPrevented)return;const Jr={active:Rr};bt(xr,Kt.options,Jr)===!0&&(zr.dndKit={capturedBy:Kt.sensor},K.current=hn,dr(xr,Kt))},[N,dr]),Qr=xQ(f,Gn);kQ(f),mi(()=>{ae&&P===oa.Initializing&&T(oa.Initialized)},[ae,P]),S.useEffect(()=>{const{onDragMove:bt}=J.current,{active:Kt,activatorEvent:xr,collisions:hn,over:zr}=ne.current;if(!Kt||!xr)return;const Rr={active:Kt,activatorEvent:xr,collisions:hn,delta:{x:ze.x,y:ze.y},over:zr};qn.unstable_batchedUpdates(()=>{bt?.(Rr),O({type:"onDragMove",event:Rr})})},[ze.x,ze.y]),S.useEffect(()=>{const{active:bt,activatorEvent:Kt,collisions:xr,droppableContainers:hn,scrollAdjustedTranslate:zr}=ne.current;if(!bt||K.current==null||!Kt||!zr)return;const{onDragOver:Rr}=J.current,Jr=hn.get(Ke),Ki=Jr&&Jr.rect.current?{id:Jr.id,rect:Jr.rect.current,data:Jr.data,disabled:Jr.disabled}:null,Gt={active:bt,activatorEvent:Kt,collisions:xr,delta:{x:zr.x,y:zr.y},over:Ki};qn.unstable_batchedUpdates(()=>{Tt(Ki),Rr?.(Gt),O({type:"onDragOver",event:Gt})})},[Ke]),mi(()=>{ne.current={activatorEvent:Q,active:F,activeNode:de,collisionRect:ye,collisions:Ee,droppableRects:he,draggableNodes:N,draggingNode:Je,draggingNodeRect:Ge,droppableContainers:M,over:Ne,scrollableAncestors:B,scrollAdjustedTranslate:ze},$.current={initial:Ge,translated:ye}},[F,de,Ee,ye,N,Je,Ge,he,M,Ne,B,ze]),vQ({...ce,delta:D,draggingRect:ye,pointerCoordinates:pe,scrollableAncestors:B,scrollableAncestorRects:q});const wi=S.useMemo(()=>({active:F,activeNode:de,activeNodeRect:ae,activatorEvent:Q,collisions:Ee,containerNodeRect:ge,dragOverlay:Te,draggableNodes:N,droppableContainers:M,droppableRects:he,over:Ne,measureDroppableContainers:we,scrollableAncestors:B,scrollableAncestorRects:q,measuringConfiguration:Y,measuringScheduled:Se,windowRect:Nt}),[F,de,ae,Q,Ee,ge,Te,N,M,he,Ne,we,B,q,Y,Se,Nt]),Ms=S.useMemo(()=>({activatorEvent:Q,activators:Qr,active:F,activeNodeRect:ae,ariaDescribedById:{draggable:ie},dispatch:E,draggableNodes:N,over:Ne,measureDroppableContainers:we}),[Q,Qr,F,ae,E,ie,N,Ne,we]);return W.createElement(vU.Provider,{value:A},W.createElement(Cf.Provider,{value:Ms},W.createElement(RU.Provider,{value:wi},W.createElement(Eg.Provider,{value:qt},d)),W.createElement(LQ,{disabled:o?.restoreFocus===!1})),W.createElement(qX,{...o,hiddenTextDescribedById:ie}));function fn(){const bt=G?.autoScrollEnabled===!1,Kt=typeof u=="object"?u.enabled===!1:u===!1,xr=C&&!bt&&!Kt;return typeof u=="object"?{...u,enabled:xr}:{enabled:xr}}}),qQ=S.createContext(null),aj="button",zQ="Draggable";function WQ(t){let{id:e,data:r,disabled:n=!1,attributes:i}=t;const s=Af(zQ),{activators:a,activatorEvent:o,active:u,activeNodeRect:d,ariaDescribedById:f,draggableNodes:p,over:g}=S.useContext(Cf),{role:w=aj,roleDescription:x="draggable",tabIndex:y=0}=i??{},b=u?.id===e,E=S.useContext(b?Eg:qQ),[O,A]=rm(),[P,T]=rm(),C=PQ(a,e),j=Cd(r);mi(()=>(p.set(e,{id:e,key:s,node:O,activatorNode:P,data:j}),()=>{const D=p.get(e);D&&D.key===s&&p.delete(e)}),[p,e]);const N=S.useMemo(()=>({role:w,tabIndex:y,"aria-disabled":n,"aria-pressed":b&&w===aj?!0:void 0,"aria-roledescription":x,"aria-describedby":f.draggable}),[n,w,y,b,x,f.draggable]);return{active:u,activatorEvent:o,activeNodeRect:d,attributes:N,isDragging:b,listeners:n?void 0:C,node:O,over:g,setNodeRef:A,setActivatorNodeRef:T,transform:E}}function DU(){return S.useContext(RU)}const VQ="Droppable",HQ={timeout:25};function KQ(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:i}=t;const s=Af(VQ),{active:a,dispatch:o,over:u,measureDroppableContainers:d}=S.useContext(Cf),f=S.useRef({disabled:r}),p=S.useRef(!1),g=S.useRef(null),w=S.useRef(null),{disabled:x,updateMeasurementsFor:y,timeout:b}={...HQ,...i},E=Cd(y??n),O=S.useCallback(()=>{if(!p.current){p.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{d(Array.isArray(E.current)?E.current:[E.current]),w.current=null},b)},[b]),A=Sg({callback:O,disabled:x||!a}),P=S.useCallback((N,D)=>{A&&(D&&(A.unobserve(D),p.current=!1),N&&A.observe(N))},[A]),[T,C]=rm(P),j=Cd(e);return S.useEffect(()=>{!A||!T.current||(A.disconnect(),p.current=!1,A.observe(T.current))},[T,A]),S.useEffect(()=>(o({type:gr.RegisterDroppable,element:{id:n,key:s,disabled:r,node:T,rect:g,data:j}}),()=>o({type:gr.UnregisterDroppable,key:s,id:n})),[n]),S.useEffect(()=>{r!==f.current.disabled&&(o({type:gr.SetDroppableDisabled,id:n,key:s,disabled:r}),f.current.disabled=r)},[n,s,r,o]),{active:a,rect:g,isOver:u?.id===n,node:T,over:u,setNodeRef:C}}function GQ(t){let{animation:e,children:r}=t;const[n,i]=S.useState(null),[s,a]=S.useState(null),o=nm(r);return!r&&!n&&o&&i(o),mi(()=>{if(!s)return;const u=n?.key,d=n?.props.id;if(u==null||d==null){i(null);return}Promise.resolve(e(d,s)).then(()=>{i(null)})},[e,n,s]),W.createElement(W.Fragment,null,r,n?S.cloneElement(n,{ref:a}):null)}const YQ={x:0,y:0,scaleX:1,scaleY:1};function XQ(t){let{children:e}=t;return W.createElement(Cf.Provider,{value:IU},W.createElement(Eg.Provider,{value:YQ},e))}const QQ={position:"fixed",touchAction:"none"},JQ=t=>xg(t)?"transform 250ms ease":void 0,ZQ=S.forwardRef((t,e)=>{let{as:r,activatorEvent:n,adjustScale:i,children:s,className:a,rect:o,style:u,transform:d,transition:f=JQ}=t;if(!o)return null;const p=i?d:{...d,scaleX:1,scaleY:1},g={...QQ,width:o.width,height:o.height,top:o.top,left:o.left,transform:Ea.Transform.toString(p),transformOrigin:i&&n?WX(n,o):void 0,transition:typeof f=="function"?f(n):f,...u};return W.createElement(r,{className:a,style:g,ref:e},s)}),$U=t=>e=>{let{active:r,dragOverlay:n}=e;const i={},{styles:s,className:a}=t;if(s!=null&&s.active)for(const[o,u]of Object.entries(s.active))u!==void 0&&(i[o]=r.node.style.getPropertyValue(o),r.node.style.setProperty(o,u));if(s!=null&&s.dragOverlay)for(const[o,u]of Object.entries(s.dragOverlay))u!==void 0&&n.node.style.setProperty(o,u);return a!=null&&a.active&&r.node.classList.add(a.active),a!=null&&a.dragOverlay&&n.node.classList.add(a.dragOverlay),function(){for(const[u,d]of Object.entries(i))r.node.style.setProperty(u,d);a!=null&&a.active&&r.node.classList.remove(a.active)}},eJ=t=>{let{transform:{initial:e,final:r}}=t;return[{transform:Ea.Transform.toString(e)},{transform:Ea.Transform.toString(r)}]},tJ={duration:250,easing:"ease",keyframes:eJ,sideEffects:$U({styles:{active:{opacity:"0"}}})};function rJ(t){let{config:e,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=t;return wg((s,a)=>{if(e===null)return;const o=r.get(s);if(!o)return;const u=o.node.current;if(!u)return;const d=NU(a);if(!d)return;const{transform:f}=Xr(a).getComputedStyle(a),p=_U(f);if(!p)return;const g=typeof e=="function"?e:nJ(e);return kU(u,i.draggable.measure),g({active:{id:s,data:o.data,node:u,rect:i.draggable.measure(u)},draggableNodes:r,dragOverlay:{node:a,rect:i.dragOverlay.measure(d)},droppableContainers:n,measuringConfiguration:i,transform:p})})}function nJ(t){const{duration:e,easing:r,sideEffects:n,keyframes:i}={...tJ,...t};return s=>{let{active:a,dragOverlay:o,transform:u,...d}=s;if(!e)return;const f={x:o.rect.left-a.rect.left,y:o.rect.top-a.rect.top},p={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/o.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/o.rect.height:1},g={x:u.x-f.x,y:u.y-f.y,...p},w=i({...d,active:a,dragOverlay:o,transform:{initial:u,final:g}}),[x]=w,y=w[w.length-1];if(JSON.stringify(x)===JSON.stringify(y))return;const b=n?.({active:a,dragOverlay:o,...d}),E=o.node.animate(w,{duration:e,easing:r,fill:"forwards"});return new Promise(O=>{E.onfinish=()=>{b?.(),O()}})}}let oj=0;function iJ(t){return S.useMemo(()=>{if(t!=null)return oj++,oj},[t])}const sJ=W.memo(t=>{let{adjustScale:e=!1,children:r,dropAnimation:n,style:i,transition:s,modifiers:a,wrapperElement:o="div",className:u,zIndex:d=999}=t;const{activatorEvent:f,active:p,activeNodeRect:g,containerNodeRect:w,draggableNodes:x,droppableContainers:y,dragOverlay:b,over:E,measuringConfiguration:O,scrollableAncestors:A,scrollableAncestorRects:P,windowRect:T}=DU(),C=S.useContext(Eg),j=iJ(p?.id),N=MU(a,{activatorEvent:f,active:p,activeNodeRect:g,containerNodeRect:w,draggingNodeRect:b.rect,over:E,overlayNodeRect:b.rect,scrollableAncestors:A,scrollableAncestorRects:P,transform:C,windowRect:T}),D=KE(g),M=rJ({config:n,draggableNodes:x,droppableContainers:y,measuringConfiguration:O}),R=D?b.setRef:void 0;return W.createElement(XQ,null,W.createElement(GQ,{animation:M},p&&j?W.createElement(ZQ,{key:j,id:p.id,ref:R,as:o,activatorEvent:f,adjustScale:e,className:u,transition:s,rect:D,style:{zIndex:d,...i},transform:N},r):null))});function GE(t,e,r){const n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function aJ(t,e){return t.reduce((r,n,i)=>{const s=e.get(n);return s&&(r[i]=s),r},Array(t.length))}function np(t){return t!==null&&t>=0}function oJ(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function lJ(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const YE=t=>{let{rects:e,activeIndex:r,overIndex:n,index:i}=t;const s=GE(e,n,r),a=e[i],o=s[i];return!o||!a?null:{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}},LU="Sortable",FU=W.createContext({activeIndex:-1,containerId:LU,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:YE,disabled:{draggable:!1,droppable:!1}});function cJ(t){let{children:e,id:r,items:n,strategy:i=YE,disabled:s=!1}=t;const{active:a,dragOverlay:o,droppableRects:u,over:d,measureDroppableContainers:f}=DU(),p=Af(LU,r),g=o.rect!==null,w=S.useMemo(()=>n.map(C=>typeof C=="object"&&"id"in C?C.id:C),[n]),x=a!=null,y=a?w.indexOf(a.id):-1,b=d?w.indexOf(d.id):-1,E=S.useRef(w),O=!oJ(w,E.current),A=b!==-1&&y===-1||O,P=lJ(s);mi(()=>{O&&x&&f(w)},[O,w,x,f]),S.useEffect(()=>{E.current=w},[w]);const T=S.useMemo(()=>({activeIndex:y,containerId:p,disabled:P,disableTransforms:A,items:w,overIndex:b,useDragOverlay:g,sortedRects:aJ(w,u),strategy:i}),[y,p,P.draggable,P.droppable,A,w,b,u,g,i]);return W.createElement(FU.Provider,{value:T},e)}const uJ=t=>{let{id:e,items:r,activeIndex:n,overIndex:i}=t;return GE(r,n,i).indexOf(e)},dJ=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:i,items:s,newIndex:a,previousItems:o,previousContainerId:u,transition:d}=t;return!d||!n||o!==s&&i===a?!1:r?!0:a!==i&&e===u},fJ={duration:200,easing:"ease"},UU="transform",hJ=Ea.Transition.toString({property:UU,duration:0,easing:"linear"}),pJ={roleDescription:"sortable"};function mJ(t){let{disabled:e,index:r,node:n,rect:i}=t;const[s,a]=S.useState(null),o=S.useRef(r);return mi(()=>{if(!e&&r!==o.current&&n.current){const u=i.current;if(u){const d=$c(n.current,{ignoreTransform:!0}),f={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(f.x||f.y)&&a(f)}}r!==o.current&&(o.current=r)},[e,r,n,i]),S.useEffect(()=>{s&&a(null)},[s]),s}function gJ(t){let{animateLayoutChanges:e=dJ,attributes:r,disabled:n,data:i,getNewIndex:s=uJ,id:a,strategy:o,resizeObserverConfig:u,transition:d=fJ}=t;const{items:f,containerId:p,activeIndex:g,disabled:w,disableTransforms:x,sortedRects:y,overIndex:b,useDragOverlay:E,strategy:O}=S.useContext(FU),A=vJ(n,w),P=f.indexOf(a),T=S.useMemo(()=>({sortable:{containerId:p,index:P,items:f},...i}),[p,i,P,f]),C=S.useMemo(()=>f.slice(f.indexOf(a)),[f,a]),{rect:j,node:N,isOver:D,setNodeRef:M}=KQ({id:a,data:T,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...u}}),{active:R,activatorEvent:$,activeNodeRect:F,attributes:K,setNodeRef:G,listeners:V,isDragging:Q,over:z,setActivatorNodeRef:J,transform:ie}=WQ({id:a,data:T,attributes:{...pJ,...r},disabled:A.draggable}),U=kX(M,G),Y=!!R,he=Y&&!x&&np(g)&&np(b),we=!E&&Q,Se=we&&he?ie:null,le=he?Se??(o??O)({rects:y,activeNodeRect:F,activeIndex:g,overIndex:b,index:P}):null,ce=np(g)&&np(b)?s({id:a,items:f,activeIndex:g,overIndex:b}):P,ee=R?.id,ae=S.useRef({activeId:ee,items:f,newIndex:ce,containerId:p}),ge=f!==ae.current.items,ne=e({active:R,containerId:p,isDragging:Q,isSorting:Y,id:a,index:P,items:f,newIndex:ae.current.newIndex,previousItems:ae.current.items,previousContainerId:ae.current.containerId,transition:d,wasDragging:ae.current.activeId!=null}),Fe=mJ({disabled:!ne,index:P,node:N,rect:j});return S.useEffect(()=>{Y&&ae.current.newIndex!==ce&&(ae.current.newIndex=ce),p!==ae.current.containerId&&(ae.current.containerId=p),f!==ae.current.items&&(ae.current.items=f)},[Y,ce,p,f]),S.useEffect(()=>{if(ee===ae.current.activeId)return;if(ee!=null&&ae.current.activeId==null){ae.current.activeId=ee;return}const Je=setTimeout(()=>{ae.current.activeId=ee},50);return()=>clearTimeout(Je)},[ee]),{active:R,activeIndex:g,attributes:K,data:T,rect:j,index:P,newIndex:ce,items:f,isOver:D,isSorting:Y,isDragging:Q,listeners:V,node:N,overIndex:b,over:z,setNodeRef:U,setActivatorNodeRef:J,setDroppableNodeRef:M,setDraggableNodeRef:G,transform:Fe??le,transition:Te()};function Te(){if(Fe||ge&&ae.current.newIndex===P)return hJ;if(!(we&&!xg($)||!d)&&(Y||ne))return Ea.Transition.toString({...d,property:UU})}}function vJ(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t?.draggable)!=null?r:e.draggable,droppable:(n=t?.droppable)!=null?n:e.droppable}}function om(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const yJ=[ot.Down,ot.Right,ot.Up,ot.Left],bJ=(t,e)=>{let{context:{active:r,collisionRect:n,droppableRects:i,droppableContainers:s,over:a,scrollableAncestors:o}}=e;if(yJ.includes(t.code)){if(t.preventDefault(),!r||!n)return;const u=[];s.getEnabled().forEach(p=>{if(!p||p!=null&&p.disabled)return;const g=i.get(p.id);if(g)switch(t.code){case ot.Down:n.top<g.top&&u.push(p);break;case ot.Up:n.top>g.top&&u.push(p);break;case ot.Left:n.left>g.left&&u.push(p);break;case ot.Right:n.left<g.left&&u.push(p);break}});const d=KX({collisionRect:n,droppableRects:i,droppableContainers:u});let f=wU(d,"id");if(f===a?.id&&d.length>1&&(f=d[1].id),f!=null){const p=s.get(r.id),g=s.get(f),w=g?i.get(g.id):null,x=g?.node.current;if(x&&w&&p&&g){const b=_g(x).some((C,j)=>o[j]!==C),E=BU(p,g),O=wJ(p,g),A=b||!E?{x:0,y:0}:{x:O?n.width-w.width:0,y:O?n.height-w.height:0},P={x:w.left,y:w.top};return A.x&&A.y?P:kd(P,A)}}}};function BU(t,e){return!om(t)||!om(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function wJ(t,e){return!om(t)||!om(e)||!BU(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}function xJ({id:t,children:e,className:r}){const{attributes:n,listeners:i,setNodeRef:s,transform:a,transition:o,isDragging:u}=gJ({id:t}),d={transform:Ea.Transform.toString(a),transition:o,zIndex:u?50:"auto",position:"relative",opacity:u?.5:1};return m.jsx("div",{ref:s,style:d,...n,...i,className:r,children:e})}const to=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),lj=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function cj(t){if(typeof t=="number")return Number.isFinite(t)?t:null;if(typeof t=="string"&&t.trim()!==""){const e=Number(t);return Number.isFinite(e)?e:null}return null}function _J(){const{user:t}=zi(),r=$E()!==!1,n=t?.user_metadata?.full_name?.trim()||t?.email?.split("@")[0]||"Trader",i=n.split(" ")[0]||n,[s,a]=S.useState({}),[o,u]=S.useState({}),{prices:d,setPrices:f}=tm(),{data:p=[]}=LE({enabled:r&&!!t});tm();const{market:g,pnlPct:w}=nU();S.useEffect(()=>{const de=new Set(["BTCUSDT","ETHUSDT"]);Array.isArray(p)&&p.forEach(ee=>{ee.symbol&&de.add(ee.symbol.toUpperCase())});const le=Array.from(de),ce=UE(le,{onMessage:ee=>{const ae=ee.symbol.toUpperCase(),ge=parseFloat(ee.lastPrice),ne=parseFloat(ee.priceChangePercent);Number.isNaN(ge)||f({[ae]:ge}),ae==="BTCUSDT"?a({priceChangePercent:ne}):ae==="ETHUSDT"&&u({priceChangePercent:ne})},onError:ee=>console.error("WS Error:",ee)});return()=>{ce()}},[p,f]),S.useMemo(()=>Array.isArray(p)?Array.from(new Set(p.map(de=>de.symbol.trim().toUpperCase()).filter(Boolean))):[],[p]).join("|");const y=Number.isFinite(g)?g:0,b=Number.isFinite(w)?w:0,{data:E}=On({queryKey:["/api/market/gainers"],queryFn:Gu({on401:"returnNull"}),select:de=>{if(!Array.isArray(de))return{top:null,ts:Date.now()};const le=de.map(ce=>{const ee=(ce.symbol||ce.pair||ce.ticker||"").toString().toUpperCase(),ae=cj(ce.change24h)??cj(ce.priceChangePercent);return!ee||ae===null?null:{symbol:ee,pct:ae}}).filter(Boolean);return le.sort((ce,ee)=>ee.pct-ce.pct),{top:le.slice(0,3),ts:Date.now()}},refetchInterval:3e5,enabled:r}),{data:O}=On({queryKey:["/api/watchlist",!!t],queryFn:Gu({on401:"returnNull"}),select:de=>Array.isArray(de)?de.length:null,refetchInterval:3e5,enabled:r&&!!t}),{data:A}=On({queryKey:["/api/ai/market-overview"],queryFn:Gu({on401:"returnNull"}),select:de=>{if(!de)return null;const le=Array.isArray(de.keyInsights)?de.keyInsights.filter(ee=>typeof ee=="string"&&ee.trim()!==""):null;if(le&&le.length>0)return le.length;const ce=Array.isArray(de.tradingRecommendations)?de.tradingRecommendations.filter(ee=>typeof ee=="string"&&ee.trim()!==""):null;return ce&&ce.length>0?ce.length:null},refetchInterval:12e4,enabled:r}),[P,T]=S.useState(Date.now()),{data:C}=On({queryKey:["/api/market/fear-greed"],queryFn:async()=>{const de=await Gu({on401:"returnNull"})({queryKey:["/api/market/fear-greed"]});return T(Date.now()),de},staleTime:600*1e3,gcTime:1800*1e3,refetchInterval:600*1e3,enabled:r}),j=`$${to.format(y)}`,N=`${b>=0?"+":""}${to.format(b)}%`,D=b>=0?"text-accent":"text-destructive",M=E?.top??null;!M||M.length===0||M.map(de=>`${de.symbol} ${de.pct>=0?"+":""}${to.format(de.pct)}%`).join("  "),E?.ts&&new Date(E.ts).toLocaleTimeString();const R=O==null||Number.isNaN(O)?"":lj.format(O),$=A==null||Number.isNaN(A)?"":lj.format(A),F=["portfolio","scanner","top-gainers","total-pnl","watchlist","fear-greed","ai-signals","btc-dominance","news"],[K,G]=S.useState(()=>{try{const de=localStorage.getItem("dashboard_order");if(de){const le=JSON.parse(de);return Array.from(new Set([...le,...F])).filter(ee=>F.includes(ee))}}catch(de){console.error("Failed to load dashboard order",de)}return F}),[V,Q]=S.useState(null),z=zX(GP(HE,{activationConstraint:{distance:8}}),GP(WE,{coordinateGetter:bJ})),J=de=>{Q(de.active.id)},ie=de=>{const{active:le,over:ce}=de;le.id!==ce?.id&&G(ee=>{const ae=ee.indexOf(le.id),ge=ee.indexOf(ce.id),ne=GE(ee,ae,ge);return localStorage.setItem("dashboard_order",JSON.stringify(ne)),ne}),Q(null)},U={sideEffects:$U({styles:{active:{opacity:"0.5"}}})},Y=(de,le=!1)=>{const ce=le?"div":xJ,ee=le?{className:"h-full"}:{id:de,className:"h-full"};switch(de){case"portfolio":return m.jsx(ce,{...ee,children:m.jsx(Wt,{to:"/portfolio",className:"block h-full",children:m.jsx(lt,{className:"dashboard-card neon-hover bg-gradient-to-br from-cyan-500/10 to-cyan-500/20 h-auto sm:h-full",style:{"--neon-glow":"hsl(190, 100%, 50%)"},children:m.jsx(ct,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start",children:m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm mb-0.5",children:"Portfolio"}),m.jsx("p",{className:"text-base sm:text-lg md:text-2xl font-bold text-foreground truncate","data-testid":"text-portfolio-value",children:j}),m.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[m.jsx(fs,{className:`w-3 h-3 ${D}`}),m.jsx("span",{className:`text-xs ${D}`,"data-testid":"text-portfolio-change",children:N})]})]}),m.jsx(OE,{className:"w-6 sm:w-8 h-6 sm:h-8 text-primary flex-shrink-0"})]})})})})});case"scanner":return m.jsx(ce,{...ee,children:m.jsx(Wt,{to:"/analyse/BTCUSDT",className:"block h-full",children:m.jsx(lt,{className:"dashboard-card neon-hover bg-gradient-to-br from-blue-500/10 to-blue-500/20 h-auto sm:h-full",style:{"--neon-glow":"hsl(220, 100%, 50%)"},children:m.jsx(ct,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start",children:m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm mb-0.5",children:"Scanner"}),m.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Technical analysis"}),m.jsx("p",{className:"text-sm sm:text-lg font-bold text-foreground mt-0.5",children:"15+"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Indicators"})]}),m.jsx(Sd,{className:"w-6 sm:w-8 h-6 sm:h-8 text-blue-500 flex-shrink-0"})]})})})})});case"top-gainers":return m.jsx(ce,{...ee,children:m.jsx(SX,{})});case"total-pnl":return m.jsx(ce,{...ee,children:m.jsx(Wt,{to:"/portfolio",className:"block h-full",children:m.jsx(lt,{className:"dashboard-card neon-hover bg-gradient-to-br from-yellow-500/10 to-yellow-500/20 h-auto sm:h-full",style:{"--neon-glow":"hsl(45, 100%, 50%)"},children:m.jsx(ct,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start",children:m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm mb-0.5",children:"Total P&L"}),m.jsx("p",{className:`text-base sm:text-lg md:text-2xl font-bold ${D} truncate`,"data-testid":"text-total-pnl-percent",children:N}),m.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Overall performance"})]}),m.jsx(hS,{className:"w-6 sm:w-8 h-6 sm:h-8 text-yellow-500 flex-shrink-0"})]})})})})});case"watchlist":return m.jsx(ce,{...ee,children:m.jsx(Wt,{to:"/watchlist",className:"block h-full",children:m.jsx(lt,{className:"dashboard-card neon-hover bg-gradient-to-br from-orange-100/10 to-orange-100/20 h-auto sm:h-full","data-testid":"card-watchlist",style:{"--neon-glow":"hsl(40, 50%, 70%)"},children:m.jsx(ct,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start",children:m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm mb-0.5",children:"Watchlist"}),m.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Track favorites"}),m.jsx("p",{className:"text-sm sm:text-lg font-bold text-foreground mt-0.5",children:R}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Coins tracked"})]}),m.jsx(tF,{className:"w-6 sm:w-8 h-6 sm:h-8 text-orange-200 flex-shrink-0"})]})})})})});case"fear-greed":return m.jsx(ce,{...ee,children:m.jsx(lt,{className:"dashboard-card neon-hover bg-gradient-to-br from-orange-500/10 to-orange-500/20 h-auto sm:h-full","data-testid":"card-fear-greed",style:{"--neon-glow":"hsl(25, 100%, 55%)"},children:m.jsx(ct,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start",children:C?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[m.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm",children:"Market Fear & Greed"}),m.jsx(zH,{className:"w-5 sm:w-6 h-5 sm:h-6 text-orange-500 flex-shrink-0"})]}),m.jsx(EX,{value:C.value,classification:C.classification}),m.jsxs("div",{className:"mt-3 pt-2 border-t border-border/50",children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:" Updates every 10 minutes"}),m.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last updated: ",new Date(P).toLocaleTimeString()]})]})]}):m.jsxs("div",{className:"flex flex-col items-center justify-center w-full py-6",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-orange-500/30 border-t-orange-500 mb-2"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading..."})]})})})});case"ai-signals":return m.jsx(ce,{...ee,children:m.jsx(Wt,{to:"/ai-insights",className:"block h-full",children:m.jsx(lt,{className:"dashboard-card neon-hover bg-gradient-to-br from-violet-500/10 to-violet-500/20 h-auto sm:h-full",style:{"--neon-glow":"hsl(270, 100%, 60%)"},children:m.jsx(ct,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start",children:m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm mb-0.5",children:"AI Signals"}),m.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Market analysis"}),m.jsx("p",{className:"text-sm sm:text-lg font-bold text-foreground mt-0.5","data-testid":"text-ai-signals",children:$}),m.jsx("p",{className:"text-xs text-accent",children:"Active insights"})]}),m.jsx(Bl,{className:"w-6 sm:w-8 h-6 sm:h-8 text-violet-500 flex-shrink-0"})]})})})})});case"btc-dominance":return m.jsx(ce,{...ee,children:m.jsx(bX,{})});case"news":return m.jsx(ce,{...ee,className:`${ee.className} xl:col-span-2`,children:m.jsx(Wt,{to:"/news",className:"block h-full",children:m.jsx(lt,{className:"dashboard-card neon-hover bg-gradient-to-br from-rose-500/10 to-rose-500/20 h-auto sm:h-full",style:{"--neon-glow":"hsl(350, 100%, 60%)"},children:m.jsxs(ct,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start space-y-1 sm:space-y-2 md:space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"News & Insights"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Curated market headlines and analyst takes to keep you ahead of the next move."})]}),m.jsx(nF,{className:"w-8 h-8 text-primary"})]}),m.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[m.jsxs("p",{className:"flex items-center justify-between text-foreground",children:[m.jsx("span",{className:"font-medium",children:"Morning Brief"}),m.jsx("span",{className:"text-xs text-muted-foreground",children:"Updated 10 min ago"})]}),m.jsx("p",{children:"US equities rally as inflation cools; crypto follows with strong altcoin bids."}),m.jsx("p",{className:"text-xs text-primary mt-2 font-medium",children:"Click to read latest "})]})]})})})});default:return null}},[he,we]=S.useState(()=>typeof window<"u"?localStorage.getItem("dashboard_tip_dismissed")!=="true":!0),Se=()=>{we(!1),localStorage.setItem("dashboard_tip_dismissed","true")};return m.jsx("div",{className:"flex-1 overflow-hidden",children:m.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[m.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-4 sm:mb-6 md:mb-8",children:m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-foreground break-words",children:["Welcome back, ",m.jsx("span",{className:"text-primary",children:i}),"!"]}),m.jsx("p",{className:"text-xs sm:text-sm md:text-base text-muted-foreground mt-1",children:"Your trading dashboard is ready. Let's make some profitable trades today."})]})}),he&&m.jsxs("div",{className:"mb-6 rounded-lg border border-blue-500/20 bg-blue-500/10 p-4 flex items-start gap-3 relative animate-in fade-in slide-in-from-top-2",children:[m.jsx("div",{className:"p-1 bg-blue-500/20 rounded-full",children:m.jsx(hS,{className:"w-4 h-4 text-blue-400"})}),m.jsxs("div",{className:"flex-1 mr-6",children:[m.jsx("h3",{className:"text-sm font-medium text-blue-100",children:"Customize your layout"}),m.jsxs("p",{className:"text-xs text-blue-200/70 mt-1",children:["Did you know? You can ",m.jsx("strong",{children:"drag and drop"})," any of the cards below to reorder your dashboard. Put your most important metrics first!"]})]}),m.jsxs("button",{onClick:Se,className:"absolute top-3 right-3 text-blue-200/50 hover:text-blue-100 transition-colors",children:[m.jsx("span",{className:"sr-only",children:"Dismiss"}),m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M18 6 6 18"}),m.jsx("path",{d:"m6 6 18 18"})]})]})]}),m.jsxs(BQ,{sensors:z,collisionDetection:HX,onDragStart:J,onDragEnd:ie,children:[m.jsx(cJ,{items:K,strategy:YE,children:m.jsx("div",{className:"grid items-stretch grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-2 sm:gap-3 md:gap-4 mb-4 sm:mb-6 md:mb-8",children:K.map(de=>Y(de))})}),m.jsx(sJ,{dropAnimation:U,children:V?Y(V,!0):null})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 md:gap-4 lg:gap-6",children:[m.jsxs(lt,{className:"border-border",children:[m.jsx(Ur,{children:m.jsxs(Br,{className:"flex min-w-0 items-center space-x-2",children:[m.jsx(fs,{className:"w-5 h-5 text-primary"}),m.jsx("span",{className:"min-w-0 overflow-hidden text-ellipsis whitespace-nowrap",children:"Market Overview"})]})}),m.jsxs(ct,{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:"BTC/USDT"}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-semibold","data-testid":"text-btc-price",children:["$",to.format(d.BTCUSDT||0)]}),m.jsxs("p",{className:`text-sm ${parseFloat(String(s?.priceChangePercent||"0"))>=0?"text-accent":"text-destructive"}`,"data-testid":"text-btc-change",children:[parseFloat(String(s?.priceChangePercent||"0"))>=0?"+":"",to.format(parseFloat(String(s?.priceChangePercent||"0"))),"%"]})]})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:"ETH/USDT"}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-semibold","data-testid":"text-eth-price",children:["$",to.format(d.ETHUSDT||0)]}),m.jsxs("p",{className:`text-sm ${parseFloat(String(o?.priceChangePercent||"0"))>=0?"text-accent":"text-destructive"}`,"data-testid":"text-eth-change",children:[parseFloat(String(o?.priceChangePercent||"0"))>=0?"+":"",to.format(parseFloat(String(o?.priceChangePercent||"0"))),"%"]})]})]}),m.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2",children:[m.jsx(it,{asChild:!0,size:"sm",className:"min-h-[44px]","data-testid":"button-view-portfolio",children:m.jsx(Wt,{to:"/portfolio",children:"View Portfolio"})}),m.jsx(it,{asChild:!0,size:"sm",variant:"outline",className:"min-h-[44px]","data-testid":"button-start-scanning",children:m.jsx(Wt,{to:"/analyse/BTCUSDT",children:"Start Scanning"})})]})]})]}),m.jsxs(lt,{className:"border-border",children:[m.jsx(Ur,{children:m.jsxs(Br,{className:"flex min-w-0 items-center space-x-2",children:[m.jsx(Bl,{className:"w-5 h-5 text-purple-500"}),m.jsx("span",{className:"min-w-0 overflow-hidden text-ellipsis whitespace-nowrap",children:"AI Trading Assistant"})]})}),m.jsxs(ct,{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-2 h-2 text-accent rounded-full"}),m.jsx("span",{className:"text-sm text-foreground",children:"Market sentiment: Bullish"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),m.jsx("span",{className:"text-sm text-foreground",children:"Technical signals detected"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),m.jsx("span",{className:"text-sm text-foreground",children:"Risk level: Moderate"})]}),m.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 mt-4",children:[m.jsx("p",{className:"text-sm text-muted-foreground italic",children:'"Bitcoin showing strong support at $40k level. Consider DCA strategy for next 24h."'}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"AI Insight  2 min ago"})]})]})]}),m.jsxs(lt,{className:"border-border",children:[m.jsx(Ur,{children:m.jsx(Br,{children:"Trading Features"})}),m.jsxs(ct,{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-2 h-2 bg-accent rounded-full"}),m.jsx("span",{className:"text-sm text-foreground",children:"Real-time market data from Binance"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),m.jsx("span",{className:"text-sm text-foreground",children:"15+ Technical indicators"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),m.jsx("span",{className:"text-sm text-foreground",children:"AI-powered analysis"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-2 h-2 text-accent rounded-full"}),m.jsx("span",{className:"text-sm text-foreground",children:"Smart alert system"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),m.jsx("span",{className:"text-sm text-foreground",children:"Portfolio P&L tracking"})]})]})]})]})]})})}const SJ=aU("inline-flex max-w-full items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 min-w-0 overflow-hidden text-ellipsis",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function fi({className:t,variant:e,...r}){return m.jsx("div",{className:ht(SJ({variant:e}),t),...r})}function kb(t){const e=parseFloat(t||"0");return Number.isNaN(e)?"$0.00":e>=1e3?`$${e.toLocaleString(void 0,{maximumFractionDigits:2})}`:e>=1?`$${e.toFixed(4)}`:`$${e.toFixed(8)}`}function EJ(t){const e=parseFloat(t||"0");return Number.isNaN(e)?"$0.00":e>=1e9?`$${(e/1e9).toFixed(2)}B`:e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${(e/1e3).toFixed(2)}K`:`$${e.toFixed(2)}`}function OJ(t){try{const e=`ticker_${t}`,r=localStorage.getItem(e);if(!r)return null;const{data:n,timestamp:i}=JSON.parse(r);if(Date.now()-i<3e4)return n}catch{}return null}function TJ(t,e){try{const r=`ticker_${t}`;localStorage.setItem(r,JSON.stringify({data:e,timestamp:Date.now()}))}catch{}}async function AJ(t){try{const e=await fetch(`https://api.binance.com/api/v3/ticker/24hr?symbol=${encodeURIComponent(t)}`);if(!e.ok)return null;const r=await e.json(),n={symbol:r.symbol,lastPrice:r.lastPrice,priceChange:r.priceChange,priceChangePercent:r.priceChangePercent,highPrice:r.highPrice,lowPrice:r.lowPrice,volume:r.volume,quoteVolume:r.quoteVolume};return TJ(t,n),n}catch{return null}}function CJ({symbols:t=["BTCUSDT","ETHUSDT"]}){const[e,r]=S.useState({});S.useEffect(()=>{let i=!1;const s={};for(const u of t){const d=OJ(u);d&&(s[u]=d)}Object.keys(s).length>0&&r(s);async function a(){const u={};for(const d of t){const f=await AJ(d);f&&!i&&(u[d]=f)}!i&&Object.keys(u).length>0&&r(u)}a();const o=setInterval(a,15e3);return()=>{i=!0,clearInterval(o)}},[t.join("|")]);const n=S.useMemo(()=>t.map(i=>{const s=e[i],a=parseFloat(s?.priceChangePercent??"0"),o=a>0;return m.jsx(lt,{children:m.jsxs(ct,{className:"p-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsx("div",{className:"text-sm text-muted-foreground",children:i.replace("USDT","/USDT")}),m.jsx(fi,{className:o?"bg-green-600 text-white":"bg-red-600 text-white",children:o?"BULLISH":"BEARISH"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Price"}),m.jsx("p",{className:"text-lg font-bold text-foreground",children:kb(s?.lastPrice)})]}),m.jsx(pS,{className:"w-5 h-5 text-primary"})]}),m.jsx("div",{className:"flex items-center justify-between mt-2",children:m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"24h Change"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`text-lg font-bold ${o?"text-accent":"text-destructive"}`,children:`${a>0?"+":""}${a.toFixed(2)}%`}),o?m.jsx(fs,{className:"w-5 h-5 text-accent"}):m.jsx(vS,{className:"w-5 h-5 text-destructive"})]})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:"24h Volume"}),m.jsx("span",{className:"text-sm font-medium text-foreground",children:EJ(s?.quoteVolume)}),m.jsx(JH,{className:"w-4 h-4 text-secondary ml-2"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:"High / Low"}),m.jsxs("span",{className:"text-xs font-medium text-foreground",children:[kb(s?.highPrice)," / ",kb(s?.lowPrice)]}),m.jsx(gS,{className:"w-4 h-4 text-accent ml-2"})]})]})]})},i)}),[t,e]);return m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n})}function qU(){if(!(typeof window>"u"))try{window.dispatchEvent(new StorageEvent("storage",{key:"portfolio.refresh"}))}catch{}}function kJ(){const{user:t}=zi(),e=t?.uid??null,r=vg(),n=e??r,i=qi(),s=yg(n);return qp({mutationFn:async a=>{if(!n)throw new Error("You need to be signed in to manage portfolio positions.");return await dY(n,a)},onSuccess:()=>{i.invalidateQueries({queryKey:s}),qU()}})}function PJ(){const{user:t}=zi(),e=t?.uid??null,r=vg(),n=e??r,i=qi(),s=yg(n);return qp({mutationFn:async a=>{if(!n)throw new Error("You need to be signed in to manage portfolio positions.");await fY(a)},onSuccess:()=>{i.invalidateQueries({queryKey:s}),qU()}})}function XE(){const{user:t}=ks(),[e,r]=Ps(),n=jH();function i(s){if(!t){n.error("Sign in to unlock this feature",2200);const a=s||e,o=a?`?redirect=${encodeURIComponent(a)}`:"";return r(`/account${o}`),!0}return!1}return{requireLogin:i,user:t}}var Pb,uj;function dn(){if(uj)return Pb;uj=1;var t=Array.isArray;return Pb=t,Pb}var jb,dj;function zU(){if(dj)return jb;dj=1;var t=typeof Kh=="object"&&Kh&&Kh.Object===Object&&Kh;return jb=t,jb}var Nb,fj;function Wi(){if(fj)return Nb;fj=1;var t=zU(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Nb=r,Nb}var Ib,hj;function kf(){if(hj)return Ib;hj=1;var t=Wi(),e=t.Symbol;return Ib=e,Ib}var Rb,pj;function jJ(){if(pj)return Rb;pj=1;var t=kf(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=r.call(a,i),u=a[i];try{a[i]=void 0;var d=!0}catch{}var f=n.call(a);return d&&(o?a[i]=u:delete a[i]),f}return Rb=s,Rb}var Mb,mj;function NJ(){if(mj)return Mb;mj=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Mb=r,Mb}var Db,gj;function js(){if(gj)return Db;gj=1;var t=kf(),e=jJ(),r=NJ(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:n:s&&s in Object(o)?e(o):r(o)}return Db=a,Db}var $b,vj;function Ns(){if(vj)return $b;vj=1;function t(e){return e!=null&&typeof e=="object"}return $b=t,$b}var Lb,yj;function Lc(){if(yj)return Lb;yj=1;var t=js(),e=Ns(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Lb=n,Lb}var Fb,bj;function QE(){if(bj)return Fb;bj=1;var t=dn(),e=Lc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){if(t(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||a!=null&&s in Object(a)}return Fb=i,Fb}var Ub,wj;function Ra(){if(wj)return Ub;wj=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Ub=t,Ub}var Bb,xj;function JE(){if(xj)return Bb;xj=1;var t=js(),e=Ra(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var u=t(o);return u==n||u==i||u==r||u==s}return Bb=a,Bb}var qb,_j;function IJ(){if(_j)return qb;_j=1;var t=Wi(),e=t["__core-js_shared__"];return qb=e,qb}var zb,Sj;function RJ(){if(Sj)return zb;Sj=1;var t=IJ(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return zb=r,zb}var Wb,Ej;function WU(){if(Ej)return Wb;Ej=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Wb=r,Wb}var Vb,Oj;function MJ(){if(Oj)return Vb;Oj=1;var t=JE(),e=RJ(),r=Ra(),n=WU(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,u=a.toString,d=o.hasOwnProperty,f=RegExp("^"+u.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||e(g))return!1;var w=t(g)?f:s;return w.test(n(g))}return Vb=p,Vb}var Hb,Tj;function DJ(){if(Tj)return Hb;Tj=1;function t(e,r){return e?.[r]}return Hb=t,Hb}var Kb,Aj;function Do(){if(Aj)return Kb;Aj=1;var t=MJ(),e=DJ();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return Kb=r,Kb}var Gb,Cj;function Og(){if(Cj)return Gb;Cj=1;var t=Do(),e=t(Object,"create");return Gb=e,Gb}var Yb,kj;function $J(){if(kj)return Yb;kj=1;var t=Og();function e(){this.__data__=t?t(null):{},this.size=0}return Yb=e,Yb}var Xb,Pj;function LJ(){if(Pj)return Xb;Pj=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Xb=t,Xb}var Qb,jj;function FJ(){if(jj)return Qb;jj=1;var t=Og(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return n.call(a,s)?a[s]:void 0}return Qb=i,Qb}var Jb,Nj;function UJ(){if(Nj)return Jb;Nj=1;var t=Og(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return Jb=n,Jb}var Zb,Ij;function BJ(){if(Ij)return Zb;Ij=1;var t=Og(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return Zb=r,Zb}var e0,Rj;function qJ(){if(Rj)return e0;Rj=1;var t=$J(),e=LJ(),r=FJ(),n=UJ(),i=BJ();function s(a){var o=-1,u=a==null?0:a.length;for(this.clear();++o<u;){var d=a[o];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,e0=s,e0}var t0,Mj;function zJ(){if(Mj)return t0;Mj=1;function t(){this.__data__=[],this.size=0}return t0=t,t0}var r0,Dj;function ZE(){if(Dj)return r0;Dj=1;function t(e,r){return e===r||e!==e&&r!==r}return r0=t,r0}var n0,$j;function Tg(){if($j)return n0;$j=1;var t=ZE();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return n0=e,n0}var i0,Lj;function WJ(){if(Lj)return i0;Lj=1;var t=Tg(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():r.call(s,a,1),--this.size,!0}return i0=n,i0}var s0,Fj;function VJ(){if(Fj)return s0;Fj=1;var t=Tg();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return s0=e,s0}var a0,Uj;function HJ(){if(Uj)return a0;Uj=1;var t=Tg();function e(r){return t(this.__data__,r)>-1}return a0=e,a0}var o0,Bj;function KJ(){if(Bj)return o0;Bj=1;var t=Tg();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return o0=e,o0}var l0,qj;function Ag(){if(qj)return l0;qj=1;var t=zJ(),e=WJ(),r=VJ(),n=HJ(),i=KJ();function s(a){var o=-1,u=a==null?0:a.length;for(this.clear();++o<u;){var d=a[o];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,l0=s,l0}var c0,zj;function eO(){if(zj)return c0;zj=1;var t=Do(),e=Wi(),r=t(e,"Map");return c0=r,c0}var u0,Wj;function GJ(){if(Wj)return u0;Wj=1;var t=qJ(),e=Ag(),r=eO();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return u0=n,u0}var d0,Vj;function YJ(){if(Vj)return d0;Vj=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return d0=t,d0}var f0,Hj;function Cg(){if(Hj)return f0;Hj=1;var t=YJ();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return f0=e,f0}var h0,Kj;function XJ(){if(Kj)return h0;Kj=1;var t=Cg();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return h0=e,h0}var p0,Gj;function QJ(){if(Gj)return p0;Gj=1;var t=Cg();function e(r){return t(this,r).get(r)}return p0=e,p0}var m0,Yj;function JJ(){if(Yj)return m0;Yj=1;var t=Cg();function e(r){return t(this,r).has(r)}return m0=e,m0}var g0,Xj;function ZJ(){if(Xj)return g0;Xj=1;var t=Cg();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return g0=e,g0}var v0,Qj;function tO(){if(Qj)return v0;Qj=1;var t=GJ(),e=XJ(),r=QJ(),n=JJ(),i=ZJ();function s(a){var o=-1,u=a==null?0:a.length;for(this.clear();++o<u;){var d=a[o];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,v0=s,v0}var y0,Jj;function VU(){if(Jj)return y0;Jj=1;var t=tO(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],u=s.cache;if(u.has(o))return u.get(o);var d=n.apply(this,a);return s.cache=u.set(o,d)||u,d};return s.cache=new(r.Cache||t),s}return r.Cache=t,y0=r,y0}var b0,Zj;function eZ(){if(Zj)return b0;Zj=1;var t=VU(),e=500;function r(n){var i=t(n,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return b0=r,b0}var w0,eN;function tZ(){if(eN)return w0;eN=1;var t=eZ(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,o,u,d){s.push(u?d.replace(r,"$1"):o||a)}),s});return w0=n,w0}var x0,tN;function rO(){if(tN)return x0;tN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return x0=t,x0}var _0,rN;function rZ(){if(rN)return _0;rN=1;var t=kf(),e=rO(),r=dn(),n=Lc(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function a(o){if(typeof o=="string")return o;if(r(o))return e(o,a)+"";if(n(o))return s?s.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}return _0=a,_0}var S0,nN;function HU(){if(nN)return S0;nN=1;var t=rZ();function e(r){return r==null?"":t(r)}return S0=e,S0}var E0,iN;function KU(){if(iN)return E0;iN=1;var t=dn(),e=QE(),r=tZ(),n=HU();function i(s,a){return t(s)?s:e(s,a)?[s]:r(n(s))}return E0=i,E0}var O0,sN;function kg(){if(sN)return O0;sN=1;var t=Lc();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return O0=e,O0}var T0,aN;function nO(){if(aN)return T0;aN=1;var t=KU(),e=kg();function r(n,i){i=t(i,n);for(var s=0,a=i.length;n!=null&&s<a;)n=n[e(i[s++])];return s&&s==a?n:void 0}return T0=r,T0}var A0,oN;function GU(){if(oN)return A0;oN=1;var t=nO();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return A0=e,A0}var nZ=GU();const pi=_t(nZ);var C0,lN;function iZ(){if(lN)return C0;lN=1;function t(e){return e==null}return C0=t,C0}var sZ=iZ();const ut=_t(sZ);var k0,cN;function aZ(){if(cN)return k0;cN=1;var t=js(),e=dn(),r=Ns(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return k0=i,k0}var oZ=aZ();const Pf=_t(oZ);var lZ=JE();const rt=_t(lZ);var cZ=Ra();const Fc=_t(cZ);var P0={exports:{}},wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN;function uZ(){if(uN)return wt;uN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(b){if(typeof b=="object"&&b!==null){var E=b.$$typeof;switch(E){case t:switch(b=b.type,b){case r:case i:case n:case d:case f:return b;default:switch(b=b&&b.$$typeof,b){case o:case a:case u:case g:case p:case s:return b;default:return E}}case e:return E}}}return wt.ContextConsumer=a,wt.ContextProvider=s,wt.Element=t,wt.ForwardRef=u,wt.Fragment=r,wt.Lazy=g,wt.Memo=p,wt.Portal=e,wt.Profiler=i,wt.StrictMode=n,wt.Suspense=d,wt.SuspenseList=f,wt.isAsyncMode=function(){return!1},wt.isConcurrentMode=function(){return!1},wt.isContextConsumer=function(b){return y(b)===a},wt.isContextProvider=function(b){return y(b)===s},wt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},wt.isForwardRef=function(b){return y(b)===u},wt.isFragment=function(b){return y(b)===r},wt.isLazy=function(b){return y(b)===g},wt.isMemo=function(b){return y(b)===p},wt.isPortal=function(b){return y(b)===e},wt.isProfiler=function(b){return y(b)===i},wt.isStrictMode=function(b){return y(b)===n},wt.isSuspense=function(b){return y(b)===d},wt.isSuspenseList=function(b){return y(b)===f},wt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===d||b===f||b===w||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===p||b.$$typeof===s||b.$$typeof===a||b.$$typeof===u||b.$$typeof===x||b.getModuleId!==void 0)},wt.typeOf=y,wt}var dN;function dZ(){return dN||(dN=1,P0.exports=uZ()),P0.exports}var fZ=dZ(),j0,fN;function YU(){if(fN)return j0;fN=1;var t=js(),e=Ns(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return j0=n,j0}var N0,hN;function hZ(){if(hN)return N0;hN=1;var t=YU();function e(r){return t(r)&&r!=+r}return N0=e,N0}var pZ=hZ();const jf=_t(pZ);var mZ=YU();const gZ=_t(mZ);var zn=function(e){return e===0?0:e>0?1:-1},go=function(e){return Pf(e)&&e.indexOf("%")===e.length-1},ke=function(e){return gZ(e)&&!jf(e)},yr=function(e){return ke(e)||Pf(e)},vZ=0,Pg=function(e){var r=++vZ;return"".concat(e||"").concat(r)},cn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&!Pf(e))return n;var s;if(go(e)){var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return jf(s)&&(s=n),i&&s>r&&(s=r),s},jl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},yZ=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},pN=function(e,r){return ke(e)&&ke(r)?function(n){return e+n*(r-e)}:function(){return r}};function jS(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):pi(n,e))===r})}function NS(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function IS(t){"@babel/helpers - typeof";return IS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IS(t)}var bZ=["viewBox","children"],wZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mN=["points","pathLength"],I0={svg:bZ,polygon:mN,polyline:mN},iO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),!Fc(n))return null;var i={};return Object.keys(n).forEach(function(s){iO.includes(s)&&(i[s]=r||function(a){return n[s](n,a)})}),i},xZ=function(e,r,n){return function(i){return e(r,n,i),null}},jg=function(e,r,n){if(!Fc(e)||IS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];iO.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=xZ(a,r,n))}),i},_Z=["children"],SZ=["children"];function gN(t,e){if(t==null)return{};var r=EZ(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},yN=null,R0=null,sO=function t(e){if(e===yN&&Array.isArray(R0))return R0;var r=[];return S.Children.forEach(e,function(n){ut(n)||(fZ.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),R0=r,yN=e,r};function Mi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return vs(i)}):n=[vs(e)],sO(t).forEach(function(i){var s=pi(i,"type.displayName")||pi(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Ln(t,e){var r=Mi(t,e);return r&&r[0]}var bN=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ke(n)||n<=0||!ke(i)||i<=0)},OZ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],TZ=function(e){return e&&e.type&&Pf(e.type)&&OZ.indexOf(e.type)>=0},AZ=function(e,r,n,i){var s,a=(s=I0?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!rt(e)&&(i&&a.includes(r)||wZ.includes(r))||n&&iO.includes(r)},et=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!Fc(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;AZ((o=i)===null||o===void 0?void 0:o[a],a,r,n)&&(s[a]=i[a])}),s},RS=function t(e,r){if(e===r)return!0;var n=S.Children.count(e);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return wN(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],a=r[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!wN(s,a))return!1}return!0},wN=function(e,r){if(ut(e)&&ut(r))return!0;if(!ut(e)&&!ut(r)){var n=e.props||{},i=n.children,s=gN(n,_Z),a=r.props||{},o=a.children,u=gN(a,SZ);return i&&o?NS(s,u)&&RS(i,o):!i&&!o?NS(s,u):!1}return!1},xN=function(e,r){var n=[],i={};return sO(e).forEach(function(s,a){if(TZ(s))n.push(s);else if(s){var o=vs(s.type),u=r[o]||{},d=u.handler,f=u.once;if(d&&(!f||!i[o])){var p=d(s,o,a);n.push(p),i[o]=!0}}}),n},CZ=function(e){var r=e&&e.type;return r&&vN[r]?vN[r]:null},kZ=function(e,r){return sO(r).indexOf(e)},PZ=["children","width","height","viewBox","className","style","title","desc"];function MS(){return MS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MS.apply(this,arguments)}function jZ(t,e){if(t==null)return{};var r=NZ(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DS(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,u=t.desc,d=jZ(t,PZ),f=i||{width:r,height:n,x:0,y:0},p=dt("recharts-surface",s);return W.createElement("svg",MS({},et(d,!0,"svg"),{className:p,width:r,height:n,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),W.createElement("title",null,o),W.createElement("desc",null,u),e)}var IZ=["children","className"];function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$S.apply(this,arguments)}function RZ(t,e){if(t==null)return{};var r=MZ(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Zt=W.forwardRef(function(t,e){var r=t.children,n=t.className,i=RZ(t,IZ),s=dt("recharts-layer",n);return W.createElement("g",$S({className:s},et(i,!0),{ref:e}),r)}),ys=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},M0,_N;function DZ(){if(_N)return M0;_N=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+r];return a}return M0=t,M0}var D0,SN;function $Z(){if(SN)return D0;SN=1;var t=DZ();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return D0=e,D0}var $0,EN;function XU(){if(EN)return $0;EN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+t+i+s+"]");function u(d){return o.test(d)}return $0=u,$0}var L0,ON;function LZ(){if(ON)return L0;ON=1;function t(e){return e.split("")}return L0=t,L0}var F0,TN;function FZ(){if(TN)return F0;TN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",a="["+t+"]",o="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",d="(?:"+o+"|"+u+")",f="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",x=d+"?",y="["+s+"]?",b="(?:"+w+"(?:"+[f,p,g].join("|")+")"+y+x+")*",E=y+x+b,O="(?:"+[f+o+"?",o,p,g,a].join("|")+")",A=RegExp(u+"(?="+u+")|"+O+E,"g");function P(T){return T.match(A)||[]}return F0=P,F0}var U0,AN;function UZ(){if(AN)return U0;AN=1;var t=LZ(),e=XU(),r=FZ();function n(i){return e(i)?r(i):t(i)}return U0=n,U0}var B0,CN;function BZ(){if(CN)return B0;CN=1;var t=$Z(),e=XU(),r=UZ(),n=HU();function i(s){return function(a){a=n(a);var o=e(a)?r(a):void 0,u=o?o[0]:a.charAt(0),d=o?t(o,1).join(""):a.slice(1);return u[s]()+d}}return B0=i,B0}var q0,kN;function qZ(){if(kN)return q0;kN=1;var t=BZ(),e=t("toUpperCase");return q0=e,q0}var zZ=qZ();const Ng=_t(zZ);function Dt(t){return function(){return t}}const QU=Math.cos,cm=Math.sin,bi=Math.sqrt,um=Math.PI,Ig=2*um,LS=Math.PI,FS=2*LS,oo=1e-6,WZ=FS-oo;function JU(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function VZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return JU;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class HZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?JU:VZ(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,u=n-e,d=i-r,f=a-e,p=o-r,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>oo)if(!(Math.abs(p*u-d*f)>oo)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let w=n-a,x=i-o,y=u*u+d*d,b=w*w+x*x,E=Math.sqrt(y),O=Math.sqrt(g),A=s*Math.tan((LS-Math.acos((y+g-b)/(2*E*O)))/2),P=A/O,T=A/E;Math.abs(P-1)>oo&&this._append`L${e+P*f},${r+P*p}`,this._append`A${s},${s},0,0,${+(p*w>f*x)},${this._x1=e+T*u},${this._y1=r+T*d}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),u=n*Math.sin(i),d=e+o,f=r+u,p=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>oo||Math.abs(this._y1-f)>oo)&&this._append`L${d},${f}`,n&&(g<0&&(g=g%FS+FS),g>WZ?this._append`A${n},${n},0,1,${p},${e-o},${r-u}A${n},${n},0,1,${p},${this._x1=d},${this._y1=f}`:g>oo&&this._append`A${n},${n},0,${+(g>=LS)},${p},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function aO(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new HZ(e)}function oO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ZU(t){this._context=t}ZU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Rg(t){return new ZU(t)}function e4(t){return t[0]}function t4(t){return t[1]}function r4(t,e){var r=Dt(!0),n=null,i=Rg,s=null,a=aO(o);t=typeof t=="function"?t:t===void 0?e4:Dt(t),e=typeof e=="function"?e:e===void 0?t4:Dt(e);function o(u){var d,f=(u=oO(u)).length,p,g=!1,w;for(n==null&&(s=i(w=a())),d=0;d<=f;++d)!(d<f&&r(p=u[d],d,u))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(p,d,u),+e(p,d,u));if(w)return s=null,w+""||null}return o.x=function(u){return arguments.length?(t=typeof u=="function"?u:Dt(+u),o):t},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:Dt(+u),o):e},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Dt(!!u),o):r},o.curve=function(u){return arguments.length?(i=u,n!=null&&(s=i(n)),o):i},o.context=function(u){return arguments.length?(u==null?n=s=null:s=i(n=u),o):n},o}function ip(t,e,r){var n=null,i=Dt(!0),s=null,a=Rg,o=null,u=aO(d);t=typeof t=="function"?t:t===void 0?e4:Dt(+t),e=typeof e=="function"?e:Dt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?t4:Dt(+r);function d(p){var g,w,x,y=(p=oO(p)).length,b,E=!1,O,A=new Array(y),P=new Array(y);for(s==null&&(o=a(O=u())),g=0;g<=y;++g){if(!(g<y&&i(b=p[g],g,p))===E)if(E=!E)w=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=g-1;x>=w;--x)o.point(A[x],P[x]);o.lineEnd(),o.areaEnd()}E&&(A[g]=+t(b,g,p),P[g]=+e(b,g,p),o.point(n?+n(b,g,p):A[g],r?+r(b,g,p):P[g]))}if(O)return o=null,O+""||null}function f(){return r4().defined(i).curve(a).context(s)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Dt(+p),n=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Dt(+p),d):t},d.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Dt(+p),d):n},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Dt(+p),r=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Dt(+p),d):e},d.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Dt(+p),d):r},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(r)},d.lineX1=function(){return f().x(n).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Dt(!!p),d):i},d.curve=function(p){return arguments.length?(a=p,s!=null&&(o=a(s)),d):a},d.context=function(p){return arguments.length?(p==null?s=o=null:o=a(s=p),d):s},d}class n4{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function KZ(t){return new n4(t,!0)}function GZ(t){return new n4(t,!1)}const lO={draw(t,e){const r=bi(e/um);t.moveTo(r,0),t.arc(0,0,r,0,Ig)}},YZ={draw(t,e){const r=bi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},i4=bi(1/3),XZ=i4*2,QZ={draw(t,e){const r=bi(e/XZ),n=r*i4;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},JZ={draw(t,e){const r=bi(e),n=-r/2;t.rect(n,n,r,r)}},ZZ=.8908130915292852,s4=cm(um/10)/cm(7*um/10),eee=cm(Ig/10)*s4,tee=-QU(Ig/10)*s4,ree={draw(t,e){const r=bi(e*ZZ),n=eee*r,i=tee*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=Ig*s/5,o=QU(a),u=cm(a);t.lineTo(u*r,-o*r),t.lineTo(o*n-u*i,u*n+o*i)}t.closePath()}},z0=bi(3),nee={draw(t,e){const r=-bi(e/(z0*3));t.moveTo(0,r*2),t.lineTo(-z0*r,-r),t.lineTo(z0*r,-r),t.closePath()}},Mn=-.5,Dn=bi(3)/2,US=1/bi(12),iee=(US/2+1)*3,see={draw(t,e){const r=bi(e/iee),n=r/2,i=r*US,s=n,a=r*US+r,o=-s,u=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,u),t.lineTo(Mn*n-Dn*i,Dn*n+Mn*i),t.lineTo(Mn*s-Dn*a,Dn*s+Mn*a),t.lineTo(Mn*o-Dn*u,Dn*o+Mn*u),t.lineTo(Mn*n+Dn*i,Mn*i-Dn*n),t.lineTo(Mn*s+Dn*a,Mn*a-Dn*s),t.lineTo(Mn*o+Dn*u,Mn*u-Dn*o),t.closePath()}};function aee(t,e){let r=null,n=aO(i);t=typeof t=="function"?t:Dt(t||lO),e=typeof e=="function"?e:Dt(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Dt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Dt(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function dm(){}function fm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function a4(t){this._context=t}a4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oee(t){return new a4(t)}function o4(t){this._context=t}o4.prototype={areaStart:dm,areaEnd:dm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lee(t){return new o4(t)}function l4(t){this._context=t}l4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cee(t){return new l4(t)}function c4(t){this._context=t}c4.prototype={areaStart:dm,areaEnd:dm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function uee(t){return new c4(t)}function PN(t){return t<0?-1:1}function jN(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(PN(s)+PN(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function NN(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function W0(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function hm(t){this._context=t}hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:W0(this,this._t0,NN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,W0(this,NN(this,r=jN(this,t,e)),r);break;default:W0(this,this._t0,r=jN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function u4(t){this._context=new d4(t)}(u4.prototype=Object.create(hm.prototype)).point=function(t,e){hm.prototype.point.call(this,e,t)};function d4(t){this._context=t}d4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function dee(t){return new hm(t)}function fee(t){return new u4(t)}function f4(t){this._context=t}f4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=IN(t),i=IN(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function IN(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function hee(t){return new f4(t)}function Mg(t,e){this._context=t,this._t=e}Mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function pee(t){return new Mg(t,.5)}function mee(t){return new Mg(t,0)}function gee(t){return new Mg(t,1)}function nc(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function BS(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function vee(t,e){return t[e]}function yee(t){const e=[];return e.key=t,e}function bee(){var t=Dt([]),e=BS,r=nc,n=vee;function i(s){var a=Array.from(t.apply(this,arguments),yee),o,u=a.length,d=-1,f;for(const p of s)for(o=0,++d;o<u;++o)(a[o][d]=[0,+n(p,a[o].key,d,s)]).data=p;for(o=0,f=oO(e(a));o<u;++o)a[f[o]].index=o;return r(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Dt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Dt(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?BS:typeof s=="function"?s:Dt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??nc,i):r},i}function wee(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}nc(t,e)}}function xee(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}nc(t,e)}}function _ee(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,u=0,d=0;o<a;++o){for(var f=t[e[o]],p=f[n][1]||0,g=f[n-1][1]||0,w=(p-g)/2,x=0;x<o;++x){var y=t[e[x]],b=y[n][1]||0,E=y[n-1][1]||0;w+=b-E}u+=p,d+=w*p}i[n-1][1]+=i[n-1][0]=r,u&&(r-=d/u)}i[n-1][1]+=i[n-1][0]=r,nc(t,e)}}function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}var See=["type","size","sizeType"];function qS(){return qS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qS.apply(this,arguments)}function RN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(r),!0).forEach(function(n){Eee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eee(t,e,r){return e=Oee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oee(t){var e=Tee(t,"string");return jd(e)=="symbol"?e:e+""}function Tee(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aee(t,e){if(t==null)return{};var r=Cee(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var h4={symbolCircle:lO,symbolCross:YZ,symbolDiamond:QZ,symbolSquare:JZ,symbolStar:ree,symbolTriangle:nee,symbolWye:see},kee=Math.PI/180,Pee=function(e){var r="symbol".concat(Ng(e));return h4[r]||lO},jee=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*kee;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Nee=function(e,r){h4["symbol".concat(Ng(e))]=r},cO=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,u=Aee(e,See),d=MN(MN({},u),{},{type:n,size:s,sizeType:o}),f=function(){var b=Pee(n),E=aee().type(b).size(jee(s,o,n));return E()},p=d.className,g=d.cx,w=d.cy,x=et(d,!0);return g===+g&&w===+w&&s===+s?W.createElement("path",qS({},x,{className:dt("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(w,")"),d:f()})):null};cO.registerSymbol=Nee;function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zS.apply(this,arguments)}function DN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(r),!0).forEach(function(n){Nd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ree(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m4(n.key),n)}}function Dee(t,e,r){return e&&Mee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ee(t,e,r){return e=pm(e),Lee(t,p4()?Reflect.construct(e,r||[],pm(t).constructor):e.apply(t,r))}function Lee(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fee(t)}function Fee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p4=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pm(t)}function Uee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WS(t,e)}function WS(t,e){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WS(t,e)}function Nd(t,e,r){return e=m4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m4(t){var e=Bee(t,"string");return ic(e)=="symbol"?e:e+""}function Bee(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $n=32,uO=(function(t){function e(){return Ree(this,e),$ee(this,e,arguments)}return Uee(e,t),Dee(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=$n/2,a=$n/6,o=$n/3,u=n.inactive?i:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:$n,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat($n,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:u,d:"M0,".concat($n/8,"h").concat($n,"v").concat($n*3/4,"h").concat(-$n,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var d=Iee({},n);return delete d.legendIcon,W.cloneElement(n.legendIcon,d)}return W.createElement(cO,{fill:u,cx:s,cy:s,size:$n,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,u=i.formatter,d=i.inactiveColor,f={x:0,y:0,width:$n,height:$n},p={display:o==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(w,x){var y=w.formatter||u,b=dt(Nd(Nd({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",w.inactive));if(w.type==="none")return null;var E=rt(w.value)?null:w.value;ys(!rt(w.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=w.inactive?d:w.color;return W.createElement("li",zS({className:b,style:p,key:"legend-item-".concat(x)},jg(n.props,w,x)),W.createElement(DS,{width:a,height:a,viewBox:f,style:g},n.renderIcon(w)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},y?y(E,w,x):E))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,a=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(S.PureComponent);Nd(uO,"displayName","Legend");Nd(uO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var V0,$N;function qee(){if($N)return V0;$N=1;var t=Ag();function e(){this.__data__=new t,this.size=0}return V0=e,V0}var H0,LN;function zee(){if(LN)return H0;LN=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return H0=t,H0}var K0,FN;function Wee(){if(FN)return K0;FN=1;function t(e){return this.__data__.get(e)}return K0=t,K0}var G0,UN;function Vee(){if(UN)return G0;UN=1;function t(e){return this.__data__.has(e)}return G0=t,G0}var Y0,BN;function Hee(){if(BN)return Y0;BN=1;var t=Ag(),e=eO(),r=tO(),n=200;function i(s,a){var o=this.__data__;if(o instanceof t){var u=o.__data__;if(!e||u.length<n-1)return u.push([s,a]),this.size=++o.size,this;o=this.__data__=new r(u)}return o.set(s,a),this.size=o.size,this}return Y0=i,Y0}var X0,qN;function g4(){if(qN)return X0;qN=1;var t=Ag(),e=qee(),r=zee(),n=Wee(),i=Vee(),s=Hee();function a(o){var u=this.__data__=new t(o);this.size=u.size}return a.prototype.clear=e,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=i,a.prototype.set=s,X0=a,X0}var Q0,zN;function Kee(){if(zN)return Q0;zN=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Q0=e,Q0}var J0,WN;function Gee(){if(WN)return J0;WN=1;function t(e){return this.__data__.has(e)}return J0=t,J0}var Z0,VN;function v4(){if(VN)return Z0;VN=1;var t=tO(),e=Kee(),r=Gee();function n(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Z0=n,Z0}var ew,HN;function y4(){if(HN)return ew;HN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return ew=t,ew}var tw,KN;function b4(){if(KN)return tw;KN=1;function t(e,r){return e.has(r)}return tw=t,tw}var rw,GN;function w4(){if(GN)return rw;GN=1;var t=v4(),e=y4(),r=b4(),n=1,i=2;function s(a,o,u,d,f,p){var g=u&n,w=a.length,x=o.length;if(w!=x&&!(g&&x>w))return!1;var y=p.get(a),b=p.get(o);if(y&&b)return y==o&&b==a;var E=-1,O=!0,A=u&i?new t:void 0;for(p.set(a,o),p.set(o,a);++E<w;){var P=a[E],T=o[E];if(d)var C=g?d(T,P,E,o,a,p):d(P,T,E,a,o,p);if(C!==void 0){if(C)continue;O=!1;break}if(A){if(!e(o,function(j,N){if(!r(A,N)&&(P===j||f(P,j,u,d,p)))return A.push(N)})){O=!1;break}}else if(!(P===T||f(P,T,u,d,p))){O=!1;break}}return p.delete(a),p.delete(o),O}return rw=s,rw}var nw,YN;function Yee(){if(YN)return nw;YN=1;var t=Wi(),e=t.Uint8Array;return nw=e,nw}var iw,XN;function Xee(){if(XN)return iw;XN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return iw=t,iw}var sw,QN;function dO(){if(QN)return sw;QN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return sw=t,sw}var aw,JN;function Qee(){if(JN)return aw;JN=1;var t=kf(),e=Yee(),r=ZE(),n=w4(),i=Xee(),s=dO(),a=1,o=2,u="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Map]",g="[object Number]",w="[object RegExp]",x="[object Set]",y="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",O="[object DataView]",A=t?t.prototype:void 0,P=A?A.valueOf:void 0;function T(C,j,N,D,M,R,$){switch(N){case O:if(C.byteLength!=j.byteLength||C.byteOffset!=j.byteOffset)return!1;C=C.buffer,j=j.buffer;case E:return!(C.byteLength!=j.byteLength||!R(new e(C),new e(j)));case u:case d:case g:return r(+C,+j);case f:return C.name==j.name&&C.message==j.message;case w:case y:return C==j+"";case p:var F=i;case x:var K=D&a;if(F||(F=s),C.size!=j.size&&!K)return!1;var G=$.get(C);if(G)return G==j;D|=o,$.set(C,j);var V=n(F(C),F(j),D,M,R,$);return $.delete(C),V;case b:if(P)return P.call(C)==P.call(j)}return!1}return aw=T,aw}var ow,ZN;function x4(){if(ZN)return ow;ZN=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return ow=t,ow}var lw,eI;function Jee(){if(eI)return lw;eI=1;var t=x4(),e=dn();function r(n,i,s){var a=i(n);return e(n)?a:t(a,s(n))}return lw=r,lw}var cw,tI;function Zee(){if(tI)return cw;tI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,a=[];++n<i;){var o=e[n];r(o,n,e)&&(a[s++]=o)}return a}return cw=t,cw}var uw,rI;function ete(){if(rI)return uw;rI=1;function t(){return[]}return uw=t,uw}var dw,nI;function tte(){if(nI)return dw;nI=1;var t=Zee(),e=ete(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return n.call(a,o)}))}:e;return dw=s,dw}var fw,iI;function rte(){if(iI)return fw;iI=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return fw=t,fw}var hw,sI;function nte(){if(sI)return hw;sI=1;var t=js(),e=Ns(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return hw=n,hw}var pw,aI;function fO(){if(aI)return pw;aI=1;var t=nte(),e=Ns(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&n.call(a,"callee")&&!i.call(a,"callee")};return pw=s,pw}var Yu={exports:{}},mw,oI;function ite(){if(oI)return mw;oI=1;function t(){return!1}return mw=t,mw}Yu.exports;var lI;function _4(){return lI||(lI=1,(function(t,e){var r=Wi(),n=ite(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?r.Buffer:void 0,u=o?o.isBuffer:void 0,d=u||n;t.exports=d})(Yu,Yu.exports)),Yu.exports}var gw,cI;function hO(){if(cI)return gw;cI=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return gw=r,gw}var vw,uI;function pO(){if(uI)return vw;uI=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return vw=e,vw}var yw,dI;function ste(){if(dI)return yw;dI=1;var t=js(),e=pO(),r=Ns(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",u="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",w="[object Set]",x="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",O="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",T="[object Int16Array]",C="[object Int32Array]",j="[object Uint8Array]",N="[object Uint8ClampedArray]",D="[object Uint16Array]",M="[object Uint32Array]",R={};R[O]=R[A]=R[P]=R[T]=R[C]=R[j]=R[N]=R[D]=R[M]=!0,R[n]=R[i]=R[b]=R[s]=R[E]=R[a]=R[o]=R[u]=R[d]=R[f]=R[p]=R[g]=R[w]=R[x]=R[y]=!1;function $(F){return r(F)&&e(F.length)&&!!R[t(F)]}return yw=$,yw}var bw,fI;function S4(){if(fI)return bw;fI=1;function t(e){return function(r){return e(r)}}return bw=t,bw}var Xu={exports:{}};Xu.exports;var hI;function ate(){return hI||(hI=1,(function(t,e){var r=zU(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,a=s&&r.process,o=(function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(Xu,Xu.exports)),Xu.exports}var ww,pI;function E4(){if(pI)return ww;pI=1;var t=ste(),e=S4(),r=ate(),n=r&&r.isTypedArray,i=n?e(n):t;return ww=i,ww}var xw,mI;function ote(){if(mI)return xw;mI=1;var t=rte(),e=fO(),r=dn(),n=_4(),i=hO(),s=E4(),a=Object.prototype,o=a.hasOwnProperty;function u(d,f){var p=r(d),g=!p&&e(d),w=!p&&!g&&n(d),x=!p&&!g&&!w&&s(d),y=p||g||w||x,b=y?t(d.length,String):[],E=b.length;for(var O in d)(f||o.call(d,O))&&!(y&&(O=="length"||w&&(O=="offset"||O=="parent")||x&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||i(O,E)))&&b.push(O);return b}return xw=u,xw}var _w,gI;function lte(){if(gI)return _w;gI=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return _w=e,_w}var Sw,vI;function O4(){if(vI)return Sw;vI=1;function t(e,r){return function(n){return e(r(n))}}return Sw=t,Sw}var Ew,yI;function cte(){if(yI)return Ew;yI=1;var t=O4(),e=t(Object.keys,Object);return Ew=e,Ew}var Ow,bI;function ute(){if(bI)return Ow;bI=1;var t=lte(),e=cte(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))n.call(s,o)&&o!="constructor"&&a.push(o);return a}return Ow=i,Ow}var Tw,wI;function Nf(){if(wI)return Tw;wI=1;var t=JE(),e=pO();function r(n){return n!=null&&e(n.length)&&!t(n)}return Tw=r,Tw}var Aw,xI;function Dg(){if(xI)return Aw;xI=1;var t=ote(),e=ute(),r=Nf();function n(i){return r(i)?t(i):e(i)}return Aw=n,Aw}var Cw,_I;function dte(){if(_I)return Cw;_I=1;var t=Jee(),e=tte(),r=Dg();function n(i){return t(i,r,e)}return Cw=n,Cw}var kw,SI;function fte(){if(SI)return kw;SI=1;var t=dte(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,a,o,u,d,f){var p=o&e,g=t(s),w=g.length,x=t(a),y=x.length;if(w!=y&&!p)return!1;for(var b=w;b--;){var E=g[b];if(!(p?E in a:n.call(a,E)))return!1}var O=f.get(s),A=f.get(a);if(O&&A)return O==a&&A==s;var P=!0;f.set(s,a),f.set(a,s);for(var T=p;++b<w;){E=g[b];var C=s[E],j=a[E];if(u)var N=p?u(j,C,E,a,s,f):u(C,j,E,s,a,f);if(!(N===void 0?C===j||d(C,j,o,u,f):N)){P=!1;break}T||(T=E=="constructor")}if(P&&!T){var D=s.constructor,M=a.constructor;D!=M&&"constructor"in s&&"constructor"in a&&!(typeof D=="function"&&D instanceof D&&typeof M=="function"&&M instanceof M)&&(P=!1)}return f.delete(s),f.delete(a),P}return kw=i,kw}var Pw,EI;function hte(){if(EI)return Pw;EI=1;var t=Do(),e=Wi(),r=t(e,"DataView");return Pw=r,Pw}var jw,OI;function pte(){if(OI)return jw;OI=1;var t=Do(),e=Wi(),r=t(e,"Promise");return jw=r,jw}var Nw,TI;function T4(){if(TI)return Nw;TI=1;var t=Do(),e=Wi(),r=t(e,"Set");return Nw=r,Nw}var Iw,AI;function mte(){if(AI)return Iw;AI=1;var t=Do(),e=Wi(),r=t(e,"WeakMap");return Iw=r,Iw}var Rw,CI;function gte(){if(CI)return Rw;CI=1;var t=hte(),e=eO(),r=pte(),n=T4(),i=mte(),s=js(),a=WU(),o="[object Map]",u="[object Object]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",w=a(t),x=a(e),y=a(r),b=a(n),E=a(i),O=s;return(t&&O(new t(new ArrayBuffer(1)))!=g||e&&O(new e)!=o||r&&O(r.resolve())!=d||n&&O(new n)!=f||i&&O(new i)!=p)&&(O=function(A){var P=s(A),T=P==u?A.constructor:void 0,C=T?a(T):"";if(C)switch(C){case w:return g;case x:return o;case y:return d;case b:return f;case E:return p}return P}),Rw=O,Rw}var Mw,kI;function vte(){if(kI)return Mw;kI=1;var t=g4(),e=w4(),r=Qee(),n=fte(),i=gte(),s=dn(),a=_4(),o=E4(),u=1,d="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype,w=g.hasOwnProperty;function x(y,b,E,O,A,P){var T=s(y),C=s(b),j=T?f:i(y),N=C?f:i(b);j=j==d?p:j,N=N==d?p:N;var D=j==p,M=N==p,R=j==N;if(R&&a(y)){if(!a(b))return!1;T=!0,D=!1}if(R&&!D)return P||(P=new t),T||o(y)?e(y,b,E,O,A,P):r(y,b,j,E,O,A,P);if(!(E&u)){var $=D&&w.call(y,"__wrapped__"),F=M&&w.call(b,"__wrapped__");if($||F){var K=$?y.value():y,G=F?b.value():b;return P||(P=new t),A(K,G,E,O,P)}}return R?(P||(P=new t),n(y,b,E,O,A,P)):!1}return Mw=x,Mw}var Dw,PI;function mO(){if(PI)return Dw;PI=1;var t=vte(),e=Ns();function r(n,i,s,a,o){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,a,r,o)}return Dw=r,Dw}var $w,jI;function yte(){if(jI)return $w;jI=1;var t=g4(),e=mO(),r=1,n=2;function i(s,a,o,u){var d=o.length,f=d,p=!u;if(s==null)return!f;for(s=Object(s);d--;){var g=o[d];if(p&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++d<f;){g=o[d];var w=g[0],x=s[w],y=g[1];if(p&&g[2]){if(x===void 0&&!(w in s))return!1}else{var b=new t;if(u)var E=u(x,y,w,s,a,b);if(!(E===void 0?e(y,x,r|n,u,b):E))return!1}}return!0}return $w=i,$w}var Lw,NI;function A4(){if(NI)return Lw;NI=1;var t=Ra();function e(r){return r===r&&!t(r)}return Lw=e,Lw}var Fw,II;function bte(){if(II)return Fw;II=1;var t=A4(),e=Dg();function r(n){for(var i=e(n),s=i.length;s--;){var a=i[s],o=n[a];i[s]=[a,o,t(o)]}return i}return Fw=r,Fw}var Uw,RI;function C4(){if(RI)return Uw;RI=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Uw=t,Uw}var Bw,MI;function wte(){if(MI)return Bw;MI=1;var t=yte(),e=bte(),r=C4();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(a){return a===i||t(a,i,s)}}return Bw=n,Bw}var qw,DI;function xte(){if(DI)return qw;DI=1;function t(e,r){return e!=null&&r in Object(e)}return qw=t,qw}var zw,$I;function _te(){if($I)return zw;$I=1;var t=KU(),e=fO(),r=dn(),n=hO(),i=pO(),s=kg();function a(o,u,d){u=t(u,o);for(var f=-1,p=u.length,g=!1;++f<p;){var w=s(u[f]);if(!(g=o!=null&&d(o,w)))break;o=o[w]}return g||++f!=p?g:(p=o==null?0:o.length,!!p&&i(p)&&n(w,p)&&(r(o)||e(o)))}return zw=a,zw}var Ww,LI;function Ste(){if(LI)return Ww;LI=1;var t=xte(),e=_te();function r(n,i){return n!=null&&e(n,i,t)}return Ww=r,Ww}var Vw,FI;function Ete(){if(FI)return Vw;FI=1;var t=mO(),e=GU(),r=Ste(),n=QE(),i=A4(),s=C4(),a=kg(),o=1,u=2;function d(f,p){return n(f)&&i(p)?s(a(f),p):function(g){var w=e(g,f);return w===void 0&&w===p?r(g,f):t(p,w,o|u)}}return Vw=d,Vw}var Hw,UI;function Uc(){if(UI)return Hw;UI=1;function t(e){return e}return Hw=t,Hw}var Kw,BI;function Ote(){if(BI)return Kw;BI=1;function t(e){return function(r){return r?.[e]}}return Kw=t,Kw}var Gw,qI;function Tte(){if(qI)return Gw;qI=1;var t=nO();function e(r){return function(n){return t(n,r)}}return Gw=e,Gw}var Yw,zI;function Ate(){if(zI)return Yw;zI=1;var t=Ote(),e=Tte(),r=QE(),n=kg();function i(s){return r(s)?t(n(s)):e(s)}return Yw=i,Yw}var Xw,WI;function Vi(){if(WI)return Xw;WI=1;var t=wte(),e=Ete(),r=Uc(),n=dn(),i=Ate();function s(a){return typeof a=="function"?a:a==null?r:typeof a=="object"?n(a)?e(a[0],a[1]):t(a):i(a)}return Xw=s,Xw}var Qw,VI;function k4(){if(VI)return Qw;VI=1;function t(e,r,n,i){for(var s=e.length,a=n+(i?1:-1);i?a--:++a<s;)if(r(e[a],a,e))return a;return-1}return Qw=t,Qw}var Jw,HI;function Cte(){if(HI)return Jw;HI=1;function t(e){return e!==e}return Jw=t,Jw}var Zw,KI;function kte(){if(KI)return Zw;KI=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return Zw=t,Zw}var ex,GI;function Pte(){if(GI)return ex;GI=1;var t=k4(),e=Cte(),r=kte();function n(i,s,a){return s===s?r(i,s,a):t(i,e,a)}return ex=n,ex}var tx,YI;function jte(){if(YI)return tx;YI=1;var t=Pte();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return tx=e,tx}var rx,XI;function Nte(){if(XI)return rx;XI=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return rx=t,rx}var nx,QI;function Ite(){if(QI)return nx;QI=1;function t(){}return nx=t,nx}var ix,JI;function Rte(){if(JI)return ix;JI=1;var t=T4(),e=Ite(),r=dO(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return ix=i,ix}var sx,ZI;function Mte(){if(ZI)return sx;ZI=1;var t=v4(),e=jte(),r=Nte(),n=b4(),i=Rte(),s=dO(),a=200;function o(u,d,f){var p=-1,g=e,w=u.length,x=!0,y=[],b=y;if(f)x=!1,g=r;else if(w>=a){var E=d?null:i(u);if(E)return s(E);x=!1,g=n,b=new t}else b=d?[]:y;e:for(;++p<w;){var O=u[p],A=d?d(O):O;if(O=f||O!==0?O:0,x&&A===A){for(var P=b.length;P--;)if(b[P]===A)continue e;d&&b.push(A),y.push(O)}else g(b,A,f)||(b!==y&&b.push(A),y.push(O))}return y}return sx=o,sx}var ax,eR;function Dte(){if(eR)return ax;eR=1;var t=Vi(),e=Mte();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return ax=r,ax}var $te=Dte();const tR=_t($te);function P4(t,e,r){return e===!0?tR(t,r):rt(e)?tR(t,e):t}function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}var Lte=["ref"];function rR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function is(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(r),!0).forEach(function(n){$g(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N4(n.key),n)}}function Ute(t,e,r){return e&&nR(t.prototype,e),r&&nR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bte(t,e,r){return e=mm(e),qte(t,j4()?Reflect.construct(e,r||[],mm(t).constructor):e.apply(t,r))}function qte(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zte(t)}function zte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(t)}function Wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VS(t,e)}function VS(t,e){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VS(t,e)}function $g(t,e,r){return e=N4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N4(t){var e=Vte(t,"string");return sc(e)=="symbol"?e:e+""}function Vte(t,e){if(sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hte(t,e){if(t==null)return{};var r=Kte(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Gte(t){return t.value}function Yte(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var r=Hte(e,Lte);return W.createElement(uO,r)}var iR=1,xo=(function(t){function e(){var r;Fte(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Bte(this,e,[].concat(i)),$g(r,"lastBoundingBox",{width:-1,height:-1}),r}return Wte(e,t),Ute(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>iR||Math.abs(i.height-this.lastBoundingBox.height)>iR)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?is({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,u=i.margin,d=i.chartWidth,f=i.chartHeight,p,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var w=this.getBBoxSnapshot();p={left:((d||0)-w.width)/2}}else p=a==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var x=this.getBBoxSnapshot();g={top:((f||0)-x.height)/2}}else g=o==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return is(is({},p),g)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,a=i.width,o=i.height,u=i.wrapperStyle,d=i.payloadUniqBy,f=i.payload,p=is(is({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(u)),u);return W.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(w){n.wrapperNode=w}},Yte(s,is(is({},this.props),{},{payload:P4(f,d,Gte)})))}}],[{key:"getWithHeight",value:function(n,i){var s=is(is({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&ke(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])})(S.PureComponent);$g(xo,"displayName","Legend");$g(xo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ox,sR;function Xte(){if(sR)return ox;sR=1;var t=kf(),e=fO(),r=dn(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return ox=i,ox}var lx,aR;function I4(){if(aR)return lx;aR=1;var t=x4(),e=Xte();function r(n,i,s,a,o){var u=-1,d=n.length;for(s||(s=e),o||(o=[]);++u<d;){var f=n[u];i>0&&s(f)?i>1?r(f,i-1,s,a,o):t(o,f):a||(o[o.length]=f)}return o}return lx=r,lx}var cx,oR;function Qte(){if(oR)return cx;oR=1;function t(e){return function(r,n,i){for(var s=-1,a=Object(r),o=i(r),u=o.length;u--;){var d=o[e?u:++s];if(n(a[d],d,a)===!1)break}return r}}return cx=t,cx}var ux,lR;function Jte(){if(lR)return ux;lR=1;var t=Qte(),e=t();return ux=e,ux}var dx,cR;function R4(){if(cR)return dx;cR=1;var t=Jte(),e=Dg();function r(n,i){return n&&t(n,i,e)}return dx=r,dx}var fx,uR;function Zte(){if(uR)return fx;uR=1;var t=Nf();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var a=i.length,o=n?a:-1,u=Object(i);(n?o--:++o<a)&&s(u[o],o,u)!==!1;);return i}}return fx=e,fx}var hx,dR;function gO(){if(dR)return hx;dR=1;var t=R4(),e=Zte(),r=e(t);return hx=r,hx}var px,fR;function M4(){if(fR)return px;fR=1;var t=gO(),e=Nf();function r(n,i){var s=-1,a=e(n)?Array(n.length):[];return t(n,function(o,u,d){a[++s]=i(o,u,d)}),a}return px=r,px}var mx,hR;function ere(){if(hR)return mx;hR=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return mx=t,mx}var gx,pR;function tre(){if(pR)return gx;pR=1;var t=Lc();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,a=r===r,o=t(r),u=n!==void 0,d=n===null,f=n===n,p=t(n);if(!d&&!p&&!o&&r>n||o&&u&&f&&!d&&!p||s&&u&&f||!i&&f||!a)return 1;if(!s&&!o&&!p&&r<n||p&&i&&a&&!s&&!o||d&&i&&a||!u&&a||!f)return-1}return 0}return gx=e,gx}var vx,mR;function rre(){if(mR)return vx;mR=1;var t=tre();function e(r,n,i){for(var s=-1,a=r.criteria,o=n.criteria,u=a.length,d=i.length;++s<u;){var f=t(a[s],o[s]);if(f){if(s>=d)return f;var p=i[s];return f*(p=="desc"?-1:1)}}return r.index-n.index}return vx=e,vx}var yx,gR;function nre(){if(gR)return yx;gR=1;var t=rO(),e=nO(),r=Vi(),n=M4(),i=ere(),s=S4(),a=rre(),o=Uc(),u=dn();function d(f,p,g){p.length?p=t(p,function(y){return u(y)?function(b){return e(b,y.length===1?y[0]:y)}:y}):p=[o];var w=-1;p=t(p,s(r));var x=n(f,function(y,b,E){var O=t(p,function(A){return A(y)});return{criteria:O,index:++w,value:y}});return i(x,function(y,b){return a(y,b,g)})}return yx=d,yx}var bx,vR;function ire(){if(vR)return bx;vR=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return bx=t,bx}var wx,yR;function sre(){if(yR)return wx;yR=1;var t=ire(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var a=arguments,o=-1,u=e(a.length-i,0),d=Array(u);++o<u;)d[o]=a[i+o];o=-1;for(var f=Array(i+1);++o<i;)f[o]=a[o];return f[i]=s(d),t(n,this,f)}}return wx=r,wx}var xx,bR;function are(){if(bR)return xx;bR=1;function t(e){return function(){return e}}return xx=t,xx}var _x,wR;function D4(){if(wR)return _x;wR=1;var t=Do(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return _x=e,_x}var Sx,xR;function ore(){if(xR)return Sx;xR=1;var t=are(),e=D4(),r=Uc(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return Sx=n,Sx}var Ex,_R;function lre(){if(_R)return Ex;_R=1;var t=800,e=16,r=Date.now;function n(i){var s=0,a=0;return function(){var o=r(),u=e-(o-a);if(a=o,u>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Ex=n,Ex}var Ox,SR;function cre(){if(SR)return Ox;SR=1;var t=ore(),e=lre(),r=e(t);return Ox=r,Ox}var Tx,ER;function ure(){if(ER)return Tx;ER=1;var t=Uc(),e=sre(),r=cre();function n(i,s){return r(e(i,s,t),i+"")}return Tx=n,Tx}var Ax,OR;function Lg(){if(OR)return Ax;OR=1;var t=ZE(),e=Nf(),r=hO(),n=Ra();function i(s,a,o){if(!n(o))return!1;var u=typeof a;return(u=="number"?e(o)&&r(a,o.length):u=="string"&&a in o)?t(o[a],s):!1}return Ax=i,Ax}var Cx,TR;function dre(){if(TR)return Cx;TR=1;var t=I4(),e=nre(),r=ure(),n=Lg(),i=r(function(s,a){if(s==null)return[];var o=a.length;return o>1&&n(s,a[0],a[1])?a=[]:o>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return Cx=i,Cx}var fre=dre();const vO=_t(fre);function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function HS(){return HS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HS.apply(this,arguments)}function hre(t,e){return vre(t)||gre(t,e)||mre(t,e)||pre()}function pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mre(t,e){if(t){if(typeof t=="string")return AR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AR(t,e)}}function AR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],u=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function vre(t){if(Array.isArray(t))return t}function CR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(r),!0).forEach(function(n){yre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yre(t,e,r){return e=bre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bre(t){var e=wre(t,"string");return Id(e)=="symbol"?e:e+""}function wre(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xre(t){return Array.isArray(t)&&yr(t[0])&&yr(t[1])?t.join(" ~ "):t}var _re=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,u=e.labelStyle,d=u===void 0?{}:u,f=e.payload,p=e.formatter,g=e.itemSorter,w=e.wrapperClassName,x=e.labelClassName,y=e.label,b=e.labelFormatter,E=e.accessibilityLayer,O=E===void 0?!1:E,A=function(){if(f&&f.length){var $={padding:0,margin:0},F=(g?vO(f,g):f).map(function(K,G){if(K.type==="none")return null;var V=kx({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},o),Q=K.formatter||p||xre,z=K.value,J=K.name,ie=z,U=J;if(Q&&ie!=null&&U!=null){var Y=Q(z,J,K,G,f);if(Array.isArray(Y)){var he=hre(Y,2);ie=he[0],U=he[1]}else ie=Y}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:V},yr(U)?W.createElement("span",{className:"recharts-tooltip-item-name"},U):null,yr(U)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},ie),W.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:$},F)}return null},P=kx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),T=kx({margin:0},d),C=!ut(y),j=C?y:"",N=dt("recharts-default-tooltip",w),D=dt("recharts-tooltip-label",x);C&&b&&f!==void 0&&f!==null&&(j=b(y,f));var M=O?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",HS({className:N,style:P},M),W.createElement("p",{className:D,style:T},W.isValidElement(j)?j:"".concat(j)),A())};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function sp(t,e,r){return e=Sre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sre(t){var e=Ere(t,"string");return Rd(e)=="symbol"?e:e+""}function Ere(t,e){if(Rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pu="recharts-tooltip-wrapper",Ore={visibility:"hidden"};function Tre(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return dt(Pu,sp(sp(sp(sp({},"".concat(Pu,"-right"),ke(r)&&e&&ke(e.x)&&r>=e.x),"".concat(Pu,"-left"),ke(r)&&e&&ke(e.x)&&r<e.x),"".concat(Pu,"-bottom"),ke(n)&&e&&ke(e.y)&&n>=e.y),"".concat(Pu,"-top"),ke(n)&&e&&ke(e.y)&&n<e.y))}function kR(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,u=t.viewBox,d=t.viewBoxDimension;if(s&&ke(s[n]))return s[n];var f=r[n]-o-i,p=r[n]+i;if(e[n])return a[n]?f:p;if(a[n]){var g=f,w=u[n];return g<w?Math.max(p,u[n]):Math.max(f,u[n])}var x=p+o,y=u[n]+d;return x>y?Math.max(f,u[n]):Math.max(p,u[n])}function Are(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Cre(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,u=t.viewBox,d,f,p;return a.height>0&&a.width>0&&r?(f=kR({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),p=kR({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),d=Are({translateX:f,translateY:p,useTranslate3d:o})):d=Ore,{cssProperties:d,cssClasses:Tre({translateX:f,translateY:p,coordinate:r})}}function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function PR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(r),!0).forEach(function(n){GS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L4(n.key),n)}}function jre(t,e,r){return e&&Pre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nre(t,e,r){return e=gm(e),Ire(t,$4()?Reflect.construct(e,r||[],gm(t).constructor):e.apply(t,r))}function Ire(t,e){if(e&&(ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rre(t)}function Rre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($4=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gm(t)}function Mre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KS(t,e)}function KS(t,e){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KS(t,e)}function GS(t,e,r){return e=L4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L4(t){var e=Dre(t,"string");return ac(e)=="symbol"?e:e+""}function Dre(t,e){if(ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NR=1,$re=(function(t){function e(){var r;kre(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Nre(this,e,[].concat(i)),GS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),GS(r,"handleKeyDown",function(a){if(a.key==="Escape"){var o,u,d,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&o!==void 0?o:0,y:(d=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),r}return Mre(e,t),jre(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>NR||Math.abs(n.height-this.state.lastBoundingBox.height)>NR)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,u=i.animationEasing,d=i.children,f=i.coordinate,p=i.hasPayload,g=i.isAnimationActive,w=i.offset,x=i.position,y=i.reverseDirection,b=i.useTranslate3d,E=i.viewBox,O=i.wrapperStyle,A=Cre({allowEscapeViewBox:a,coordinate:f,offsetTopLeft:w,position:x,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:E}),P=A.cssClasses,T=A.cssProperties,C=jR(jR({transition:g&&s?"transform ".concat(o,"ms ").concat(u):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},O);return W.createElement("div",{tabIndex:-1,className:P,style:C,ref:function(N){n.wrapperNode=N}},d)}}])})(S.PureComponent),Lre=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fg={isSsr:Lre()};function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){yO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ure(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U4(n.key),n)}}function Bre(t,e,r){return e&&Ure(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qre(t,e,r){return e=vm(e),zre(t,F4()?Reflect.construct(e,r||[],vm(t).constructor):e.apply(t,r))}function zre(t,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wre(t)}function Wre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F4=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(t)}function Vre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YS(t,e)}function YS(t,e){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YS(t,e)}function yO(t,e,r){return e=U4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U4(t){var e=Hre(t,"string");return oc(e)=="symbol"?e:e+""}function Hre(t,e){if(oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kre(t){return t.dataKey}function Gre(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(_re,e)}var Ci=(function(t){function e(){return Fre(this,e),qre(this,e,arguments)}return Vre(e,t),Bre(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,u=i.animationEasing,d=i.content,f=i.coordinate,p=i.filterNull,g=i.isAnimationActive,w=i.offset,x=i.payload,y=i.payloadUniqBy,b=i.position,E=i.reverseDirection,O=i.useTranslate3d,A=i.viewBox,P=i.wrapperStyle,T=x??[];p&&T.length&&(T=P4(x.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),y,Kre));var C=T.length>0;return W.createElement($re,{allowEscapeViewBox:a,animationDuration:o,animationEasing:u,isAnimationActive:g,active:s,coordinate:f,hasPayload:C,offset:w,position:b,reverseDirection:E,useTranslate3d:O,viewBox:A,wrapperStyle:P},Gre(d,RR(RR({},this.props),{},{payload:T})))}}])})(S.PureComponent);yO(Ci,"displayName","Tooltip");yO(Ci,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fg.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Px,MR;function Yre(){if(MR)return Px;MR=1;var t=Wi(),e=function(){return t.Date.now()};return Px=e,Px}var jx,DR;function Xre(){if(DR)return jx;DR=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return jx=e,jx}var Nx,$R;function Qre(){if($R)return Nx;$R=1;var t=Xre(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Nx=r,Nx}var Ix,LR;function B4(){if(LR)return Ix;LR=1;var t=Qre(),e=Ra(),r=Lc(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function u(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=e(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=t(d);var p=s.test(d);return p||a.test(d)?o(d.slice(2),p?2:8):i.test(d)?n:+d}return Ix=u,Ix}var Rx,FR;function Jre(){if(FR)return Rx;FR=1;var t=Ra(),e=Yre(),r=B4(),n="Expected a function",i=Math.max,s=Math.min;function a(o,u,d){var f,p,g,w,x,y,b=0,E=!1,O=!1,A=!0;if(typeof o!="function")throw new TypeError(n);u=r(u)||0,t(d)&&(E=!!d.leading,O="maxWait"in d,g=O?i(r(d.maxWait)||0,u):g,A="trailing"in d?!!d.trailing:A);function P(F){var K=f,G=p;return f=p=void 0,b=F,w=o.apply(G,K),w}function T(F){return b=F,x=setTimeout(N,u),E?P(F):w}function C(F){var K=F-y,G=F-b,V=u-K;return O?s(V,g-G):V}function j(F){var K=F-y,G=F-b;return y===void 0||K>=u||K<0||O&&G>=g}function N(){var F=e();if(j(F))return D(F);x=setTimeout(N,C(F))}function D(F){return x=void 0,A&&f?P(F):(f=p=void 0,w)}function M(){x!==void 0&&clearTimeout(x),b=0,f=y=p=x=void 0}function R(){return x===void 0?w:D(e())}function $(){var F=e(),K=j(F);if(f=arguments,p=this,y=F,K){if(x===void 0)return T(y);if(O)return clearTimeout(x),x=setTimeout(N,u),P(y)}return x===void 0&&(x=setTimeout(N,u)),w}return $.cancel=M,$.flush=R,$}return Rx=a,Rx}var Mx,UR;function Zre(){if(UR)return Mx;UR=1;var t=Jre(),e=Ra(),r="Expected a function";function n(i,s,a){var o=!0,u=!0;if(typeof i!="function")throw new TypeError(r);return e(a)&&(o="leading"in a?!!a.leading:o,u="trailing"in a?!!a.trailing:u),t(i,s,{leading:o,maxWait:s,trailing:u})}return Mx=n,Mx}var ene=Zre();const q4=_t(ene);function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ap(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){tne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tne(t,e,r){return e=rne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rne(t){var e=nne(t,"string");return Md(e)=="symbol"?e:e+""}function nne(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ine(t,e){return lne(t)||one(t,e)||ane(t,e)||sne()}function sne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ane(t,e){if(t){if(typeof t=="string")return qR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qR(t,e)}}function qR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function one(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],u=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function lne(t){if(Array.isArray(t))return t}var cne=S.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,a=s===void 0?"100%":s,o=t.height,u=o===void 0?"100%":o,d=t.minWidth,f=d===void 0?0:d,p=t.minHeight,g=t.maxHeight,w=t.children,x=t.debounce,y=x===void 0?0:x,b=t.id,E=t.className,O=t.onResize,A=t.style,P=A===void 0?{}:A,T=S.useRef(null),C=S.useRef();C.current=O,S.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var j=S.useState({containerWidth:i.width,containerHeight:i.height}),N=ine(j,2),D=N[0],M=N[1],R=S.useCallback(function(F,K){M(function(G){var V=Math.round(F),Q=Math.round(K);return G.containerWidth===V&&G.containerHeight===Q?G:{containerWidth:V,containerHeight:Q}})},[]);S.useEffect(function(){var F=function(J){var ie,U=J[0].contentRect,Y=U.width,he=U.height;R(Y,he),(ie=C.current)===null||ie===void 0||ie.call(C,Y,he)};y>0&&(F=q4(F,y,{trailing:!0,leading:!1}));var K=new ResizeObserver(F),G=T.current.getBoundingClientRect(),V=G.width,Q=G.height;return R(V,Q),K.observe(T.current),function(){K.disconnect()}},[R,y]);var $=S.useMemo(function(){var F=D.containerWidth,K=D.containerHeight;if(F<0||K<0)return null;ys(go(a)||go(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,u),ys(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=go(a)?F:a,V=go(u)?K:u;r&&r>0&&(G?V=G/r:V&&(G=V*r),g&&V>g&&(V=g)),ys(G>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,V,a,u,f,p,r);var Q=!Array.isArray(w)&&vs(w.type).endsWith("Chart");return W.Children.map(w,function(z){return W.isValidElement(z)?S.cloneElement(z,ap({width:G,height:V},Q?{style:ap({height:"100%",width:"100%",maxHeight:V,maxWidth:G},z.props.style)}:{})):z})},[r,w,u,g,p,f,D,a]);return W.createElement("div",{id:b?"".concat(b):void 0,className:dt("recharts-responsive-container",E),style:ap(ap({},P),{},{width:a,height:u,minWidth:f,minHeight:p,maxHeight:g}),ref:T},$)}),bO=function(e){return null};bO.displayName="Cell";function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function zR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(r),!0).forEach(function(n){une(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function une(t,e,r){return e=dne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dne(t){var e=fne(t,"string");return Dd(e)=="symbol"?e:e+""}function fne(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wl={widthCache:{},cacheCount:0},hne=2e3,pne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WR="recharts_measurement_span";function mne(t){var e=XS({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var VR=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Fg.isSsr)return{width:0,height:0};var n=mne(r),i=JSON.stringify({text:e,copyStyle:n});if(wl.widthCache[i])return wl.widthCache[i];try{var s=document.getElementById(WR);s||(s=document.createElement("span"),s.setAttribute("id",WR),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=XS(XS({},pne),n);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),u={width:o.width,height:o.height};return wl.widthCache[i]=u,++wl.cacheCount>hne&&(wl.cacheCount=0,wl.widthCache={}),u}catch{return{width:0,height:0}}},gne=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function ym(t,e){return wne(t)||bne(t,e)||yne(t,e)||vne()}function vne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yne(t,e){if(t){if(typeof t=="string")return HR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HR(t,e)}}function HR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],u=!0,d=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function wne(t){if(Array.isArray(t))return t}function xne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sne(n.key),n)}}function _ne(t,e,r){return e&&KR(t.prototype,e),r&&KR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sne(t){var e=Ene(t,"string");return $d(e)=="symbol"?e:e+""}function Ene(t,e){if($d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,One=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,z4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ane=Object.keys(z4),Ml="NaN";function Cne(t,e){return t*z4[e]}var op=(function(){function t(e,r){xne(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!One.test(r)&&(this.num=NaN,this.unit=""),Ane.includes(r)&&(this.num=Cne(e,r),this.unit="px")}return _ne(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Tne.exec(r))!==null&&n!==void 0?n:[],s=ym(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])})();function W4(t){if(t.includes(Ml))return Ml;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=GR.exec(e))!==null&&r!==void 0?r:[],i=ym(n,4),s=i[1],a=i[2],o=i[3],u=op.parse(s??""),d=op.parse(o??""),f=a==="*"?u.multiply(d):u.divide(d);if(f.isNaN())return Ml;e=e.replace(GR,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,g=(p=YR.exec(e))!==null&&p!==void 0?p:[],w=ym(g,4),x=w[1],y=w[2],b=w[3],E=op.parse(x??""),O=op.parse(b??""),A=y==="+"?E.add(O):E.subtract(O);if(A.isNaN())return Ml;e=e.replace(YR,A.toString())}return e}var XR=/\(([^()]*)\)/;function kne(t){for(var e=t;e.includes("(");){var r=XR.exec(e),n=ym(r,2),i=n[1];e=e.replace(XR,W4(i))}return e}function Pne(t){var e=t.replace(/\s+/g,"");return e=kne(e),e=W4(e),e}function jne(t){try{return Pne(t)}catch{return Ml}}function Dx(t){var e=jne(t.slice(5,-1));return e===Ml?"":e}var Nne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ine=["dx","dy","angle","className","breakAll"];function QS(){return QS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QS.apply(this,arguments)}function QR(t,e){if(t==null)return{};var r=Rne(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JR(t,e){return Lne(t)||$ne(t,e)||Dne(t,e)||Mne()}function Mne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dne(t,e){if(t){if(typeof t=="string")return ZR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZR(t,e)}}function ZR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $ne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],u=!0,d=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function Lne(t){if(Array.isArray(t))return t}var V4=/[ \f\n\r\t\v\u2028\u2029]+/,H4=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];ut(r)||(n?s=r.toString().split(""):s=r.toString().split(V4));var a=s.map(function(u){return{word:u,width:VR(u,i).width}}),o=n?0:VR("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Fne=function(e,r,n,i,s){var a=e.maxLines,o=e.children,u=e.style,d=e.breakAll,f=ke(a),p=o,g=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(V,Q){var z=Q.word,J=Q.width,ie=V[V.length-1];if(ie&&(i==null||s||ie.width+J+n<Number(i)))ie.words.push(z),ie.width+=J+n;else{var U={words:[z],width:J};V.push(U)}return V},[])},w=g(r),x=function(G){return G.reduce(function(V,Q){return V.width>Q.width?V:Q})};if(!f)return w;for(var y="",b=function(G){var V=p.slice(0,G),Q=H4({breakAll:d,style:u,children:V+y}).wordsWithComputedWidth,z=g(Q),J=z.length>a||x(z).width>Number(i);return[J,z]},E=0,O=p.length-1,A=0,P;E<=O&&A<=p.length-1;){var T=Math.floor((E+O)/2),C=T-1,j=b(C),N=JR(j,2),D=N[0],M=N[1],R=b(T),$=JR(R,1),F=$[0];if(!D&&!F&&(E=T+1),D&&F&&(O=T-1),!D&&F){P=M;break}A++}return P||w},eM=function(e){var r=ut(e)?[]:e.toString().split(V4);return[{words:r}]},Une=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((r||n)&&!Fg.isSsr){var u,d,f=H4({breakAll:a,children:i,style:s});if(f){var p=f.wordsWithComputedWidth,g=f.spaceWidth;u=p,d=g}else return eM(i);return Fne({breakAll:a,children:i,maxLines:o,style:s},u,d,r,n)}return eM(i)},tM="#808080",lc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,u=e.capHeight,d=u===void 0?"0.71em":u,f=e.scaleToFit,p=f===void 0?!1:f,g=e.textAnchor,w=g===void 0?"start":g,x=e.verticalAnchor,y=x===void 0?"end":x,b=e.fill,E=b===void 0?tM:b,O=QR(e,Nne),A=S.useMemo(function(){return Une({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:p,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,p,O.style,O.width]),P=O.dx,T=O.dy,C=O.angle,j=O.className,N=O.breakAll,D=QR(O,Ine);if(!yr(n)||!yr(s))return null;var M=n+(ke(P)?P:0),R=s+(ke(T)?T:0),$;switch(y){case"start":$=Dx("calc(".concat(d,")"));break;case"middle":$=Dx("calc(".concat((A.length-1)/2," * -").concat(o," + (").concat(d," / 2))"));break;default:$=Dx("calc(".concat(A.length-1," * -").concat(o,")"));break}var F=[];if(p){var K=A[0].width,G=O.width;F.push("scale(".concat((ke(G)?G/K:1)/K,")"))}return C&&F.push("rotate(".concat(C,", ").concat(M,", ").concat(R,")")),F.length&&(D.transform=F.join(" ")),W.createElement("text",QS({},et(D,!0),{x:M,y:R,className:dt("recharts-text",j),textAnchor:w,fill:E.includes("url")?tM:E}),A.map(function(V,Q){var z=V.words.join(N?"":" ");return W.createElement("tspan",{x:M,dy:Q===0?$:o,key:"".concat(z,"-").concat(Q)},z)}))};function _a(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wO(t){let e,r,n;t.length!==2?(e=_a,r=(o,u)=>_a(t(o),u),n=(o,u)=>t(o)-u):(e=t===_a||t===Bne?t:qne,r=t,n=t);function i(o,u,d=0,f=o.length){if(d<f){if(e(u,u)!==0)return f;do{const p=d+f>>>1;r(o[p],u)<0?d=p+1:f=p}while(d<f)}return d}function s(o,u,d=0,f=o.length){if(d<f){if(e(u,u)!==0)return f;do{const p=d+f>>>1;r(o[p],u)<=0?d=p+1:f=p}while(d<f)}return d}function a(o,u,d=0,f=o.length){const p=i(o,u,d,f-1);return p>d&&n(o[p-1],u)>-n(o[p],u)?p-1:p}return{left:i,center:a,right:s}}function qne(){return 0}function K4(t){return t===null?NaN:+t}function*zne(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Wne=wO(_a),If=Wne.right;wO(K4).center;class rM extends Map{constructor(e,r=Kne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(nM(this,e))}has(e){return super.has(nM(this,e))}set(e,r){return super.set(Vne(this,e),r)}delete(e){return super.delete(Hne(this,e))}}function nM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Vne({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Hne({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Kne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Gne(t=_a){if(t===_a)return G4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function G4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Yne=Math.sqrt(50),Xne=Math.sqrt(10),Qne=Math.sqrt(2);function bm(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Yne?10:s>=Xne?5:s>=Qne?2:1;let o,u,d;return i<0?(d=Math.pow(10,-i)/a,o=Math.round(t*d),u=Math.round(e*d),o/d<t&&++o,u/d>e&&--u,d=-d):(d=Math.pow(10,i)*a,o=Math.round(t/d),u=Math.round(e/d),o*d<t&&++o,u*d>e&&--u),u<o&&.5<=r&&r<2?bm(t,e,r*2):[o,u,d]}function JS(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?bm(e,t,r):bm(t,e,r);if(!(s>=i))return[];const o=s-i+1,u=new Array(o);if(n)if(a<0)for(let d=0;d<o;++d)u[d]=(s-d)/-a;else for(let d=0;d<o;++d)u[d]=(s-d)*a;else if(a<0)for(let d=0;d<o;++d)u[d]=(i+d)/-a;else for(let d=0;d<o;++d)u[d]=(i+d)*a;return u}function ZS(t,e,r){return e=+e,t=+t,r=+r,bm(t,e,r)[2]}function e1(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?ZS(e,t,r):ZS(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function iM(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function sM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Y4(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?G4:Gne(i);n>r;){if(n-r>600){const u=n-r+1,d=e-r+1,f=Math.log(u),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(u-p)/u)*(d-u/2<0?-1:1),w=Math.max(r,Math.floor(e-d*p/u+g)),x=Math.min(n,Math.floor(e+(u-d)*p/u+g));Y4(t,e,w,x,i)}const s=t[e];let a=r,o=n;for(ju(t,r,e),i(t[n],s)>0&&ju(t,r,n);a<o;){for(ju(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?ju(t,r,o):(++o,ju(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function ju(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Jne(t,e,r){if(t=Float64Array.from(zne(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return sM(t);if(e>=1)return iM(t);var n,i=(n-1)*e,s=Math.floor(i),a=iM(Y4(t,s).subarray(0,s+1)),o=sM(t.subarray(s+1));return a+(o-a)*(i-s)}}function Zne(t,e,r=K4){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function eie(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Hn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Is(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const t1=Symbol("implicit");function xO(){var t=new rM,e=[],r=[],n=t1;function i(s){let a=t.get(s);if(a===void 0){if(n!==t1)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new rM;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return xO(e,r).unknown(n)},Hn.apply(i,arguments),i}function Ld(){var t=xO().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,u=0,d=0,f=.5;delete t.unknown;function p(){var g=e().length,w=i<n,x=w?i:n,y=w?n:i;s=(y-x)/Math.max(1,g-u+d*2),o&&(s=Math.floor(s)),x+=(y-x-s*(g-u))*f,a=s*(1-u),o&&(x=Math.round(x),a=Math.round(a));var b=eie(g).map(function(E){return x+s*E});return r(w?b.reverse():b)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,o=!0,p()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(o=!!g,p()):o},t.padding=function(g){return arguments.length?(u=Math.min(1,d=+g),p()):u},t.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},t.paddingOuter=function(g){return arguments.length?(d=+g,p()):d},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},t.copy=function(){return Ld(e(),[n,i]).round(o).paddingInner(u).paddingOuter(d).align(f)},Hn.apply(p(),arguments)}function X4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return X4(e())},t}function fd(){return X4(Ld.apply(null,arguments).paddingInner(1))}function _O(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Q4(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Rf(){}var Fd=.7,wm=1/Fd,Gl="\\s*([+-]?\\d+)\\s*",Ud="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tie=/^#([0-9a-f]{3,8})$/,rie=new RegExp(`^rgb\\(${Gl},${Gl},${Gl}\\)$`),nie=new RegExp(`^rgb\\(${Di},${Di},${Di}\\)$`),iie=new RegExp(`^rgba\\(${Gl},${Gl},${Gl},${Ud}\\)$`),sie=new RegExp(`^rgba\\(${Di},${Di},${Di},${Ud}\\)$`),aie=new RegExp(`^hsl\\(${Ud},${Di},${Di}\\)$`),oie=new RegExp(`^hsla\\(${Ud},${Di},${Di},${Ud}\\)$`),aM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_O(Rf,Bd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:oM,formatHex:oM,formatHex8:lie,formatHsl:cie,formatRgb:lM,toString:lM});function oM(){return this.rgb().formatHex()}function lie(){return this.rgb().formatHex8()}function cie(){return J4(this).formatHsl()}function lM(){return this.rgb().formatRgb()}function Bd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=tie.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?cM(e):r===3?new un(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?lp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?lp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rie.exec(t))?new un(e[1],e[2],e[3],1):(e=nie.exec(t))?new un(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=iie.exec(t))?lp(e[1],e[2],e[3],e[4]):(e=sie.exec(t))?lp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aie.exec(t))?fM(e[1],e[2]/100,e[3]/100,1):(e=oie.exec(t))?fM(e[1],e[2]/100,e[3]/100,e[4]):aM.hasOwnProperty(t)?cM(aM[t]):t==="transparent"?new un(NaN,NaN,NaN,0):null}function cM(t){return new un(t>>16&255,t>>8&255,t&255,1)}function lp(t,e,r,n){return n<=0&&(t=e=r=NaN),new un(t,e,r,n)}function uie(t){return t instanceof Rf||(t=Bd(t)),t?(t=t.rgb(),new un(t.r,t.g,t.b,t.opacity)):new un}function r1(t,e,r,n){return arguments.length===1?uie(t):new un(t,e,r,n??1)}function un(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}_O(un,r1,Q4(Rf,{brighter(t){return t=t==null?wm:Math.pow(wm,t),new un(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fd:Math.pow(Fd,t),new un(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new un(_o(this.r),_o(this.g),_o(this.b),xm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uM,formatHex:uM,formatHex8:die,formatRgb:dM,toString:dM}));function uM(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}`}function die(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}${vo((isNaN(this.opacity)?1:this.opacity)*255)}`}function dM(){const t=xm(this.opacity);return`${t===1?"rgb(":"rgba("}${_o(this.r)}, ${_o(this.g)}, ${_o(this.b)}${t===1?")":`, ${t})`}`}function xm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _o(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vo(t){return t=_o(t),(t<16?"0":"")+t.toString(16)}function fM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new li(t,e,r,n)}function J4(t){if(t instanceof li)return new li(t.h,t.s,t.l,t.opacity);if(t instanceof Rf||(t=Bd(t)),!t)return new li;if(t instanceof li)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,u=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=u<.5?s+i:2-s-i,a*=60):o=u>0&&u<1?0:a,new li(a,o,u,t.opacity)}function fie(t,e,r,n){return arguments.length===1?J4(t):new li(t,e,r,n??1)}function li(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}_O(li,fie,Q4(Rf,{brighter(t){return t=t==null?wm:Math.pow(wm,t),new li(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fd:Math.pow(Fd,t),new li(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new un($x(t>=240?t-240:t+120,i,n),$x(t,i,n),$x(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new li(hM(this.h),cp(this.s),cp(this.l),xm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xm(this.opacity);return`${t===1?"hsl(":"hsla("}${hM(this.h)}, ${cp(this.s)*100}%, ${cp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hM(t){return t=(t||0)%360,t<0?t+360:t}function cp(t){return Math.max(0,Math.min(1,t||0))}function $x(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const SO=t=>()=>t;function hie(t,e){return function(r){return t+r*e}}function pie(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function mie(t){return(t=+t)==1?Z4:function(e,r){return r-e?pie(e,r,t):SO(isNaN(e)?r:e)}}function Z4(t,e){var r=e-t;return r?hie(t,r):SO(isNaN(t)?e:t)}const pM=(function t(e){var r=mie(e);function n(i,s){var a=r((i=r1(i)).r,(s=r1(s)).r),o=r(i.g,s.g),u=r(i.b,s.b),d=Z4(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=u(f),i.opacity=d(f),i+""}}return n.gamma=t,n})(1);function gie(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function vie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yie(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Bc(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function bie(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function _m(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function wie(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Bc(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var n1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lx=new RegExp(n1.source,"g");function xie(t){return function(){return t}}function _ie(t){return function(e){return t(e)+""}}function Sie(t,e){var r=n1.lastIndex=Lx.lastIndex=0,n,i,s,a=-1,o=[],u=[];for(t=t+"",e=e+"";(n=n1.exec(t))&&(i=Lx.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,u.push({i:a,x:_m(n,i)})),r=Lx.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?u[0]?_ie(u[0].x):xie(e):(e=u.length,function(d){for(var f=0,p;f<e;++f)o[(p=u[f]).i]=p.x(d);return o.join("")})}function Bc(t,e){var r=typeof e,n;return e==null||r==="boolean"?SO(e):(r==="number"?_m:r==="string"?(n=Bd(e))?(e=n,pM):Sie:e instanceof Bd?pM:e instanceof Date?bie:vie(e)?gie:Array.isArray(e)?yie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wie:_m)(t,e)}function EO(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Eie(t,e){e===void 0&&(e=t,t=Bc);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function Oie(t){return function(){return t}}function Sm(t){return+t}var mM=[0,1];function Gr(t){return t}function i1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Oie(isNaN(e)?NaN:.5)}function Tie(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Aie(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=i1(i,n),s=r(a,s)):(n=i1(n,i),s=r(s,a)),function(o){return s(n(o))}}function Cie(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=i1(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var u=If(t,o,1,n)-1;return s[u](i[u](o))}}function Mf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ug(){var t=mM,e=mM,r=Bc,n,i,s,a=Gr,o,u,d;function f(){var g=Math.min(t.length,e.length);return a!==Gr&&(a=Tie(t[0],t[g-1])),o=g>2?Cie:Aie,u=d=null,p}function p(g){return g==null||isNaN(g=+g)?s:(u||(u=o(t.map(n),e,r)))(n(a(g)))}return p.invert=function(g){return a(i((d||(d=o(e,t.map(n),_m)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Sm),f()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),r=EO,f()},p.clamp=function(g){return arguments.length?(a=g?!0:Gr,f()):a!==Gr},p.interpolate=function(g){return arguments.length?(r=g,f()):r},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,w){return n=g,i=w,f()}}function OO(){return Ug()(Gr,Gr)}function kie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Em(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function cc(t){return t=Em(Math.abs(t)),t?t[1]:NaN}function Pie(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),s.push(r.substring(i-=o,i+o)),!((u+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function jie(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Nie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qd(t){if(!(e=Nie.exec(t)))throw new Error("invalid format: "+t);var e;return new TO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qd.prototype=TO.prototype;function TO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Iie(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var e3;function Rie(t,e){var r=Em(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(e3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Em(t,Math.max(0,e+s-1))[0]}function gM(t,e){var r=Em(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const vM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gM(t*100,e),r:gM,s:Rie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yM(t){return t}var bM=Array.prototype.map,wM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mie(t){var e=t.grouping===void 0||t.thousands===void 0?yM:Pie(bM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?yM:jie(bM.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function d(p){p=qd(p);var g=p.fill,w=p.align,x=p.sign,y=p.symbol,b=p.zero,E=p.width,O=p.comma,A=p.precision,P=p.trim,T=p.type;T==="n"?(O=!0,T="g"):vM[T]||(A===void 0&&(A=12),P=!0,T="g"),(b||g==="0"&&w==="=")&&(b=!0,g="0",w="=");var C=y==="$"?r:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",j=y==="$"?n:/[%p]/.test(T)?a:"",N=vM[T],D=/[defgprs%]/.test(T);A=A===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function M(R){var $=C,F=j,K,G,V;if(T==="c")F=N(R)+F,R="";else{R=+R;var Q=R<0||1/R<0;if(R=isNaN(R)?u:N(Math.abs(R),A),P&&(R=Iie(R)),Q&&+R==0&&x!=="+"&&(Q=!1),$=(Q?x==="("?x:o:x==="-"||x==="("?"":x)+$,F=(T==="s"?wM[8+e3/3]:"")+F+(Q&&x==="("?")":""),D){for(K=-1,G=R.length;++K<G;)if(V=R.charCodeAt(K),48>V||V>57){F=(V===46?i+R.slice(K+1):R.slice(K))+F,R=R.slice(0,K);break}}}O&&!b&&(R=e(R,1/0));var z=$.length+R.length+F.length,J=z<E?new Array(E-z+1).join(g):"";switch(O&&b&&(R=e(J+R,J.length?E-F.length:1/0),J=""),w){case"<":R=$+R+F+J;break;case"=":R=$+J+R+F;break;case"^":R=J.slice(0,z=J.length>>1)+$+R+F+J.slice(z);break;default:R=J+$+R+F;break}return s(R)}return M.toString=function(){return p+""},M}function f(p,g){var w=d((p=qd(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(cc(g)/3)))*3,y=Math.pow(10,-x),b=wM[8+x/3];return function(E){return w(y*E)+b}}return{format:d,formatPrefix:f}}var up,AO,t3;Die({thousands:",",grouping:[3],currency:["$",""]});function Die(t){return up=Mie(t),AO=up.format,t3=up.formatPrefix,up}function $ie(t){return Math.max(0,-cc(Math.abs(t)))}function Lie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cc(e)/3)))*3-cc(Math.abs(t)))}function Fie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cc(e)-cc(t))+1}function r3(t,e,r,n){var i=e1(t,e,r),s;switch(n=qd(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Lie(i,a))&&(n.precision=s),t3(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Fie(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=$ie(i))&&(n.precision=s-(n.type==="%")*2);break}}return AO(n)}function Ma(t){var e=t.domain;return t.ticks=function(r){var n=e();return JS(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return r3(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],u,d,f=10;for(o<a&&(d=a,a=o,o=d,d=i,i=s,s=d);f-- >0;){if(d=ZS(a,o,r),d===u)return n[i]=a,n[s]=o,e(n);if(d>0)a=Math.floor(a/d)*d,o=Math.ceil(o/d)*d;else if(d<0)a=Math.ceil(a*d)/d,o=Math.floor(o*d)/d;else break;u=d}return t},t}function Om(){var t=OO();return t.copy=function(){return Mf(t,Om())},Hn.apply(t,arguments),Ma(t)}function n3(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Sm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return n3(t).unknown(e)},t=arguments.length?Array.from(t,Sm):[0,1],Ma(r)}function i3(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function xM(t){return Math.log(t)}function _M(t){return Math.exp(t)}function Uie(t){return-Math.log(-t)}function Bie(t){return-Math.exp(-t)}function qie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zie(t){return t===10?qie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Wie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function SM(t){return(e,r)=>-t(-e,r)}function CO(t){const e=t(xM,_M),r=e.domain;let n=10,i,s;function a(){return i=Wie(n),s=zie(n),r()[0]<0?(i=SM(i),s=SM(s),t(Uie,Bie)):t(xM,_M),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const u=r();let d=u[0],f=u[u.length-1];const p=f<d;p&&([d,f]=[f,d]);let g=i(d),w=i(f),x,y;const b=o==null?10:+o;let E=[];if(!(n%1)&&w-g<b){if(g=Math.floor(g),w=Math.ceil(w),d>0){for(;g<=w;++g)for(x=1;x<n;++x)if(y=g<0?x/s(-g):x*s(g),!(y<d)){if(y>f)break;E.push(y)}}else for(;g<=w;++g)for(x=n-1;x>=1;--x)if(y=g>0?x/s(-g):x*s(g),!(y<d)){if(y>f)break;E.push(y)}E.length*2<b&&(E=JS(d,f,b))}else E=JS(g,w,Math.min(w-g,b)).map(s);return p?E.reverse():E},e.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=qd(u)).precision==null&&(u.trim=!0),u=AO(u)),o===1/0)return u;const d=Math.max(1,n*o/e.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=d?u(f):""}},e.nice=()=>r(i3(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function s3(){const t=CO(Ug()).domain([1,10]);return t.copy=()=>Mf(t,s3()).base(t.base()),Hn.apply(t,arguments),t}function EM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function OM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kO(t){var e=1,r=t(EM(e),OM(e));return r.constant=function(n){return arguments.length?t(EM(e=+n),OM(e)):e},Ma(r)}function a3(){var t=kO(Ug());return t.copy=function(){return Mf(t,a3()).constant(t.constant())},Hn.apply(t,arguments)}function TM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Hie(t){return t<0?-t*t:t*t}function PO(t){var e=t(Gr,Gr),r=1;function n(){return r===1?t(Gr,Gr):r===.5?t(Vie,Hie):t(TM(r),TM(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ma(e)}function jO(){var t=PO(Ug());return t.copy=function(){return Mf(t,jO()).exponent(t.exponent())},Hn.apply(t,arguments),t}function Kie(){return jO.apply(null,arguments).exponent(.5)}function AM(t){return Math.sign(t)*t*t}function Gie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function o3(){var t=OO(),e=[0,1],r=!1,n;function i(s){var a=Gie(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(AM(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Sm)).map(AM)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return o3(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Hn.apply(i,arguments),Ma(i)}function l3(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=Zne(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[If(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(_a),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return l3().domain(t).range(e).unknown(n)},Hn.apply(s,arguments)}function c3(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[If(n,u,0,r)]:s}function o(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,o()):[t,e]},a.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,o()):i.slice()},a.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return n.slice()},a.copy=function(){return c3().domain([t,e]).range(i).unknown(s)},Hn.apply(Ma(a),arguments)}function u3(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[If(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return u3().domain(t).range(e).unknown(r)},Hn.apply(i,arguments)}const Fx=new Date,Ux=new Date;function wr(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const u=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return u;let d;do u.push(d=new Date(+s)),e(s,o),t(s);while(d<s&&s<a);return u},i.filter=s=>wr(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(Fx.setTime(+s),Ux.setTime(+a),t(Fx),t(Ux),Math.floor(r(Fx,Ux))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Tm=wr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Tm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Tm);Tm.range;const ms=1e3,Wn=ms*60,gs=Wn*60,Ss=gs*24,NO=Ss*7,CM=Ss*30,Bx=Ss*365,yo=wr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getUTCSeconds());yo.range;const IO=wr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ms)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getMinutes());IO.range;const RO=wr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getUTCMinutes());RO.range;const MO=wr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ms-t.getMinutes()*Wn)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getHours());MO.range;const DO=wr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getUTCHours());DO.range;const Df=wr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wn)/Ss,t=>t.getDate()-1);Df.range;const Bg=wr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ss,t=>t.getUTCDate()-1);Bg.range;const d3=wr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ss,t=>Math.floor(t/Ss));d3.range;function $o(t){return wr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Wn)/NO)}const qg=$o(0),Am=$o(1),Yie=$o(2),Xie=$o(3),uc=$o(4),Qie=$o(5),Jie=$o(6);qg.range;Am.range;Yie.range;Xie.range;uc.range;Qie.range;Jie.range;function Lo(t){return wr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/NO)}const zg=Lo(0),Cm=Lo(1),Zie=Lo(2),ese=Lo(3),dc=Lo(4),tse=Lo(5),rse=Lo(6);zg.range;Cm.range;Zie.range;ese.range;dc.range;tse.range;rse.range;const $O=wr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$O.range;const LO=wr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LO.range;const Es=wr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Es.range;const Os=wr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Os.range;function f3(t,e,r,n,i,s){const a=[[yo,1,ms],[yo,5,5*ms],[yo,15,15*ms],[yo,30,30*ms],[s,1,Wn],[s,5,5*Wn],[s,15,15*Wn],[s,30,30*Wn],[i,1,gs],[i,3,3*gs],[i,6,6*gs],[i,12,12*gs],[n,1,Ss],[n,2,2*Ss],[r,1,NO],[e,1,CM],[e,3,3*CM],[t,1,Bx]];function o(d,f,p){const g=f<d;g&&([d,f]=[f,d]);const w=p&&typeof p.range=="function"?p:u(d,f,p),x=w?w.range(d,+f+1):[];return g?x.reverse():x}function u(d,f,p){const g=Math.abs(f-d)/p,w=wO(([,,b])=>b).right(a,g);if(w===a.length)return t.every(e1(d/Bx,f/Bx,p));if(w===0)return Tm.every(Math.max(e1(d,f,p),1));const[x,y]=a[g/a[w-1][2]<a[w][2]/g?w-1:w];return x.every(y)}return[o,u]}const[nse,ise]=f3(Os,LO,zg,d3,DO,RO),[sse,ase]=f3(Es,$O,qg,Df,MO,IO);function qx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Nu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function ose(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,u=t.shortMonths,d=Iu(i),f=Ru(i),p=Iu(s),g=Ru(s),w=Iu(a),x=Ru(a),y=Iu(o),b=Ru(o),E=Iu(u),O=Ru(u),A={a:Q,A:z,b:J,B:ie,c:null,d:RM,e:RM,f:Pse,g:Use,G:qse,H:Ase,I:Cse,j:kse,L:h3,m:jse,M:Nse,p:U,q:Y,Q:$M,s:LM,S:Ise,u:Rse,U:Mse,V:Dse,w:$se,W:Lse,x:null,X:null,y:Fse,Y:Bse,Z:zse,"%":DM},P={a:he,A:we,b:Se,B:de,c:null,d:MM,e:MM,f:Kse,g:nae,G:sae,H:Wse,I:Vse,j:Hse,L:m3,m:Gse,M:Yse,p:le,q:ce,Q:$M,s:LM,S:Xse,u:Qse,U:Jse,V:Zse,w:eae,W:tae,x:null,X:null,y:rae,Y:iae,Z:aae,"%":DM},T={a:M,A:R,b:$,B:F,c:K,d:NM,e:NM,f:Sse,g:jM,G:PM,H:IM,I:IM,j:bse,L:_se,m:yse,M:wse,p:D,q:vse,Q:Ose,s:Tse,S:xse,u:fse,U:hse,V:pse,w:dse,W:mse,x:G,X:V,y:jM,Y:PM,Z:gse,"%":Ese};A.x=C(r,A),A.X=C(n,A),A.c=C(e,A),P.x=C(r,P),P.X=C(n,P),P.c=C(e,P);function C(ee,ae){return function(ge){var ne=[],Fe=-1,Te=0,Je=ee.length,Ge,mt,Ht;for(ge instanceof Date||(ge=new Date(+ge));++Fe<Je;)ee.charCodeAt(Fe)===37&&(ne.push(ee.slice(Te,Fe)),(mt=kM[Ge=ee.charAt(++Fe)])!=null?Ge=ee.charAt(++Fe):mt=Ge==="e"?" ":"0",(Ht=ae[Ge])&&(Ge=Ht(ge,mt)),ne.push(Ge),Te=Fe+1);return ne.push(ee.slice(Te,Fe)),ne.join("")}}function j(ee,ae){return function(ge){var ne=Nu(1900,void 0,1),Fe=N(ne,ee,ge+="",0),Te,Je;if(Fe!=ge.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(ae&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Te=zx(Nu(ne.y,0,1)),Je=Te.getUTCDay(),Te=Je>4||Je===0?Cm.ceil(Te):Cm(Te),Te=Bg.offset(Te,(ne.V-1)*7),ne.y=Te.getUTCFullYear(),ne.m=Te.getUTCMonth(),ne.d=Te.getUTCDate()+(ne.w+6)%7):(Te=qx(Nu(ne.y,0,1)),Je=Te.getDay(),Te=Je>4||Je===0?Am.ceil(Te):Am(Te),Te=Df.offset(Te,(ne.V-1)*7),ne.y=Te.getFullYear(),ne.m=Te.getMonth(),ne.d=Te.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Je="Z"in ne?zx(Nu(ne.y,0,1)).getUTCDay():qx(Nu(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Je+5)%7:ne.w+ne.U*7-(Je+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,zx(ne)):qx(ne)}}function N(ee,ae,ge,ne){for(var Fe=0,Te=ae.length,Je=ge.length,Ge,mt;Fe<Te;){if(ne>=Je)return-1;if(Ge=ae.charCodeAt(Fe++),Ge===37){if(Ge=ae.charAt(Fe++),mt=T[Ge in kM?ae.charAt(Fe++):Ge],!mt||(ne=mt(ee,ge,ne))<0)return-1}else if(Ge!=ge.charCodeAt(ne++))return-1}return ne}function D(ee,ae,ge){var ne=d.exec(ae.slice(ge));return ne?(ee.p=f.get(ne[0].toLowerCase()),ge+ne[0].length):-1}function M(ee,ae,ge){var ne=w.exec(ae.slice(ge));return ne?(ee.w=x.get(ne[0].toLowerCase()),ge+ne[0].length):-1}function R(ee,ae,ge){var ne=p.exec(ae.slice(ge));return ne?(ee.w=g.get(ne[0].toLowerCase()),ge+ne[0].length):-1}function $(ee,ae,ge){var ne=E.exec(ae.slice(ge));return ne?(ee.m=O.get(ne[0].toLowerCase()),ge+ne[0].length):-1}function F(ee,ae,ge){var ne=y.exec(ae.slice(ge));return ne?(ee.m=b.get(ne[0].toLowerCase()),ge+ne[0].length):-1}function K(ee,ae,ge){return N(ee,e,ae,ge)}function G(ee,ae,ge){return N(ee,r,ae,ge)}function V(ee,ae,ge){return N(ee,n,ae,ge)}function Q(ee){return a[ee.getDay()]}function z(ee){return s[ee.getDay()]}function J(ee){return u[ee.getMonth()]}function ie(ee){return o[ee.getMonth()]}function U(ee){return i[+(ee.getHours()>=12)]}function Y(ee){return 1+~~(ee.getMonth()/3)}function he(ee){return a[ee.getUTCDay()]}function we(ee){return s[ee.getUTCDay()]}function Se(ee){return u[ee.getUTCMonth()]}function de(ee){return o[ee.getUTCMonth()]}function le(ee){return i[+(ee.getUTCHours()>=12)]}function ce(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ae=C(ee+="",A);return ae.toString=function(){return ee},ae},parse:function(ee){var ae=j(ee+="",!1);return ae.toString=function(){return ee},ae},utcFormat:function(ee){var ae=C(ee+="",P);return ae.toString=function(){return ee},ae},utcParse:function(ee){var ae=j(ee+="",!0);return ae.toString=function(){return ee},ae}}}var kM={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,lse=/^%/,cse=/[\\^$*+?|[\]().{}]/g;function yt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function use(t){return t.replace(cse,"\\$&")}function Iu(t){return new RegExp("^(?:"+t.map(use).join("|")+")","i")}function Ru(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function dse(t,e,r){var n=kr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function fse(t,e,r){var n=kr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function hse(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function pse(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function mse(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function PM(t,e,r){var n=kr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function jM(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gse(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function vse(t,e,r){var n=kr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function yse(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function NM(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function bse(t,e,r){var n=kr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function IM(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function wse(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function xse(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function _se(t,e,r){var n=kr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Sse(t,e,r){var n=kr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ese(t,e,r){var n=lse.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Ose(t,e,r){var n=kr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Tse(t,e,r){var n=kr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function RM(t,e){return yt(t.getDate(),e,2)}function Ase(t,e){return yt(t.getHours(),e,2)}function Cse(t,e){return yt(t.getHours()%12||12,e,2)}function kse(t,e){return yt(1+Df.count(Es(t),t),e,3)}function h3(t,e){return yt(t.getMilliseconds(),e,3)}function Pse(t,e){return h3(t,e)+"000"}function jse(t,e){return yt(t.getMonth()+1,e,2)}function Nse(t,e){return yt(t.getMinutes(),e,2)}function Ise(t,e){return yt(t.getSeconds(),e,2)}function Rse(t){var e=t.getDay();return e===0?7:e}function Mse(t,e){return yt(qg.count(Es(t)-1,t),e,2)}function p3(t){var e=t.getDay();return e>=4||e===0?uc(t):uc.ceil(t)}function Dse(t,e){return t=p3(t),yt(uc.count(Es(t),t)+(Es(t).getDay()===4),e,2)}function $se(t){return t.getDay()}function Lse(t,e){return yt(Am.count(Es(t)-1,t),e,2)}function Fse(t,e){return yt(t.getFullYear()%100,e,2)}function Use(t,e){return t=p3(t),yt(t.getFullYear()%100,e,2)}function Bse(t,e){return yt(t.getFullYear()%1e4,e,4)}function qse(t,e){var r=t.getDay();return t=r>=4||r===0?uc(t):uc.ceil(t),yt(t.getFullYear()%1e4,e,4)}function zse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function MM(t,e){return yt(t.getUTCDate(),e,2)}function Wse(t,e){return yt(t.getUTCHours(),e,2)}function Vse(t,e){return yt(t.getUTCHours()%12||12,e,2)}function Hse(t,e){return yt(1+Bg.count(Os(t),t),e,3)}function m3(t,e){return yt(t.getUTCMilliseconds(),e,3)}function Kse(t,e){return m3(t,e)+"000"}function Gse(t,e){return yt(t.getUTCMonth()+1,e,2)}function Yse(t,e){return yt(t.getUTCMinutes(),e,2)}function Xse(t,e){return yt(t.getUTCSeconds(),e,2)}function Qse(t){var e=t.getUTCDay();return e===0?7:e}function Jse(t,e){return yt(zg.count(Os(t)-1,t),e,2)}function g3(t){var e=t.getUTCDay();return e>=4||e===0?dc(t):dc.ceil(t)}function Zse(t,e){return t=g3(t),yt(dc.count(Os(t),t)+(Os(t).getUTCDay()===4),e,2)}function eae(t){return t.getUTCDay()}function tae(t,e){return yt(Cm.count(Os(t)-1,t),e,2)}function rae(t,e){return yt(t.getUTCFullYear()%100,e,2)}function nae(t,e){return t=g3(t),yt(t.getUTCFullYear()%100,e,2)}function iae(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function sae(t,e){var r=t.getUTCDay();return t=r>=4||r===0?dc(t):dc.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function aae(){return"+0000"}function DM(){return"%"}function $M(t){return+t}function LM(t){return Math.floor(+t/1e3)}var xl,v3,y3;oae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oae(t){return xl=ose(t),v3=xl.format,xl.parse,y3=xl.utcFormat,xl.utcParse,xl}function lae(t){return new Date(t)}function cae(t){return t instanceof Date?+t:+new Date(+t)}function FO(t,e,r,n,i,s,a,o,u,d){var f=OO(),p=f.invert,g=f.domain,w=d(".%L"),x=d(":%S"),y=d("%I:%M"),b=d("%I %p"),E=d("%a %d"),O=d("%b %d"),A=d("%B"),P=d("%Y");function T(C){return(u(C)<C?w:o(C)<C?x:a(C)<C?y:s(C)<C?b:n(C)<C?i(C)<C?E:O:r(C)<C?A:P)(C)}return f.invert=function(C){return new Date(p(C))},f.domain=function(C){return arguments.length?g(Array.from(C,cae)):g().map(lae)},f.ticks=function(C){var j=g();return t(j[0],j[j.length-1],C??10)},f.tickFormat=function(C,j){return j==null?T:d(j)},f.nice=function(C){var j=g();return(!C||typeof C.range!="function")&&(C=e(j[0],j[j.length-1],C??10)),C?g(i3(j,C)):f},f.copy=function(){return Mf(f,FO(t,e,r,n,i,s,a,o,u,d))},f}function uae(){return Hn.apply(FO(sse,ase,Es,$O,qg,Df,MO,IO,yo,v3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dae(){return Hn.apply(FO(nse,ise,Os,LO,zg,Bg,DO,RO,yo,y3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wg(){var t=0,e=1,r,n,i,s,a=Gr,o=!1,u;function d(p){return p==null||isNaN(p=+p)?u:a(i===0?.5:(p=(s(p)-r)*i,o?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(p){return arguments.length?(o=!!p,d):o},d.interpolator=function(p){return arguments.length?(a=p,d):a};function f(p){return function(g){var w,x;return arguments.length?([w,x]=g,a=p(w,x),d):[a(0),a(1)]}}return d.range=f(Bc),d.rangeRound=f(EO),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return s=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),d}}function Da(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function b3(){var t=Ma(Wg()(Gr));return t.copy=function(){return Da(t,b3())},Is.apply(t,arguments)}function w3(){var t=CO(Wg()).domain([1,10]);return t.copy=function(){return Da(t,w3()).base(t.base())},Is.apply(t,arguments)}function x3(){var t=kO(Wg());return t.copy=function(){return Da(t,x3()).constant(t.constant())},Is.apply(t,arguments)}function UO(){var t=PO(Wg());return t.copy=function(){return Da(t,UO()).exponent(t.exponent())},Is.apply(t,arguments)}function fae(){return UO.apply(null,arguments).exponent(.5)}function _3(){var t=[],e=Gr;function r(n){if(n!=null&&!isNaN(n=+n))return e((If(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(_a),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Jne(t,s/n))},r.copy=function(){return _3(e).domain(t)},Is.apply(r,arguments)}function Vg(){var t=0,e=.5,r=1,n=1,i,s,a,o,u,d=Gr,f,p=!1,g;function w(y){return isNaN(y=+y)?g:(y=.5+((y=+f(y))-s)*(n*y<n*s?o:u),d(p?Math.max(0,Math.min(1,y)):y))}w.domain=function(y){return arguments.length?([t,e,r]=y,i=f(t=+t),s=f(e=+e),a=f(r=+r),o=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,w):[t,e,r]},w.clamp=function(y){return arguments.length?(p=!!y,w):p},w.interpolator=function(y){return arguments.length?(d=y,w):d};function x(y){return function(b){var E,O,A;return arguments.length?([E,O,A]=b,d=Eie(y,[E,O,A]),w):[d(0),d(.5),d(1)]}}return w.range=x(Bc),w.rangeRound=x(EO),w.unknown=function(y){return arguments.length?(g=y,w):g},function(y){return f=y,i=y(t),s=y(e),a=y(r),o=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,w}}function S3(){var t=Ma(Vg()(Gr));return t.copy=function(){return Da(t,S3())},Is.apply(t,arguments)}function E3(){var t=CO(Vg()).domain([.1,1,10]);return t.copy=function(){return Da(t,E3()).base(t.base())},Is.apply(t,arguments)}function O3(){var t=kO(Vg());return t.copy=function(){return Da(t,O3()).constant(t.constant())},Is.apply(t,arguments)}function BO(){var t=PO(Vg());return t.copy=function(){return Da(t,BO()).exponent(t.exponent())},Is.apply(t,arguments)}function hae(){return BO.apply(null,arguments).exponent(.5)}const FM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ld,scaleDiverging:S3,scaleDivergingLog:E3,scaleDivergingPow:BO,scaleDivergingSqrt:hae,scaleDivergingSymlog:O3,scaleIdentity:n3,scaleImplicit:t1,scaleLinear:Om,scaleLog:s3,scaleOrdinal:xO,scalePoint:fd,scalePow:jO,scaleQuantile:l3,scaleQuantize:c3,scaleRadial:o3,scaleSequential:b3,scaleSequentialLog:w3,scaleSequentialPow:UO,scaleSequentialQuantile:_3,scaleSequentialSqrt:fae,scaleSequentialSymlog:x3,scaleSqrt:Kie,scaleSymlog:a3,scaleThreshold:u3,scaleTime:uae,scaleUtc:dae,tickFormat:r3},Symbol.toStringTag,{value:"Module"}));var Wx,UM;function Hg(){if(UM)return Wx;UM=1;var t=Lc();function e(r,n,i){for(var s=-1,a=r.length;++s<a;){var o=r[s],u=n(o);if(u!=null&&(d===void 0?u===u&&!t(u):i(u,d)))var d=u,f=o}return f}return Wx=e,Wx}var Vx,BM;function T3(){if(BM)return Vx;BM=1;function t(e,r){return e>r}return Vx=t,Vx}var Hx,qM;function pae(){if(qM)return Hx;qM=1;var t=Hg(),e=T3(),r=Uc();function n(i){return i&&i.length?t(i,r,e):void 0}return Hx=n,Hx}var mae=pae();const Kg=_t(mae);var Kx,zM;function A3(){if(zM)return Kx;zM=1;function t(e,r){return e<r}return Kx=t,Kx}var Gx,WM;function gae(){if(WM)return Gx;WM=1;var t=Hg(),e=A3(),r=Uc();function n(i){return i&&i.length?t(i,r,e):void 0}return Gx=n,Gx}var vae=gae();const Gg=_t(vae);var Yx,VM;function yae(){if(VM)return Yx;VM=1;var t=rO(),e=Vi(),r=M4(),n=dn();function i(s,a){var o=n(s)?t:r;return o(s,e(a,3))}return Yx=i,Yx}var Xx,HM;function bae(){if(HM)return Xx;HM=1;var t=I4(),e=yae();function r(n,i){return t(e(n,i),1)}return Xx=r,Xx}var wae=bae();const xae=_t(wae);var Qx,KM;function _ae(){if(KM)return Qx;KM=1;var t=mO();function e(r,n){return t(r,n)}return Qx=e,Qx}var Sae=_ae();const qO=_t(Sae);var qc=1e9,Eae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},WO,Vt=!0,Vn="[DecimalError] ",So=Vn+"Invalid argument: ",zO=Vn+"Exponent out of range: ",zc=Math.floor,lo=Math.pow,Oae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_n,Ar=1e7,Bt=7,C3=9007199254740991,km=zc(C3/Bt),je={};je.absoluteValue=je.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};je.comparedTo=je.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};je.decimalPlaces=je.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Bt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};je.dividedBy=je.div=function(t){return bs(this,new this.constructor(t))};je.dividedToIntegerBy=je.idiv=function(t){var e=this,r=e.constructor;return Pt(bs(e,new r(t),0,1),r.precision)};je.equals=je.eq=function(t){return!this.cmp(t)};je.exponent=function(){return cr(this)};je.greaterThan=je.gt=function(t){return this.cmp(t)>0};je.greaterThanOrEqualTo=je.gte=function(t){return this.cmp(t)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(t){return this.cmp(t)<0};je.lessThanOrEqualTo=je.lte=function(t){return this.cmp(t)<1};je.logarithm=je.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(_n))throw Error(Vn+"NaN");if(r.s<1)throw Error(Vn+(r.s?"NaN":"-Infinity"));return r.eq(_n)?new n(0):(Vt=!1,e=bs(zd(r,s),zd(t,s),s),Vt=!0,Pt(e,i))};je.minus=je.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?j3(e,t):k3(e,(t.s=-t.s,t))};je.modulo=je.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Vn+"NaN");return r.s?(Vt=!1,e=bs(r,t,0,1).times(t),Vt=!0,r.minus(e)):Pt(new n(r),i)};je.naturalExponential=je.exp=function(){return P3(this)};je.naturalLogarithm=je.ln=function(){return zd(this)};je.negated=je.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};je.plus=je.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?k3(e,t):j3(e,(t.s=-t.s,t))};je.precision=je.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(So+t);if(e=cr(i)+1,n=i.d.length-1,r=n*Bt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};je.squareRoot=je.sqrt=function(){var t,e,r,n,i,s,a,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Vn+"NaN")}for(t=cr(o),Vt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=ji(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=a=r+3;;)if(s=n,n=s.plus(bs(o,s,a+2)).times(.5),ji(s.d).slice(0,a)===(e=ji(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Pt(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return Vt=!0,Pt(n,r)};je.times=je.mul=function(t){var e,r,n,i,s,a,o,u,d,f=this,p=f.constructor,g=f.d,w=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,r=f.e+t.e,u=g.length,d=w.length,u<d&&(s=g,g=w,w=s,a=u,u=d,d=a),s=[],a=u+d,n=a;n--;)s.push(0);for(n=d;--n>=0;){for(e=0,i=u+n;i>n;)o=s[i]+w[n]*g[i-n-1]+e,s[i--]=o%Ar|0,e=o/Ar|0;s[i]=(s[i]+e)%Ar|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Vt?Pt(t,p.precision):t};je.toDecimalPlaces=je.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ui(t,0,qc),e===void 0?e=n.rounding:Ui(e,0,8),Pt(r,t+cr(r)+1,e))};je.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Co(n,!0):(Ui(t,0,qc),e===void 0?e=i.rounding:Ui(e,0,8),n=Pt(new i(n),t+1,e),r=Co(n,!0,t+1)),r};je.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Co(i):(Ui(t,0,qc),e===void 0?e=s.rounding:Ui(e,0,8),n=Pt(new s(i),t+cr(i)+1,e),r=Co(n.abs(),!1,t+cr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};je.toInteger=je.toint=function(){var t=this,e=t.constructor;return Pt(new e(t),cr(t)+1,e.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(t){var e,r,n,i,s,a,o=this,u=o.constructor,d=12,f=+(t=new u(t));if(!t.s)return new u(_n);if(o=new u(o),!o.s){if(t.s<1)throw Error(Vn+"Infinity");return o}if(o.eq(_n))return o;if(n=u.precision,t.eq(_n))return Pt(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=f<0?-f:f)<=C3){for(i=new u(_n),e=Math.ceil(n/Bt+4),Vt=!1;r%2&&(i=i.times(o),YM(i.d,e)),r=zc(r/2),r!==0;)o=o.times(o),YM(o.d,e);return Vt=!0,t.s<0?new u(_n).div(i):Pt(i,n)}}else if(s<0)throw Error(Vn+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Vt=!1,i=t.times(zd(o,n+d)),Vt=!0,i=P3(i),i.s=s,i};je.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=cr(i),n=Co(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ui(t,1,qc),e===void 0?e=s.rounding:Ui(e,0,8),i=Pt(new s(i),t,e),r=cr(i),n=Co(i,t<=r||r<=s.toExpNeg,t)),n};je.toSignificantDigits=je.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ui(t,1,qc),e===void 0?e=n.rounding:Ui(e,0,8)),Pt(new n(r),t,e)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cr(t),r=t.constructor;return Co(t,e<=r.toExpNeg||e>=r.toExpPos)};function k3(t,e){var r,n,i,s,a,o,u,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Vt?Pt(e,p):e;if(u=t.d,d=e.d,a=t.e,i=e.e,u=u.slice(),s=a-i,s){for(s<0?(n=u,s=-s,o=d.length):(n=d,i=a,o=u.length),a=Math.ceil(p/Bt),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=u.length,s=d.length,o-s<0&&(s=o,n=d,d=u,u=n),r=0;s;)r=(u[--s]=u[s]+d[s]+r)/Ar|0,u[s]%=Ar;for(r&&(u.unshift(r),++i),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=i,Vt?Pt(e,p):e}function Ui(t,e,r){if(t!==~~t||t<e||t>r)throw Error(So+t)}function ji(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=Bt-n.length,r&&(s+=la(r)),s+=n;a=t[e],n=a+"",r=Bt-n.length,r&&(s+=la(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var bs=(function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%Ar|0,a=s/Ar|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,u;if(s!=a)u=s>a?1:-1;else for(o=u=0;o<s;o++)if(n[o]!=i[o]){u=n[o]>i[o]?1:-1;break}return u}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Ar+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,u,d,f,p,g,w,x,y,b,E,O,A,P,T,C,j,N,D=n.constructor,M=n.s==i.s?1:-1,R=n.d,$=i.d;if(!n.s)return new D(n);if(!i.s)throw Error(Vn+"Division by zero");for(u=n.e-i.e,j=$.length,T=R.length,w=new D(M),x=w.d=[],d=0;$[d]==(R[d]||0);)++d;if($[d]>(R[d]||0)&&--u,s==null?O=s=D.precision:a?O=s+(cr(n)-cr(i))+1:O=s,O<0)return new D(0);if(O=O/Bt+2|0,d=0,j==1)for(f=0,$=$[0],O++;(d<T||f)&&O--;d++)A=f*Ar+(R[d]||0),x[d]=A/$|0,f=A%$|0;else{for(f=Ar/($[0]+1)|0,f>1&&($=t($,f),R=t(R,f),j=$.length,T=R.length),P=j,y=R.slice(0,j),b=y.length;b<j;)y[b++]=0;N=$.slice(),N.unshift(0),C=$[0],$[1]>=Ar/2&&++C;do f=0,o=e($,y,j,b),o<0?(E=y[0],j!=b&&(E=E*Ar+(y[1]||0)),f=E/C|0,f>1?(f>=Ar&&(f=Ar-1),p=t($,f),g=p.length,b=y.length,o=e(p,y,g,b),o==1&&(f--,r(p,j<g?N:$,g))):(f==0&&(o=f=1),p=$.slice()),g=p.length,g<b&&p.unshift(0),r(y,p,b),o==-1&&(b=y.length,o=e($,y,j,b),o<1&&(f++,r(y,j<b?N:$,b))),b=y.length):o===0&&(f++,y=[0]),x[d++]=f,o&&y[0]?y[b++]=R[P]||0:(y=[R[P]],b=1);while((P++<T||y[0]!==void 0)&&O--)}return x[0]||x.shift(),w.e=u,Pt(w,a?s+cr(w)+1:s)}})();function P3(t,e){var r,n,i,s,a,o,u=0,d=0,f=t.constructor,p=f.precision;if(cr(t)>16)throw Error(zO+cr(t));if(!t.s)return new f(_n);for(Vt=!1,o=p,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(n=Math.log(lo(2,d))/Math.LN10*2+5|0,o+=n,r=i=s=new f(_n),f.precision=o;;){if(i=Pt(i.times(t),o),r=r.times(++u),a=s.plus(bs(i,r,o)),ji(a.d).slice(0,o)===ji(s.d).slice(0,o)){for(;d--;)s=Pt(s.times(s),o);return f.precision=p,e==null?(Vt=!0,Pt(s,p)):s}s=a}}function cr(t){for(var e=t.e*Bt,r=t.d[0];r>=10;r/=10)e++;return e}function Jx(t,e,r){if(e>t.LN10.sd())throw Vt=!0,r&&(t.precision=r),Error(Vn+"LN10 precision limit exceeded");return Pt(new t(t.LN10),e)}function la(t){for(var e="";t--;)e+="0";return e}function zd(t,e){var r,n,i,s,a,o,u,d,f,p=1,g=10,w=t,x=w.d,y=w.constructor,b=y.precision;if(w.s<1)throw Error(Vn+(w.s?"NaN":"-Infinity"));if(w.eq(_n))return new y(0);if(e==null?(Vt=!1,d=b):d=e,w.eq(10))return e==null&&(Vt=!0),Jx(y,d);if(d+=g,y.precision=d,r=ji(x),n=r.charAt(0),s=cr(w),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)w=w.times(t),r=ji(w.d),n=r.charAt(0),p++;s=cr(w),n>1?(w=new y("0."+r),s++):w=new y(n+"."+r.slice(1))}else return u=Jx(y,d+2,b).times(s+""),w=zd(new y(n+"."+r.slice(1)),d-g).plus(u),y.precision=b,e==null?(Vt=!0,Pt(w,b)):w;for(o=a=w=bs(w.minus(_n),w.plus(_n),d),f=Pt(w.times(w),d),i=3;;){if(a=Pt(a.times(f),d),u=o.plus(bs(a,new y(i),d)),ji(u.d).slice(0,d)===ji(o.d).slice(0,d))return o=o.times(2),s!==0&&(o=o.plus(Jx(y,d+2,b).times(s+""))),o=bs(o,new y(p),d),y.precision=b,e==null?(Vt=!0,Pt(o,b)):o;o=u,i+=2}}function GM(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=zc(r/Bt),t.d=[],n=(r+1)%Bt,r<0&&(n+=Bt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Bt;n<i;)t.d.push(+e.slice(n,n+=Bt));e=e.slice(n),n=Bt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Vt&&(t.e>km||t.e<-km))throw Error(zO+r)}else t.s=0,t.e=0,t.d=[0];return t}function Pt(t,e,r){var n,i,s,a,o,u,d,f,p=t.d;for(a=1,s=p[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=Bt,i=e,d=p[f=0];else{if(f=Math.ceil((n+1)/Bt),s=p.length,f>=s)return t;for(d=s=p[f],a=1;s>=10;s/=10)a++;n%=Bt,i=n-Bt+a}if(r!==void 0&&(s=lo(10,a-i-1),o=d/s%10|0,u=e<0||p[f+1]!==void 0||d%s,u=r<4?(o||u)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||u||r==6&&(n>0?i>0?d/lo(10,a-i):0:p[f-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return u?(s=cr(t),p.length=1,e=e-s-1,p[0]=lo(10,(Bt-e%Bt)%Bt),t.e=zc(-e/Bt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=f,s=1,f--):(p.length=f+1,s=lo(10,Bt-n),p[f]=i>0?(d/lo(10,a-i)%lo(10,i)|0)*s:0),u)for(;;)if(f==0){(p[0]+=s)==Ar&&(p[0]=1,++t.e);break}else{if(p[f]+=s,p[f]!=Ar)break;p[f--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(Vt&&(t.e>km||t.e<-km))throw Error(zO+cr(t));return t}function j3(t,e){var r,n,i,s,a,o,u,d,f,p,g=t.constructor,w=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Vt?Pt(e,w):e;if(u=t.d,p=e.d,n=e.e,d=t.e,u=u.slice(),a=d-n,a){for(f=a<0,f?(r=u,a=-a,o=p.length):(r=p,n=d,o=u.length),i=Math.max(Math.ceil(w/Bt),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=u.length,o=p.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(u[i]!=p[i]){f=u[i]<p[i];break}a=0}for(f&&(r=u,u=p,p=r,e.s=-e.s),o=u.length,i=p.length-o;i>0;--i)u[o++]=0;for(i=p.length;i>a;){if(u[--i]<p[i]){for(s=i;s&&u[--s]===0;)u[s]=Ar-1;--u[s],u[i]+=Ar}u[i]-=p[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,Vt?Pt(e,w):e):new g(0)}function Co(t,e,r){var n,i=cr(t),s=ji(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+la(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+la(-i-1)+s,r&&(n=r-a)>0&&(s+=la(n))):i>=a?(s+=la(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+la(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=la(n))),t.s<0?"-"+s:s}function YM(t,e){if(t.length>e)return t.length=e,!0}function N3(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(So+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return GM(a,s.toString())}else if(typeof s!="string")throw Error(So+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Oae.test(s))GM(a,s);else throw Error(So+s)}if(i.prototype=je,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=N3,i.config=i.set=Tae,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Tae(t){if(!t||typeof t!="object")throw Error(Vn+"Object expected");var e,r,n,i=["precision",1,qc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(zc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(So+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(So+r+": "+n);return this}var WO=N3(Eae);_n=new WO(1);const Ot=WO;function Aae(t){return jae(t)||Pae(t)||kae(t)||Cae()}function Cae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kae(t,e){if(t){if(typeof t=="string")return s1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s1(t,e)}}function Pae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jae(t){if(Array.isArray(t))return s1(t)}function s1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Nae=function(e){return e},I3={},R3=function(e){return e===I3},XM=function(e){return function r(){return arguments.length===0||arguments.length===1&&R3(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Iae=function t(e,r){return e===1?r:XM(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==I3}).length;return a>=e?r.apply(void 0,i):t(e-a,XM(function(){for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];var f=i.map(function(p){return R3(p)?u.shift():p});return r.apply(void 0,Aae(f).concat(u))}))})},Yg=function(e){return Iae(e.length,e)},a1=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Rae=Yg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Mae=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Nae;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,u){return u(o)},s.apply(void 0,arguments))}},o1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},M3=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r&&s.every(function(o,u){return o===r[u]})||(r=s,n=e.apply(void 0,s)),n}};function Dae(t){var e;return t===0?e=1:e=Math.floor(new Ot(t).abs().log(10).toNumber())+1,e}function $ae(t,e,r){for(var n=new Ot(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Lae=Yg(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Fae=Yg(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Uae=Yg(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Xg={rangeStep:$ae,getDigitCount:Dae,interpolateNumber:Lae,uninterpolateNumber:Fae,uninterpolateTruncation:Uae};function l1(t){return zae(t)||qae(t)||D3(t)||Bae()}function Bae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function zae(t){if(Array.isArray(t))return c1(t)}function Wd(t,e){return Hae(t)||Vae(t,e)||D3(t,e)||Wae()}function Wae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D3(t,e){if(t){if(typeof t=="string")return c1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c1(t,e)}}function c1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(n=(o=a.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(u){i=!0,s=u}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}}function Hae(t){if(Array.isArray(t))return t}function $3(t){var e=Wd(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function L3(t,e,r){if(t.lte(0))return new Ot(0);var n=Xg.getDigitCount(t.toNumber()),i=new Ot(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new Ot(Math.ceil(s.div(a).toNumber())).add(r).mul(a),u=o.mul(i);return e?u:new Ot(Math.ceil(u))}function Kae(t,e,r){var n=1,i=new Ot(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Ot(10).pow(Xg.getDigitCount(t)-1),i=new Ot(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Ot(Math.floor(t)))}else t===0?i=new Ot(Math.floor((e-1)/2)):r||(i=new Ot(Math.floor(t)));var a=Math.floor((e-1)/2),o=Mae(Rae(function(u){return i.add(new Ot(u-a).mul(n)).toNumber()}),a1);return o(0,e)}function F3(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var s=L3(new Ot(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new Ot(0):(a=new Ot(t).add(e).div(2),a=a.sub(new Ot(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),u=Math.ceil(new Ot(e).sub(a).div(s).toNumber()),d=o+u+1;return d>r?F3(t,e,r,n,i+1):(d<r&&(u=e>0?u+(r-d):u,o=e>0?o:o+(r-d)),{step:s,tickMin:a.sub(new Ot(o).mul(s)),tickMax:a.add(new Ot(u).mul(s))})}function Gae(t){var e=Wd(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=$3([r,n]),u=Wd(o,2),d=u[0],f=u[1];if(d===-1/0||f===1/0){var p=f===1/0?[d].concat(l1(a1(0,i-1).map(function(){return 1/0}))):[].concat(l1(a1(0,i-1).map(function(){return-1/0})),[f]);return r>n?o1(p):p}if(d===f)return Kae(d,i,s);var g=F3(d,f,a,s),w=g.step,x=g.tickMin,y=g.tickMax,b=Xg.rangeStep(x,y.add(new Ot(.1).mul(w)),w);return r>n?o1(b):b}function Yae(t,e){var r=Wd(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=$3([n,i]),o=Wd(a,2),u=o[0],d=o[1];if(u===-1/0||d===1/0)return[n,i];if(u===d)return[u];var f=Math.max(e,2),p=L3(new Ot(d).sub(u).div(f-1),s,0),g=[].concat(l1(Xg.rangeStep(new Ot(u),new Ot(d).sub(new Ot(.99).mul(p)),p)),[d]);return n>i?o1(g):g}var Xae=M3(Gae),Qae=M3(Yae),Jae="Invariant failed";function fc(t,e){throw new Error(Jae)}var Zae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pm.apply(this,arguments)}function eoe(t,e){return ioe(t)||noe(t,e)||roe(t,e)||toe()}function toe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function roe(t,e){if(t){if(typeof t=="string")return QM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QM(t,e)}}function QM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function noe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],u=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function ioe(t){if(Array.isArray(t))return t}function soe(t,e){if(t==null)return{};var r=aoe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ooe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function loe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q3(n.key),n)}}function coe(t,e,r){return e&&loe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uoe(t,e,r){return e=jm(e),doe(t,U3()?Reflect.construct(e,r||[],jm(t).constructor):e.apply(t,r))}function doe(t,e){if(e&&(hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return foe(t)}function foe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U3=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jm(t)}function hoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u1(t,e)}function u1(t,e){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u1(t,e)}function B3(t,e,r){return e=q3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q3(t){var e=poe(t,"string");return hc(e)=="symbol"?e:e+""}function poe(t,e){if(hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VO=(function(t){function e(){return ooe(this,e),uoe(this,e,arguments)}return hoe(e,t),coe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,a=n.width,o=n.dataKey,u=n.data,d=n.dataPointFormatter,f=n.xAxis,p=n.yAxis,g=soe(n,Zae),w=et(g,!1);this.props.direction==="x"&&f.type!=="number"&&fc();var x=u.map(function(y){var b=d(y,o),E=b.x,O=b.y,A=b.value,P=b.errorVal;if(!P)return null;var T=[],C,j;if(Array.isArray(P)){var N=eoe(P,2);C=N[0],j=N[1]}else C=j=P;if(s==="vertical"){var D=f.scale,M=O+i,R=M+a,$=M-a,F=D(A-C),K=D(A+j);T.push({x1:K,y1:R,x2:K,y2:$}),T.push({x1:F,y1:M,x2:K,y2:M}),T.push({x1:F,y1:R,x2:F,y2:$})}else if(s==="horizontal"){var G=p.scale,V=E+i,Q=V-a,z=V+a,J=G(A-C),ie=G(A+j);T.push({x1:Q,y1:ie,x2:z,y2:ie}),T.push({x1:V,y1:J,x2:V,y2:ie}),T.push({x1:Q,y1:J,x2:z,y2:J})}return W.createElement(Zt,Pm({className:"recharts-errorBar",key:"bar-".concat(T.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},w),T.map(function(U){return W.createElement("line",Pm({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return W.createElement(Zt,{className:"recharts-errorBars"},x)}}])})(W.Component);B3(VO,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});B3(VO,"displayName","ErrorBar");function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function JM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ro(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(r),!0).forEach(function(n){moe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function moe(t,e,r){return e=goe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function goe(t){var e=voe(t,"string");return Vd(e)=="symbol"?e:e+""}function voe(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z3=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Ln(r,xo);if(!a)return null;var o=xo.defaultProps,u=o!==void 0?ro(ro({},o),a.props):{},d;return a.props&&a.props.payload?d=a.props&&a.props.payload:s==="children"?d=(n||[]).reduce(function(f,p){var g=p.item,w=p.props,x=w.sectors||w.data||[];return f.concat(x.map(function(y){return{type:a.props.iconType||g.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):d=(n||[]).map(function(f){var p=f.item,g=p.type.defaultProps,w=g!==void 0?ro(ro({},g),p.props):{},x=w.dataKey,y=w.name,b=w.legendType,E=w.hide;return{inactive:E,dataKey:x,type:u.iconType||b||"square",color:HO(p),value:y||x,payload:w}}),ro(ro(ro({},u),xo.getWithHeight(a,i)),{},{payload:d,item:a})};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function ZM(t){return xoe(t)||woe(t)||boe(t)||yoe()}function yoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function boe(t,e){if(t){if(typeof t=="string")return d1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d1(t,e)}}function woe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xoe(t){if(Array.isArray(t))return d1(t)}function d1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function e2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(r),!0).forEach(function(n){Yl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yl(t,e,r){return e=_oe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _oe(t){var e=Soe(t,"string");return Hd(e)=="symbol"?e:e+""}function Soe(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sn(t,e,r){return ut(t)||ut(e)?r:yr(e)?pi(t,e,r):rt(e)?e(t):r}function hd(t,e,r,n){var i=xae(t,function(o){return Sn(o,e)});if(r==="number"){var s=i.filter(function(o){return ke(o)||parseFloat(o)});return s.length?[Gg(s),Kg(s)]:[1/0,-1/0]}var a=n?i.filter(function(o){return!ut(o)}):i;return a.map(function(o){return yr(o)||o instanceof Date?o:""})}var Eoe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(r=n?.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,d=0;d<o;d++){var f=d>0?i[d-1].coordinate:i[o-1].coordinate,p=i[d].coordinate,g=d>=o-1?i[0].coordinate:i[d+1].coordinate,w=void 0;if(zn(p-f)!==zn(g-p)){var x=[];if(zn(g-p)===zn(u[1]-u[0])){w=g;var y=p+u[1]-u[0];x[0]=Math.min(y,(y+f)/2),x[1]=Math.max(y,(y+f)/2)}else{w=f;var b=g+u[1]-u[0];x[0]=Math.min(p,(b+p)/2),x[1]=Math.max(p,(b+p)/2)}var E=[Math.min(p,(w+p)/2),Math.max(p,(w+p)/2)];if(e>E[0]&&e<=E[1]||e>=x[0]&&e<=x[1]){a=i[d].index;break}}else{var O=Math.min(f,g),A=Math.max(f,g);if(e>(O+p)/2&&e<=(A+p)/2){a=i[d].index;break}}}else for(var P=0;P<o;P++)if(P===0&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P>0&&P<o-1&&e>(n[P].coordinate+n[P-1].coordinate)/2&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P===o-1&&e>(n[P].coordinate+n[P-1].coordinate)/2){a=n[P].index;break}return a},HO=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,u;switch(i){case"Line":u=a;break;case"Area":case"Radar":u=a&&a!=="none"?a:o;break;default:u=o;break}return u},Ooe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),u=0,d=o.length;u<d;u++)for(var f=s[o[u]].stackGroups,p=Object.keys(f),g=0,w=p.length;g<w;g++){var x=f[p[g]],y=x.items,b=x.cateAxisId,E=y.filter(function(j){return vs(j.type).indexOf("Bar")>=0});if(E&&E.length){var O=E[0].type.defaultProps,A=O!==void 0?Jt(Jt({},O),E[0].props):E[0].props,P=A.barSize,T=A[b];a[T]||(a[T]=[]);var C=ut(P)?r:P;a[T].push({item:E[0],stackList:E.slice(1),barSize:ut(C)?void 0:cn(C,n,0)})}}return a},Toe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,u=a.length;if(u<1)return null;var d=cn(r,i,0,!0),f,p=[];if(a[0].barSize===+a[0].barSize){var g=!1,w=i/u,x=a.reduce(function(P,T){return P+T.barSize||0},0);x+=(u-1)*d,x>=i&&(x-=(u-1)*d,d=0),x>=i&&w>0&&(g=!0,w*=.9,x=u*w);var y=(i-x)/2>>0,b={offset:y-d,size:0};f=a.reduce(function(P,T){var C={item:T.item,position:{offset:b.offset+b.size+d,size:g?w:T.barSize}},j=[].concat(ZM(P),[C]);return b=j[j.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(N){j.push({item:N,position:b})}),j},p)}else{var E=cn(n,i,0,!0);i-2*E-(u-1)*d<=0&&(d=0);var O=(i-2*E-(u-1)*d)/u;O>1&&(O>>=0);var A=o===+o?Math.min(O,o):O;f=a.reduce(function(P,T,C){var j=[].concat(ZM(P),[{item:T.item,position:{offset:E+(O+d)*C+(O-A)/2,size:A}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(N){j.push({item:N,position:j[j.length-1].position})}),j},p)}return f},Aoe=function(e,r,n,i){var s=n.children,a=n.width,o=n.margin,u=a-(o.left||0)-(o.right||0),d=z3({children:s,legendWidth:u});if(d){var f=i||{},p=f.width,g=f.height,w=d.align,x=d.verticalAlign,y=d.layout;if((y==="vertical"||y==="horizontal"&&x==="middle")&&w!=="center"&&ke(e[w]))return Jt(Jt({},e),{},Yl({},w,e[w]+(p||0)));if((y==="horizontal"||y==="vertical"&&w==="center")&&x!=="middle"&&ke(e[x]))return Jt(Jt({},e),{},Yl({},x,e[x]+(g||0)))}return e},Coe=function(e,r,n){return ut(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},W3=function(e,r,n,i,s){var a=r.props.children,o=Mi(a,VO).filter(function(d){return Coe(i,s,d.props.direction)});if(o&&o.length){var u=o.map(function(d){return d.props.dataKey});return e.reduce(function(d,f){var p=Sn(f,n);if(ut(p))return d;var g=Array.isArray(p)?[Gg(p),Kg(p)]:[p,p],w=u.reduce(function(x,y){var b=Sn(f,y,0),E=g[0]-Math.abs(Array.isArray(b)?b[0]:b),O=g[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(E,x[0]),Math.max(O,x[1])]},[1/0,-1/0]);return[Math.min(w[0],d[0]),Math.max(w[1],d[1])]},[1/0,-1/0])}return null},koe=function(e,r,n,i,s){var a=r.map(function(o){return W3(e,o,n,s,i)}).filter(function(o){return!ut(o)});return a&&a.length?a.reduce(function(o,u){return[Math.min(o[0],u[0]),Math.max(o[1],u[1])]},[1/0,-1/0]):null},V3=function(e,r,n,i,s){var a=r.map(function(u){var d=u.props.dataKey;return n==="number"&&d&&W3(e,u,d,i)||hd(e,d,n,s)});if(n==="number")return a.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);var o={};return a.reduce(function(u,d){for(var f=0,p=d.length;f<p;f++)o[d[f]]||(o[d[f]]=!0,u.push(d[f]));return u},[])},H3=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Qu=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/u:0;if(d=e.axisType==="angleAxis"&&o?.length>=2?zn(o[0]-o[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(p){var g=s?s.indexOf(p):p;return{coordinate:i(g)+d,value:p,offset:d}});return f.filter(function(p){return!jf(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,g){return{coordinate:i(p)+d,value:p,index:g,offset:d}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+d,value:p,offset:d}}):i.domain().map(function(p,g){return{coordinate:i(p)+d,value:s?s[p]:p,index:g,offset:d}})},Zx=new WeakMap,dp=function(e,r){if(typeof r!="function")return e;Zx.has(e)||Zx.set(e,new WeakMap);var n=Zx.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Poe=function(e,r,n){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:Ld(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:Om(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:fd(),realScaleType:"point"}:s==="category"?{scale:Ld(),realScaleType:"band"}:{scale:Om(),realScaleType:"linear"};if(Pf(i)){var u="scale".concat(Ng(i));return{scale:(FM[u]||fd)(),realScaleType:FM[u]?u:"point"}}return rt(i)?{scale:i}:{scale:fd(),realScaleType:"point"}},t2=1e-4,joe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-t2,a=Math.max(i[0],i[1])+t2,o=e(r[0]),u=e(r[n-1]);(o<s||o>a||u<s||u>a)&&e.domain([r[0],r[n-1]])}},Noe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0,o=0;o<r;++o){var u=jf(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=s,e[o][n][1]=s+u,s=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+u,a=e[o][n][1])}},Ioe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0;a<r;++a){var o=jf(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Roe={sign:Noe,expand:wee,none:nc,silhouette:xee,wiggle:_ee,positive:Ioe},Moe=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),s=Roe[n],a=bee().keys(i).value(function(o,u){return+Sn(o,u,0)}).order(BS).offset(s);return a(e)},Doe=function(e,r,n,i,s,a){if(!e)return null;var o=a?r.reverse():r,u={},d=o.reduce(function(p,g){var w,x=(w=g.type)!==null&&w!==void 0&&w.defaultProps?Jt(Jt({},g.type.defaultProps),g.props):g.props,y=x.stackId,b=x.hide;if(b)return p;var E=x[n],O=p[E]||{hasStack:!1,stackGroups:{}};if(yr(y)){var A=O.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};A.items.push(g),O.hasStack=!0,O.stackGroups[y]=A}else O.stackGroups[Pg("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return Jt(Jt({},p),{},Yl({},E,O))},u),f={};return Object.keys(d).reduce(function(p,g){var w=d[g];if(w.hasStack){var x={};w.stackGroups=Object.keys(w.stackGroups).reduce(function(y,b){var E=w.stackGroups[b];return Jt(Jt({},y),{},Yl({},b,{numericAxisId:n,cateAxisId:i,items:E.items,stackedData:Moe(e,E.items,s)}))},x)}return Jt(Jt({},p),{},Yl({},g,w))},f)},$oe=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,a=r.originalDomain,o=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var d=e.domain();if(!d.length)return null;var f=Xae(d,s,o);return e.domain([Gg(f),Kg(f)]),{niceTicks:f}}if(s&&i==="number"){var p=e.domain(),g=Qae(p,s,o);return{niceTicks:g}}return null},Loe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(yr(s)){var a=r[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},Foe=function(e){return e.reduce(function(r,n){return[Gg(n.concat([r[0]]).filter(ke)),Kg(n.concat([r[1]]).filter(ke))]},[1/0,-1/0])},K3=function(e,r,n){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,u=o.reduce(function(d,f){var p=Foe(f.slice(r,n+1));return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},r2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,n2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f1=function(e,r,n){if(rt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ke(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(r2.test(e[0])){var s=+r2.exec(e[0])[1];i[0]=r[0]-s}else rt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ke(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(n2.test(e[1])){var a=+n2.exec(e[1])[1];i[1]=r[1]+a}else rt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},h1=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=vO(r,function(p){return p.coordinate}),a=1/0,o=1,u=s.length;o<u;o++){var d=s[o],f=s[o-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},i2=function(e,r,n){return!e||!e.length||qO(e,pi(n,"type.defaultProps.domain"))?r:e},Uoe=function(e,r){var n=e.type.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,a=n.unit,o=n.formatter,u=n.tooltipType,d=n.chartType,f=n.hide;return Jt(Jt({},et(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:HO(e),value:Sn(r,i),type:u,payload:r,chartType:d,hide:f})};function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function s2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(r),!0).forEach(function(n){G3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G3(t,e,r){return e=Boe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Boe(t){var e=qoe(t,"string");return Kd(e)=="symbol"?e:e+""}function qoe(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zoe(t,e){return Koe(t)||Hoe(t,e)||Voe(t,e)||Woe()}function Woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Voe(t,e){if(t){if(typeof t=="string")return a2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a2(t,e)}}function a2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],u=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function Koe(t){if(Array.isArray(t))return t}var Nm=Math.PI/180,Goe=function(e){return e*180/Math.PI},$t=function(e,r,n,i){return{x:e+Math.cos(-Nm*i)*n,y:r+Math.sin(-Nm*i)*n}},Y3=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Yoe=function(e,r,n,i,s){var a=e.width,o=e.height,u=e.startAngle,d=e.endAngle,f=cn(e.cx,a,a/2),p=cn(e.cy,o,o/2),g=Y3(a,o,n),w=cn(e.innerRadius,g,0),x=cn(e.outerRadius,g,g*.8),y=Object.keys(r);return y.reduce(function(b,E){var O=r[E],A=O.domain,P=O.reversed,T;if(ut(O.range))i==="angleAxis"?T=[u,d]:i==="radiusAxis"&&(T=[w,x]),P&&(T=[T[1],T[0]]);else{T=O.range;var C=T,j=zoe(C,2);u=j[0],d=j[1]}var N=Poe(O,s),D=N.realScaleType,M=N.scale;M.domain(A).range(T),joe(M);var R=$oe(M,us(us({},O),{},{realScaleType:D})),$=us(us(us({},O),R),{},{range:T,radius:x,realScaleType:D,scale:M,cx:f,cy:p,innerRadius:w,outerRadius:x,startAngle:u,endAngle:d});return us(us({},b),{},G3({},E,$))},{})},Xoe=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-a,2))},Qoe=function(e,r){var n=e.x,i=e.y,s=r.cx,a=r.cy,o=Xoe({x:n,y:i},{x:s,y:a});if(o<=0)return{radius:o};var u=(n-s)/o,d=Math.acos(u);return i>a&&(d=2*Math.PI-d),{radius:o,angle:Goe(d),angleInRadian:d}},Joe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return{startAngle:r-a*360,endAngle:n-a*360}},Zoe=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},o2=function(e,r){var n=e.x,i=e.y,s=Qoe({x:n,y:i},r),a=s.radius,o=s.angle,u=r.innerRadius,d=r.outerRadius;if(a<u||a>d)return!1;if(a===0)return!0;var f=Joe(r),p=f.startAngle,g=f.endAngle,w=o,x;if(p<=g){for(;w>g;)w-=360;for(;w<p;)w+=360;x=w>=p&&w<=g}else{for(;w>p;)w-=360;for(;w<g;)w+=360;x=w>=g&&w<=p}return x?us(us({},r),{},{radius:a,angle:Zoe(w,r)}):null},X3=function(e){return!S.isValidElement(e)&&!rt(e)&&typeof e!="boolean"?e.className:""};function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}var ele=["offset"];function tle(t){return sle(t)||ile(t)||nle(t)||rle()}function rle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nle(t,e){if(t){if(typeof t=="string")return p1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p1(t,e)}}function ile(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sle(t){if(Array.isArray(t))return p1(t)}function p1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ale(t,e){if(t==null)return{};var r=ole(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ole(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function l2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(r),!0).forEach(function(n){lle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lle(t,e,r){return e=cle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cle(t){var e=ule(t,"string");return Gd(e)=="symbol"?e:e+""}function ule(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yd.apply(this,arguments)}var dle=function(e){var r=e.value,n=e.formatter,i=ut(e.children)?r:e.children;return rt(n)?n(i):i},fle=function(e,r){var n=zn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},hle=function(e,r,n){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,u=s,d=u.cx,f=u.cy,p=u.innerRadius,g=u.outerRadius,w=u.startAngle,x=u.endAngle,y=u.clockWise,b=(p+g)/2,E=fle(w,x),O=E>=0?1:-1,A,P;i==="insideStart"?(A=w+O*a,P=y):i==="insideEnd"?(A=x-O*a,P=!y):i==="end"&&(A=x+O*a,P=y),P=E<=0?P:!P;var T=$t(d,f,b,A),C=$t(d,f,b,A+(P?1:-1)*359),j="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(P?0:1,`,
    `).concat(C.x,",").concat(C.y),N=ut(e.id)?Pg("recharts-radial-line-"):e.id;return W.createElement("text",Yd({},n,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",o)}),W.createElement("defs",null,W.createElement("path",{id:N,d:j})),W.createElement("textPath",{xlinkHref:"#".concat(N)},r))},ple=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,a=s.cx,o=s.cy,u=s.innerRadius,d=s.outerRadius,f=s.startAngle,p=s.endAngle,g=(f+p)/2;if(i==="outside"){var w=$t(a,o,d+n,g),x=w.x,y=w.y;return{x,y,textAnchor:x>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(u+d)/2,E=$t(a,o,b,g),O=E.x,A=E.y;return{x:O,y:A,textAnchor:"middle",verticalAnchor:"middle"}},mle=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,a=r,o=a.x,u=a.y,d=a.width,f=a.height,p=f>=0?1:-1,g=p*i,w=p>0?"end":"start",x=p>0?"start":"end",y=d>=0?1:-1,b=y*i,E=y>0?"end":"start",O=y>0?"start":"end";if(s==="top"){var A={x:o+d/2,y:u-p*i,textAnchor:"middle",verticalAnchor:w};return pr(pr({},A),n?{height:Math.max(u-n.y,0),width:d}:{})}if(s==="bottom"){var P={x:o+d/2,y:u+f+g,textAnchor:"middle",verticalAnchor:x};return pr(pr({},P),n?{height:Math.max(n.y+n.height-(u+f),0),width:d}:{})}if(s==="left"){var T={x:o-b,y:u+f/2,textAnchor:E,verticalAnchor:"middle"};return pr(pr({},T),n?{width:Math.max(T.x-n.x,0),height:f}:{})}if(s==="right"){var C={x:o+d+b,y:u+f/2,textAnchor:O,verticalAnchor:"middle"};return pr(pr({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:f}:{})}var j=n?{width:d,height:f}:{};return s==="insideLeft"?pr({x:o+b,y:u+f/2,textAnchor:O,verticalAnchor:"middle"},j):s==="insideRight"?pr({x:o+d-b,y:u+f/2,textAnchor:E,verticalAnchor:"middle"},j):s==="insideTop"?pr({x:o+d/2,y:u+g,textAnchor:"middle",verticalAnchor:x},j):s==="insideBottom"?pr({x:o+d/2,y:u+f-g,textAnchor:"middle",verticalAnchor:w},j):s==="insideTopLeft"?pr({x:o+b,y:u+g,textAnchor:O,verticalAnchor:x},j):s==="insideTopRight"?pr({x:o+d-b,y:u+g,textAnchor:E,verticalAnchor:x},j):s==="insideBottomLeft"?pr({x:o+b,y:u+f-g,textAnchor:O,verticalAnchor:w},j):s==="insideBottomRight"?pr({x:o+d-b,y:u+f-g,textAnchor:E,verticalAnchor:w},j):Fc(s)&&(ke(s.x)||go(s.x))&&(ke(s.y)||go(s.y))?pr({x:o+cn(s.x,d),y:u+cn(s.y,f),textAnchor:"end",verticalAnchor:"end"},j):pr({x:o+d/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},j)},gle=function(e){return"cx"in e&&ke(e.cx)};function Ir(t){var e=t.offset,r=e===void 0?5:e,n=ale(t,ele),i=pr({offset:r},n),s=i.viewBox,a=i.position,o=i.value,u=i.children,d=i.content,f=i.className,p=f===void 0?"":f,g=i.textBreakAll;if(!s||ut(o)&&ut(u)&&!S.isValidElement(d)&&!rt(d))return null;if(S.isValidElement(d))return S.cloneElement(d,i);var w;if(rt(d)){if(w=S.createElement(d,i),S.isValidElement(w))return w}else w=dle(i);var x=gle(s),y=et(i,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return hle(i,w,y);var b=x?ple(i):mle(i);return W.createElement(lc,Yd({className:dt("recharts-label",p)},y,b,{breakAll:g}),w)}Ir.displayName="Label";var Q3=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,u=e.radius,d=e.innerRadius,f=e.outerRadius,p=e.x,g=e.y,w=e.top,x=e.left,y=e.width,b=e.height,E=e.clockWise,O=e.labelViewBox;if(O)return O;if(ke(y)&&ke(b)){if(ke(p)&&ke(g))return{x:p,y:g,width:y,height:b};if(ke(w)&&ke(x))return{x:w,y:x,width:y,height:b}}return ke(p)&&ke(g)?{x:p,y:g,width:0,height:0}:ke(r)&&ke(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:a||i||0,innerRadius:d||0,outerRadius:f||u||o||0,clockWise:E}:e.viewBox?e.viewBox:{}},vle=function(e,r){return e?e===!0?W.createElement(Ir,{key:"label-implicit",viewBox:r}):yr(e)?W.createElement(Ir,{key:"label-implicit",viewBox:r,value:e}):S.isValidElement(e)?e.type===Ir?S.cloneElement(e,{key:"label-implicit",viewBox:r}):W.createElement(Ir,{key:"label-implicit",content:e,viewBox:r}):rt(e)?W.createElement(Ir,{key:"label-implicit",content:e,viewBox:r}):Fc(e)?W.createElement(Ir,Yd({viewBox:r},e,{key:"label-implicit"})):null:null},yle=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=Q3(e),a=Mi(i,Ir).map(function(u,d){return S.cloneElement(u,{viewBox:r||s,key:"label-".concat(d)})});if(!n)return a;var o=vle(e.label,r||s);return[o].concat(tle(a))};Ir.parseViewBox=Q3;Ir.renderCallByParent=yle;var e_,c2;function ble(){if(c2)return e_;c2=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return e_=t,e_}var wle=ble();const xle=_t(wle);function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}var _le=["valueAccessor"],Sle=["data","dataKey","clockWise","id","textBreakAll"];function Ele(t){return Cle(t)||Ale(t)||Tle(t)||Ole()}function Ole(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tle(t,e){if(t){if(typeof t=="string")return m1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m1(t,e)}}function Ale(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cle(t){if(Array.isArray(t))return m1(t)}function m1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Im.apply(this,arguments)}function u2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(r),!0).forEach(function(n){kle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kle(t,e,r){return e=Ple(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ple(t){var e=jle(t,"string");return Xd(e)=="symbol"?e:e+""}function jle(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f2(t,e){if(t==null)return{};var r=Nle(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ile=function(e){return Array.isArray(e.value)?xle(e.value):e.value};function Eo(t){var e=t.valueAccessor,r=e===void 0?Ile:e,n=f2(t,_le),i=n.data,s=n.dataKey,a=n.clockWise,o=n.id,u=n.textBreakAll,d=f2(n,Sle);return!i||!i.length?null:W.createElement(Zt,{className:"recharts-label-list"},i.map(function(f,p){var g=ut(s)?r(f,p):Sn(f&&f.payload,s),w=ut(o)?{}:{id:"".concat(o,"-").concat(p)};return W.createElement(Ir,Im({},et(f,!0),d,w,{parentViewBox:f.parentViewBox,value:g,textBreakAll:u,viewBox:Ir.parseViewBox(ut(a)?f:d2(d2({},f),{},{clockWise:a})),key:"label-".concat(p),index:p}))}))}Eo.displayName="LabelList";function Rle(t,e){return t?t===!0?W.createElement(Eo,{key:"labelList-implicit",data:e}):W.isValidElement(t)||rt(t)?W.createElement(Eo,{key:"labelList-implicit",data:e,content:t}):Fc(t)?W.createElement(Eo,Im({data:e},t,{key:"labelList-implicit"})):null:null}function Mle(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Mi(n,Eo).map(function(a,o){return S.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var s=Rle(t.label,e);return[s].concat(Ele(i))}Eo.renderCallByParent=Mle;function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g1.apply(this,arguments)}function h2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(r),!0).forEach(function(n){Dle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dle(t,e,r){return e=$le(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $le(t){var e=Lle(t,"string");return Qd(e)=="symbol"?e:e+""}function Lle(t,e){if(Qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fle=function(e,r){var n=zn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},fp=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,u=e.cornerRadius,d=e.cornerIsExternal,f=u*(o?1:-1)+i,p=Math.asin(u/f)/Nm,g=d?s:s+a*p,w=$t(r,n,f,g),x=$t(r,n,i,g),y=d?s-a*p:s,b=$t(r,n,f*Math.cos(p*Nm),y);return{center:w,circleTangency:x,lineTangency:b,theta:p}},J3=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,u=Fle(a,o),d=a+u,f=$t(r,n,s,a),p=$t(r,n,s,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var w=$t(r,n,i,a),x=$t(r,n,i,d);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=d),`,
            `).concat(w.x,",").concat(w.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},Ule=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,u=e.cornerIsExternal,d=e.startAngle,f=e.endAngle,p=zn(f-d),g=fp({cx:r,cy:n,radius:s,angle:d,sign:p,cornerRadius:a,cornerIsExternal:u}),w=g.circleTangency,x=g.lineTangency,y=g.theta,b=fp({cx:r,cy:n,radius:s,angle:f,sign:-p,cornerRadius:a,cornerIsExternal:u}),E=b.circleTangency,O=b.lineTangency,A=b.theta,P=u?Math.abs(d-f):Math.abs(d-f)-y-A;if(P<0)return o?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):J3({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f});var T="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(P>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,`
  `);if(i>0){var C=fp({cx:r,cy:n,radius:i,angle:d,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),j=C.circleTangency,N=C.lineTangency,D=C.theta,M=fp({cx:r,cy:n,radius:i,angle:f,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),R=M.circleTangency,$=M.lineTangency,F=M.theta,K=u?Math.abs(d-f):Math.abs(d-f)-D-F;if(K<0&&a===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(K>180),",").concat(+(p>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},Ble={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Z3=function(e){var r=p2(p2({},Ble),e),n=r.cx,i=r.cy,s=r.innerRadius,a=r.outerRadius,o=r.cornerRadius,u=r.forceCornerRadius,d=r.cornerIsExternal,f=r.startAngle,p=r.endAngle,g=r.className;if(a<s||f===p)return null;var w=dt("recharts-sector",g),x=a-s,y=cn(o,x,0,!0),b;return y>0&&Math.abs(f-p)<360?b=Ule({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(y,x/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p}):b=J3({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:f,endAngle:p}),W.createElement("path",g1({},et(r,!0),{className:w,d:b,role:"img"}))};function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(this,arguments)}function m2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(r),!0).forEach(function(n){qle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qle(t,e,r){return e=zle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zle(t){var e=Wle(t,"string");return Jd(e)=="symbol"?e:e+""}function Wle(t,e){if(Jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v2={curveBasisClosed:lee,curveBasisOpen:cee,curveBasis:oee,curveBumpX:KZ,curveBumpY:GZ,curveLinearClosed:uee,curveLinear:Rg,curveMonotoneX:dee,curveMonotoneY:fee,curveNatural:hee,curveStep:pee,curveStepAfter:gee,curveStepBefore:mee},hp=function(e){return e.x===+e.x&&e.y===+e.y},Mu=function(e){return e.x},Du=function(e){return e.y},Vle=function(e,r){if(rt(e))return e;var n="curve".concat(Ng(e));return(n==="curveMonotone"||n==="curveBump")&&r?v2["".concat(n).concat(r==="vertical"?"Y":"X")]:v2[n]||Rg},Hle=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,u=e.connectNulls,d=u===void 0?!1:u,f=Vle(n,o),p=d?s.filter(function(y){return hp(y)}):s,g;if(Array.isArray(a)){var w=d?a.filter(function(y){return hp(y)}):a,x=p.map(function(y,b){return g2(g2({},y),{},{base:w[b]})});return o==="vertical"?g=ip().y(Du).x1(Mu).x0(function(y){return y.base.x}):g=ip().x(Mu).y1(Du).y0(function(y){return y.base.y}),g.defined(hp).curve(f),g(x)}return o==="vertical"&&ke(a)?g=ip().y(Du).x1(Mu).x0(a):ke(a)?g=ip().x(Mu).y1(Du).y0(a):g=r4().x(Mu).y(Du),g.defined(hp).curve(f),g(p)},y1=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?Hle(e):i;return S.createElement("path",v1({},et(e,!1),lm(e),{className:dt("recharts-curve",r),d:a,ref:s}))},t_={exports:{}},r_,y2;function Kle(){if(y2)return r_;y2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return r_=t,r_}var n_,b2;function Gle(){if(b2)return n_;b2=1;var t=Kle();function e(){}function r(){}return r.resetWarningCache=e,n_=function(){function n(a,o,u,d,f,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},n_}var w2;function Yle(){return w2||(w2=1,t_.exports=Gle()()),t_.exports}var Xle=Yle();const xt=_t(Xle);var Qle=Object.getOwnPropertyNames,Jle=Object.getOwnPropertySymbols,Zle=Object.prototype.hasOwnProperty;function x2(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function pp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,a=s.get(r),o=s.get(n);if(a&&o)return a===n&&o===r;s.set(r,n),s.set(n,r);var u=t(r,n,i);return s.delete(r),s.delete(n),u}}function ece(t){return t?.[Symbol.toStringTag]}function _2(t){return Qle(t).concat(Jle(t))}var tce=Object.hasOwn||(function(t,e){return Zle.call(t,e)});function Fo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var rce="__v",nce="__o",ice="_owner",S2=Object.getOwnPropertyDescriptor,E2=Object.keys;function sce(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function ace(t,e){return Fo(t.getTime(),e.getTime())}function oce(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function lce(t,e){return t===e}function O2(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),a,o,u=0;(a=s.next())&&!a.done;){for(var d=e.entries(),f=!1,p=0;(o=d.next())&&!o.done;){if(i[p]){p++;continue}var g=a.value,w=o.value;if(r.equals(g[0],w[0],u,p,t,e,r)&&r.equals(g[1],w[1],g[0],w[0],t,e,r)){f=i[p]=!0;break}p++}if(!f)return!1;u++}return!0}var cce=Fo;function uce(t,e,r){var n=E2(t),i=n.length;if(E2(e).length!==i)return!1;for(;i-- >0;)if(!eB(t,e,r,n[i]))return!1;return!0}function $u(t,e,r){var n=_2(t),i=n.length;if(_2(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=n[i],!eB(t,e,r,s)||(a=S2(t,s),o=S2(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function dce(t,e){return Fo(t.valueOf(),e.valueOf())}function fce(t,e){return t.source===e.source&&t.flags===e.flags}function T2(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var u=e.values(),d=!1,f=0;(o=u.next())&&!o.done;){if(!i[f]&&r.equals(a.value,o.value,a.value,o.value,t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1}return!0}function hce(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function pce(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function eB(t,e,r,n){return(n===ice||n===nce||n===rce)&&(t.$$typeof||e.$$typeof)?!0:tce(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var mce="[object Arguments]",gce="[object Boolean]",vce="[object Date]",yce="[object Error]",bce="[object Map]",wce="[object Number]",xce="[object Object]",_ce="[object RegExp]",Sce="[object Set]",Ece="[object String]",Oce="[object URL]",Tce=Array.isArray,A2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,C2=Object.assign,Ace=Object.prototype.toString.call.bind(Object.prototype.toString);function Cce(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,u=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,f=t.areSetsEqual,p=t.areTypedArraysEqual,g=t.areUrlsEqual,w=t.unknownTagComparators;return function(y,b,E){if(y===b)return!0;if(y==null||b==null)return!1;var O=typeof y;if(O!==typeof b)return!1;if(O!=="object")return O==="number"?a(y,b,E):O==="function"?i(y,b,E):!1;var A=y.constructor;if(A!==b.constructor)return!1;if(A===Object)return o(y,b,E);if(Tce(y))return e(y,b,E);if(A2!=null&&A2(y))return p(y,b,E);if(A===Date)return r(y,b,E);if(A===RegExp)return d(y,b,E);if(A===Map)return s(y,b,E);if(A===Set)return f(y,b,E);var P=Ace(y);if(P===vce)return r(y,b,E);if(P===_ce)return d(y,b,E);if(P===bce)return s(y,b,E);if(P===Sce)return f(y,b,E);if(P===xce)return typeof y.then!="function"&&typeof b.then!="function"&&o(y,b,E);if(P===Oce)return g(y,b,E);if(P===yce)return n(y,b,E);if(P===mce)return o(y,b,E);if(P===gce||P===wce||P===Ece)return u(y,b,E);if(w){var T=w[P];if(!T){var C=ece(y);C&&(T=w[C])}if(T)return T(y,b,E)}return!1}}function kce(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?$u:sce,areDatesEqual:ace,areErrorsEqual:oce,areFunctionsEqual:lce,areMapsEqual:n?x2(O2,$u):O2,areNumbersEqual:cce,areObjectsEqual:n?$u:uce,arePrimitiveWrappersEqual:dce,areRegExpsEqual:fce,areSetsEqual:n?x2(T2,$u):T2,areTypedArraysEqual:n?$u:hce,areUrlsEqual:pce,unknownTagComparators:void 0};if(r&&(i=C2({},i,r(i))),e){var s=pp(i.areArraysEqual),a=pp(i.areMapsEqual),o=pp(i.areObjectsEqual),u=pp(i.areSetsEqual);i=C2({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:u})}return i}function Pce(t){return function(e,r,n,i,s,a,o){return t(e,r,o)}}function jce(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(u,d){var f=n(),p=f.cache,g=p===void 0?e?new WeakMap:void 0:p,w=f.meta;return r(u,d,{cache:g,equals:i,meta:w,strict:s})};if(e)return function(u,d){return r(u,d,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,d){return r(u,d,a)}}var Nce=$a();$a({strict:!0});$a({circular:!0});$a({circular:!0,strict:!0});$a({createInternalComparator:function(){return Fo}});$a({strict:!0,createInternalComparator:function(){return Fo}});$a({circular:!0,createInternalComparator:function(){return Fo}});$a({circular:!0,createInternalComparator:function(){return Fo},strict:!0});function $a(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=kce(t),u=Cce(o),d=n?n(u):Pce(u);return jce({circular:r,comparator:u,createState:i,equals:d,strict:a})}function Ice(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function k2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):Ice(i)};requestAnimationFrame(n)}function b1(t){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b1(t)}function Rce(t){return Lce(t)||$ce(t)||Dce(t)||Mce()}function Mce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dce(t,e){if(t){if(typeof t=="string")return P2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P2(t,e)}}function P2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $ce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lce(t){if(Array.isArray(t))return t}function Fce(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,o=Rce(a),u=o[0],d=o.slice(1);if(typeof u=="number"){k2(i.bind(null,d),u);return}i(u),k2(i.bind(null,d));return}b1(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function j2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(r),!0).forEach(function(n){tB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tB(t,e,r){return e=Uce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uce(t){var e=Bce(t,"string");return Zd(e)==="symbol"?e:String(e)}function Bce(t,e){if(Zd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qce=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},zce=function(e){return e},Wce=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},pd=function(e,r){return Object.keys(r).reduce(function(n,i){return N2(N2({},n),{},tB({},i,e(i,r[i])))},{})},I2=function(e,r,n){return e.map(function(i){return"".concat(Wce(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Vce(t,e){return Gce(t)||Kce(t,e)||rB(t,e)||Hce()}function Hce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],u=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function Gce(t){if(Array.isArray(t))return t}function Yce(t){return Jce(t)||Qce(t)||rB(t)||Xce()}function Xce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rB(t,e){if(t){if(typeof t=="string")return w1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(t,e)}}function Qce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jce(t){if(Array.isArray(t))return w1(t)}function w1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Rm=1e-4,nB=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},iB=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},R2=function(e,r){return function(n){var i=nB(e,r);return iB(i,n)}},Zce=function(e,r){return function(n){var i=nB(e,r),s=[].concat(Yce(i.map(function(a,o){return a*o}).slice(1)),[0]);return iB(s,n)}},M2=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],a=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var d=u[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=Vce(d,4);i=f[0],s=f[1],a=f[2],o=f[3]}}}var p=R2(i,a),g=R2(s,o),w=Zce(i,a),x=function(E){return E>1?1:E<0?0:E},y=function(E){for(var O=E>1?1:E,A=O,P=0;P<8;++P){var T=p(A)-O,C=w(A);if(Math.abs(T-O)<Rm||C<Rm)return g(A);A=x(A-T/C)}return g(A)};return y.isStepper=!1,y},eue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,u=function(f,p,g){var w=-(f-p)*n,x=g*s,y=g+(w-x)*o/1e3,b=g*o/1e3+f;return Math.abs(b-p)<Rm&&Math.abs(y)<Rm?[p,0]:[b,y]};return u.isStepper=!0,u.dt=o,u},tue=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return M2(i);case"spring":return eue();default:if(i.split("(")[0]==="cubic-bezier")return M2(i)}return typeof i=="function"?i:null};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function D2(t){return iue(t)||nue(t)||sB(t)||rue()}function rue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iue(t){if(Array.isArray(t))return _1(t)}function $2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(r),!0).forEach(function(n){x1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x1(t,e,r){return e=sue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sue(t){var e=aue(t,"string");return ef(e)==="symbol"?e:String(e)}function aue(t,e){if(ef(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ef(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oue(t,e){return uue(t)||cue(t,e)||sB(t,e)||lue()}function lue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sB(t,e){if(t){if(typeof t=="string")return _1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _1(t,e)}}function _1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],u=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function uue(t){if(Array.isArray(t))return t}var Mm=function(e,r,n){return e+(r-e)*n},S1=function(e){var r=e.from,n=e.to;return r!==n},due=function t(e,r,n){var i=pd(function(s,a){if(S1(a)){var o=e(a.from,a.to,a.velocity),u=oue(o,2),d=u[0],f=u[1];return Nr(Nr({},a),{},{from:d,velocity:f})}return a},r);return n<1?pd(function(s,a){return S1(a)?Nr(Nr({},a),{},{velocity:Mm(a.velocity,i[s].velocity,n),from:Mm(a.from,i[s].from,n)}):a},r):t(e,i,n-1)};const fue=(function(t,e,r,n,i){var s=qce(t,e),a=s.reduce(function(b,E){return Nr(Nr({},b),{},x1({},E,[t[E],e[E]]))},{}),o=s.reduce(function(b,E){return Nr(Nr({},b),{},x1({},E,{from:t[E],velocity:0,to:e[E]}))},{}),u=-1,d,f,p=function(){return null},g=function(){return pd(function(E,O){return O.from},o)},w=function(){return!Object.values(o).filter(S1).length},x=function(E){d||(d=E);var O=E-d,A=O/r.dt;o=due(r,o,A),i(Nr(Nr(Nr({},t),e),g())),d=E,w()||(u=requestAnimationFrame(p))},y=function(E){f||(f=E);var O=(E-f)/n,A=pd(function(T,C){return Mm.apply(void 0,D2(C).concat([r(O)]))},a);if(i(Nr(Nr(Nr({},t),e),A)),O<1)u=requestAnimationFrame(p);else{var P=pd(function(T,C){return Mm.apply(void 0,D2(C).concat([r(1)]))},a);i(Nr(Nr(Nr({},t),e),P))}};return p=r.isStepper?x:y,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(u)}}});function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}var hue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pue(t,e){if(t==null)return{};var r=mue(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mue(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function i_(t){return bue(t)||yue(t)||vue(t)||gue()}function gue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vue(t,e){if(t){if(typeof t=="string")return E1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E1(t,e)}}function yue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bue(t){if(Array.isArray(t))return E1(t)}function E1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(r),!0).forEach(function(n){Ju(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ju(t,e,r){return e=aB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aB(n.key),n)}}function _ue(t,e,r){return e&&xue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aB(t){var e=Sue(t,"string");return pc(e)==="symbol"?e:String(e)}function Sue(t,e){if(pc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O1(t,e)}function O1(t,e){return O1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O1(t,e)}function Oue(t){var e=Tue();return function(){var n=Dm(t),i;if(e){var s=Dm(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return T1(this,i)}}function T1(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A1(t)}function A1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dm(t)}var Oa=(function(t){Eue(r,t);var e=Oue(r);function r(n,i){var s;wue(this,r),s=e.call(this,n,i);var a=s.props,o=a.isActive,u=a.attributeName,d=a.from,f=a.to,p=a.steps,g=a.children,w=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(A1(s)),s.changeStyle=s.changeStyle.bind(A1(s)),!o||w<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:f}),T1(s);if(p&&p.length)s.state={style:p[0].style};else if(d){if(typeof g=="function")return s.state={style:d},T1(s);s.state={style:u?Ju({},u,d):d}}else s.state={style:{}};return s}return _ue(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,u=s.attributeName,d=s.shouldReAnimate,f=s.to,p=s.from,g=this.state.style;if(o){if(!a){var w={style:u?Ju({},u,f):f};this.state&&g&&(u&&g[u]!==f||!u&&g!==f)&&this.setState(w);return}if(!(Nce(i.to,f)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=x||d?p:i.to;if(this.state&&g){var b={style:u?Ju({},u,y):y};(u&&g[u]!==y||!u&&g!==y)&&this.setState(b)}this.runAnimation(ii(ii({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,u=i.duration,d=i.easing,f=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,w=fue(a,o,tue(d),u,this.changeStyle),x=function(){s.stopJSAnimation=w()};this.manager.start([g,f,x,u,p])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,u=i.onAnimationStart,d=a[0],f=d.style,p=d.duration,g=p===void 0?0:p,w=function(y,b,E){if(E===0)return y;var O=b.duration,A=b.easing,P=A===void 0?"ease":A,T=b.style,C=b.properties,j=b.onAnimationEnd,N=E>0?a[E-1]:b,D=C||Object.keys(T);if(typeof P=="function"||P==="spring")return[].concat(i_(y),[s.runJSAnimation.bind(s,{from:N.style,to:T,duration:O,easing:P}),O]);var M=I2(D,O,P),R=ii(ii(ii({},N.style),T),{},{transition:M});return[].concat(i_(y),[R,O,j]).filter(zce)};return this.manager.start([u].concat(i_(a.reduce(w,[f,Math.max(g,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Fce());var s=i.begin,a=i.duration,o=i.attributeName,u=i.to,d=i.easing,f=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,w=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof w=="function"||d==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var y=o?Ju({},o,u):u,b=I2(Object.keys(y),a,d);x.start([f,s,ii(ii({},y),{},{transition:b}),a,p])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=pue(i,hue),d=S.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!o||d===0||a<=0)return s;var p=function(w){var x=w.props,y=x.style,b=y===void 0?{}:y,E=x.className,O=S.cloneElement(w,ii(ii({},u),{},{style:ii(ii({},b),f),className:E}));return O};return d===1?p(S.Children.only(s)):W.createElement("div",null,S.Children.map(s,function(g){return p(g)}))}}]),r})(S.PureComponent);Oa.displayName="Animate";Oa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Oa.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$m.apply(this,arguments)}function Aue(t,e){return jue(t)||Pue(t,e)||kue(t,e)||Cue()}function Cue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kue(t,e){if(t){if(typeof t=="string")return F2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],u=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function jue(t){if(Array.isArray(t))return t}function U2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(r),!0).forEach(function(n){Nue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nue(t,e,r){return e=Iue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iue(t){var e=Rue(t,"string");return tf(e)=="symbol"?e:e+""}function Rue(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q2=function(e,r,n,i,s){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,u=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,f;if(a>0&&s instanceof Array){for(var p=[0,0,0,0],g=0,w=4;g<w;g++)p[g]=s[g]>a?a:s[g];f="M".concat(e,",").concat(r+o*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+u*p[0],",").concat(r)),f+="L ".concat(e+n-u*p[1],",").concat(r),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+o*p[1])),f+="L ".concat(e+n,",").concat(r+i-o*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+n-u*p[2],",").concat(r+i)),f+="L ".concat(e+u*p[3],",").concat(r+i),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+i-o*p[3])),f+="Z"}else if(a>0&&s===+s&&s>0){var x=Math.min(a,s);f="M ".concat(e,",").concat(r+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+u*x,",").concat(r,`
            L `).concat(e+n-u*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n,",").concat(r+o*x,`
            L `).concat(e+n,",").concat(r+i-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n-u*x,",").concat(r+i,`
            L `).concat(e+u*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(r+i-o*x," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},Mue=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,a=r.y,o=r.width,u=r.height;if(Math.abs(o)>0&&Math.abs(u)>0){var d=Math.min(s,s+o),f=Math.max(s,s+o),p=Math.min(a,a+u),g=Math.max(a,a+u);return n>=d&&n<=f&&i>=p&&i<=g}return!1},Due={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KO=function(e){var r=B2(B2({},Due),e),n=S.useRef(),i=S.useState(-1),s=Aue(i,2),a=s[0],o=s[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&o(P)}catch{}},[]);var u=r.x,d=r.y,f=r.width,p=r.height,g=r.radius,w=r.className,x=r.animationEasing,y=r.animationDuration,b=r.animationBegin,E=r.isAnimationActive,O=r.isUpdateAnimationActive;if(u!==+u||d!==+d||f!==+f||p!==+p||f===0||p===0)return null;var A=dt("recharts-rectangle",w);return O?W.createElement(Oa,{canBegin:a>0,from:{width:f,height:p,x:u,y:d},to:{width:f,height:p,x:u,y:d},duration:y,animationEasing:x,isActive:O},function(P){var T=P.width,C=P.height,j=P.x,N=P.y;return W.createElement(Oa,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:E,easing:x},W.createElement("path",$m({},et(r,!0),{className:A,d:q2(j,N,T,C,g),ref:n})))}):W.createElement("path",$m({},et(r,!0),{className:A,d:q2(u,d,f,p,g)}))},$ue=["points","className","baseLinePoints","connectNulls"];function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dl.apply(this,arguments)}function Lue(t,e){if(t==null)return{};var r=Fue(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function z2(t){return zue(t)||que(t)||Bue(t)||Uue()}function Uue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bue(t,e){if(t){if(typeof t=="string")return C1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C1(t,e)}}function que(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zue(t){if(Array.isArray(t))return C1(t)}function C1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var W2=function(e){return e&&e.x===+e.x&&e.y===+e.y},Wue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){W2(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),W2(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},md=function(e,r){var n=Wue(e);r&&(n=[n.reduce(function(s,a){return[].concat(z2(s),z2(a))},[])]);var i=n.map(function(s){return s.reduce(function(a,o,u){return"".concat(a).concat(u===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Vue=function(e,r,n){var i=md(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(md(r.reverse(),n).slice(1))},Hue=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,a=Lue(e,$ue);if(!r||!r.length)return null;var o=dt("recharts-polygon",n);if(i&&i.length){var u=a.stroke&&a.stroke!=="none",d=Vue(r,i,s);return W.createElement("g",{className:o},W.createElement("path",Dl({},et(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",stroke:"none",d})),u?W.createElement("path",Dl({},et(a,!0),{fill:"none",d:md(r,s)})):null,u?W.createElement("path",Dl({},et(a,!0),{fill:"none",d:md(i,s)})):null)}var f=md(r,s);return W.createElement("path",Dl({},et(a,!0),{fill:f.slice(-1)==="Z"?a.fill:"none",className:o,d:f}))};function k1(){return k1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k1.apply(this,arguments)}var GO=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,a=dt("recharts-dot",s);return r===+r&&n===+n&&i===+i?S.createElement("circle",k1({},et(e,!1),lm(e),{className:a,cx:r,cy:n,r:i})):null};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}var Kue=["x","y","top","left","width","height","className"];function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P1.apply(this,arguments)}function V2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(r),!0).forEach(function(n){Yue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yue(t,e,r){return e=Xue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xue(t){var e=Que(t,"string");return rf(e)=="symbol"?e:e+""}function Que(t,e){if(rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jue(t,e){if(t==null)return{};var r=Zue(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ede=function(e,r,n,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},tde=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,u=e.left,d=u===void 0?0:u,f=e.width,p=f===void 0?0:f,g=e.height,w=g===void 0?0:g,x=e.className,y=Jue(e,Kue),b=Gue({x:n,y:s,top:o,left:d,width:p,height:w},y);return!ke(n)||!ke(s)||!ke(p)||!ke(w)||!ke(o)||!ke(d)?null:W.createElement("path",P1({},et(b,!0),{className:dt("recharts-cross",x),d:ede(n,s,p,w,o,d)}))},s_,H2;function rde(){if(H2)return s_;H2=1;var t=Hg(),e=T3(),r=Vi();function n(i,s){return i&&i.length?t(i,r(s,2),e):void 0}return s_=n,s_}var nde=rde();const ide=_t(nde);var a_,K2;function sde(){if(K2)return a_;K2=1;var t=Hg(),e=Vi(),r=A3();function n(i,s){return i&&i.length?t(i,e(s,2),r):void 0}return a_=n,a_}var ade=sde();const ode=_t(ade);var lde=["cx","cy","angle","ticks","axisLine"],cde=["ticks","tick","angle","tickFormatter","stroke"];function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gd.apply(this,arguments)}function G2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function no(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(r),!0).forEach(function(n){Qg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y2(t,e){if(t==null)return{};var r=ude(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ude(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lB(n.key),n)}}function fde(t,e,r){return e&&X2(t.prototype,e),r&&X2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hde(t,e,r){return e=Lm(e),pde(t,oB()?Reflect.construct(e,r||[],Lm(t).constructor):e.apply(t,r))}function pde(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mde(t)}function mde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oB=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(t)}function gde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j1(t,e)}function j1(t,e){return j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j1(t,e)}function Qg(t,e,r){return e=lB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lB(t){var e=vde(t,"string");return mc(e)=="symbol"?e:e+""}function vde(t,e){if(mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jg=(function(t){function e(){return dde(this,e),hde(this,e,arguments)}return gde(e,t),fde(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,a=s.angle,o=s.cx,u=s.cy;return $t(o,u,i,a)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,o=n.ticks,u=ide(o,function(f){return f.coordinate||0}),d=ode(o,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:d.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,o=n.ticks,u=n.axisLine,d=Y2(n,lde),f=o.reduce(function(x,y){return[Math.min(x[0],y.coordinate),Math.max(x[1],y.coordinate)]},[1/0,-1/0]),p=$t(i,s,f[0],a),g=$t(i,s,f[1],a),w=no(no(no({},et(d,!1)),{},{fill:"none"},et(u,!1)),{},{x1:p.x,y1:p.y,x2:g.x,y2:g.y});return W.createElement("line",gd({className:"recharts-polar-radius-axis-line"},w))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,u=i.tickFormatter,d=i.stroke,f=Y2(i,cde),p=this.getTickTextAnchor(),g=et(f,!1),w=et(a,!1),x=s.map(function(y,b){var E=n.getTickValueCoord(y),O=no(no(no(no({textAnchor:p,transform:"rotate(".concat(90-o,", ").concat(E.x,", ").concat(E.y,")")},g),{},{stroke:"none",fill:d},w),{},{index:b},E),{},{payload:y});return W.createElement(Zt,gd({className:dt("recharts-polar-radius-axis-tick",X3(a)),key:"tick-".concat(y.coordinate)},jg(n.props,y,b)),e.renderTickItem(a,O,u?u(y.value,b):y.value))});return W.createElement(Zt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,a=n.tick;return!i||!i.length?null:W.createElement(Zt,{className:dt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Ir.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var a;return W.isValidElement(n)?a=W.cloneElement(n,i):rt(n)?a=n(i):a=W.createElement(lc,gd({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])})(S.PureComponent);Qg(Jg,"displayName","PolarRadiusAxis");Qg(Jg,"axisType","radiusAxis");Qg(Jg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function fo(){return fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fo.apply(this,arguments)}function Q2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(r),!0).forEach(function(n){Zg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uB(n.key),n)}}function bde(t,e,r){return e&&J2(t.prototype,e),r&&J2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wde(t,e,r){return e=Fm(e),xde(t,cB()?Reflect.construct(e,r||[],Fm(t).constructor):e.apply(t,r))}function xde(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _de(t)}function _de(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cB=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(t)}function Sde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N1(t,e)}function N1(t,e){return N1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},N1(t,e)}function Zg(t,e,r){return e=uB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uB(t){var e=Ede(t,"string");return gc(e)=="symbol"?e:e+""}function Ede(t,e){if(gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ode=Math.PI/180,Z2=1e-5,ev=(function(t){function e(){return yde(this,e),wde(this,e,arguments)}return Sde(e,t),bde(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,a=i.cy,o=i.radius,u=i.orientation,d=i.tickSize,f=d||8,p=$t(s,a,o,n.coordinate),g=$t(s,a,o+(u==="inner"?-1:1)*f,n.coordinate);return{x1:p.x,y1:p.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*Ode),a;return s>Z2?a=i==="outer"?"start":"end":s<-Z2?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.radius,o=n.axisLine,u=n.axisLineType,d=io(io({},et(this.props,!1)),{},{fill:"none"},et(o,!1));if(u==="circle")return W.createElement(GO,fo({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:s,r:a}));var f=this.props.ticks,p=f.map(function(g){return $t(i,s,a,g.coordinate)});return W.createElement(Hue,fo({className:"recharts-polar-angle-axis-line"},d,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,u=i.tickFormatter,d=i.stroke,f=et(this.props,!1),p=et(a,!1),g=io(io({},f),{},{fill:"none"},et(o,!1)),w=s.map(function(x,y){var b=n.getTickLineCoord(x),E=n.getTickTextAnchor(x),O=io(io(io({textAnchor:E},f),{},{stroke:"none",fill:d},p),{},{index:y,payload:x,x:b.x2,y:b.y2});return W.createElement(Zt,fo({className:dt("recharts-polar-angle-axis-tick",X3(a)),key:"tick-".concat(x.coordinate)},jg(n.props,x,y)),o&&W.createElement("line",fo({className:"recharts-polar-angle-axis-tick-line"},g,b)),a&&e.renderTickItem(a,O,u?u(x.value,y):x.value))});return W.createElement(Zt,{className:"recharts-polar-angle-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,a=n.axisLine;return s<=0||!i||!i.length?null:W.createElement(Zt,{className:dt("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var a;return W.isValidElement(n)?a=W.cloneElement(n,i):rt(n)?a=n(i):a=W.createElement(lc,fo({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])})(S.PureComponent);Zg(ev,"displayName","PolarAngleAxis");Zg(ev,"axisType","angleAxis");Zg(ev,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var o_,eD;function Tde(){if(eD)return o_;eD=1;var t=O4(),e=t(Object.getPrototypeOf,Object);return o_=e,o_}var l_,tD;function Ade(){if(tD)return l_;tD=1;var t=js(),e=Tde(),r=Ns(),n="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,u=a.call(Object);function d(f){if(!r(f)||t(f)!=n)return!1;var p=e(f);if(p===null)return!0;var g=o.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&a.call(g)==u}return l_=d,l_}var Cde=Ade();const kde=_t(Cde);var c_,rD;function Pde(){if(rD)return c_;rD=1;var t=js(),e=Ns(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return c_=n,c_}var jde=Pde();const Nde=_t(jde);function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Um.apply(this,arguments)}function Ide(t,e){return $de(t)||Dde(t,e)||Mde(t,e)||Rde()}function Rde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mde(t,e){if(t){if(typeof t=="string")return nD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nD(t,e)}}function nD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],u=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function $de(t){if(Array.isArray(t))return t}function iD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(r),!0).forEach(function(n){Lde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lde(t,e,r){return e=Fde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fde(t){var e=Ude(t,"string");return nf(e)=="symbol"?e:e+""}function Ude(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aD=function(e,r,n,i,s){var a=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-a/2,",").concat(r+s),o+="L ".concat(e+n-a/2-i,",").concat(r+s),o+="L ".concat(e,",").concat(r," Z"),o},Bde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qde=function(e){var r=sD(sD({},Bde),e),n=S.useRef(),i=S.useState(-1),s=Ide(i,2),a=s[0],o=s[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&o(A)}catch{}},[]);var u=r.x,d=r.y,f=r.upperWidth,p=r.lowerWidth,g=r.height,w=r.className,x=r.animationEasing,y=r.animationDuration,b=r.animationBegin,E=r.isUpdateAnimationActive;if(u!==+u||d!==+d||f!==+f||p!==+p||g!==+g||f===0&&p===0||g===0)return null;var O=dt("recharts-trapezoid",w);return E?W.createElement(Oa,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:g,x:u,y:d},to:{upperWidth:f,lowerWidth:p,height:g,x:u,y:d},duration:y,animationEasing:x,isActive:E},function(A){var P=A.upperWidth,T=A.lowerWidth,C=A.height,j=A.x,N=A.y;return W.createElement(Oa,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:x},W.createElement("path",Um({},et(r,!0),{className:O,d:aD(j,N,P,T,C),ref:n})))}):W.createElement("g",null,W.createElement("path",Um({},et(r,!0),{className:O,d:aD(u,d,f,p,g)})))},zde=["option","shapeType","propTransformer","activeClassName","isActive"];function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function Wde(t,e){if(t==null)return{};var r=Vde(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(r),!0).forEach(function(n){Hde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hde(t,e,r){return e=Kde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kde(t){var e=Gde(t,"string");return sf(e)=="symbol"?e:e+""}function Gde(t,e){if(sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yde(t,e){return Bm(Bm({},e),t)}function Xde(t,e){return t==="symbols"}function lD(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return W.createElement(KO,r);case"trapezoid":return W.createElement(qde,r);case"sector":return W.createElement(Z3,r);case"symbols":if(Xde(e))return W.createElement(cO,r);break;default:return null}}function Qde(t){return S.isValidElement(t)?t.props:t}function Jde(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Yde:n,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,u=Wde(t,zde),d;if(S.isValidElement(e))d=S.cloneElement(e,Bm(Bm({},u),Qde(e)));else if(rt(e))d=e(u);else if(kde(e)&&!Nde(e)){var f=i(e,u);d=W.createElement(lD,{shapeType:r,elementProps:f})}else{var p=u;d=W.createElement(lD,{shapeType:r,elementProps:p})}return o?W.createElement(Zt,{className:a},d):d}function tv(t,e){return e!=null&&"trapezoids"in t.props}function rv(t,e){return e!=null&&"sectors"in t.props}function af(t,e){return e!=null&&"points"in t.props}function Zde(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function efe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function tfe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function rfe(t,e){var r;return tv(t,e)?r=Zde:rv(t,e)?r=efe:af(t,e)&&(r=tfe),r}function nfe(t,e){var r;return tv(t,e)?r="trapezoids":rv(t,e)?r="sectors":af(t,e)&&(r="points"),r}function ife(t,e){if(tv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(rv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return af(t,e)?e.payload:{}}function sfe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=nfe(r,e),s=ife(r,e),a=n.filter(function(u,d){var f=qO(s,u),p=r.props[i].filter(function(x){var y=rfe(r,e);return y(x,e)}),g=r.props[i].indexOf(p[p.length-1]),w=d===g;return f&&w}),o=n.indexOf(a[a.length-1]);return o}var Mp;function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$l.apply(this,arguments)}function cD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(r),!0).forEach(function(n){Bn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function afe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fB(n.key),n)}}function ofe(t,e,r){return e&&uD(t.prototype,e),r&&uD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lfe(t,e,r){return e=qm(e),cfe(t,dB()?Reflect.construct(e,r||[],qm(t).constructor):e.apply(t,r))}function cfe(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ufe(t)}function ufe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dB=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(t)}function dfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I1(t,e)}function I1(t,e){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I1(t,e)}function Bn(t,e,r){return e=fB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fB(t){var e=ffe(t,"string");return vc(e)=="symbol"?e:e+""}function ffe(t,e){if(vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rs=(function(t){function e(r){var n;return afe(this,e),n=lfe(this,e,[r]),Bn(n,"pieRef",null),Bn(n,"sectorRefs",[]),Bn(n,"id",Pg("recharts-pie-")),Bn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),rt(i)&&i()}),Bn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),rt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return dfe(e,t),ofe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,u=s.dataKey,d=s.valueKey,f=et(this.props,!1),p=et(a,!1),g=et(o,!1),w=a&&a.offsetRadius||20,x=n.map(function(y,b){var E=(y.startAngle+y.endAngle)/2,O=$t(y.cx,y.cy,y.outerRadius+w,E),A=Mt(Mt(Mt(Mt({},f),y),{},{stroke:"none"},p),{},{index:b,textAnchor:e.getTextAnchor(O.x,y.cx)},O),P=Mt(Mt(Mt(Mt({},f),y),{},{fill:"none",stroke:y.fill},g),{},{index:b,points:[$t(y.cx,y.cy,y.outerRadius,E),O]}),T=u;return ut(u)&&ut(d)?T="value":ut(u)&&(T=d),W.createElement(Zt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},o&&e.renderLabelLineItem(o,P,"line"),e.renderLabelItem(a,A,Sn(y,T)))});return W.createElement(Zt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,u=s.inactiveShape;return n.map(function(d,f){if(d?.startAngle===0&&d?.endAngle===0&&n.length!==1)return null;var p=i.isActiveIndex(f),g=u&&i.hasActiveIndex()?u:null,w=p?a:g,x=Mt(Mt({},d),{},{stroke:o?d.fill:d.stroke,tabIndex:-1});return W.createElement(Zt,$l({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},jg(i.props,d,f),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(f)}),W.createElement(Jde,$l({option:w,isActive:p,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,p=this.state,g=p.prevSectors,w=p.prevIsAnimationActive;return W.createElement(Oa,{begin:o,duration:u,isActive:a,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(w),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var y=x.t,b=[],E=s&&s[0],O=E.startAngle;return s.forEach(function(A,P){var T=g&&g[P],C=P>0?pi(A,"paddingAngle",0):0;if(T){var j=pN(T.endAngle-T.startAngle,A.endAngle-A.startAngle),N=Mt(Mt({},A),{},{startAngle:O+C,endAngle:O+j(y)+C});b.push(N),O=N.endAngle}else{var D=A.endAngle,M=A.startAngle,R=pN(0,D-M),$=R(y),F=Mt(Mt({},A),{},{startAngle:O+C,endAngle:O+$+C});b.push(F),O=F.endAngle}}),W.createElement(Zt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!qO(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,u=i.label,d=i.cx,f=i.cy,p=i.innerRadius,g=i.outerRadius,w=i.isAnimationActive,x=this.state.isAnimationFinished;if(s||!a||!a.length||!ke(d)||!ke(f)||!ke(p)||!ke(g))return null;var y=dt("recharts-pie",o);return W.createElement(Zt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(E){n.pieRef=E}},this.renderSectors(),u&&this.renderLabels(a),Ir.renderCallByParent(this.props,null,!1),(!w||x)&&Eo.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(W.isValidElement(n))return W.cloneElement(n,i);if(rt(n))return n(i);var a=dt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return W.createElement(y1,$l({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,s){if(W.isValidElement(n))return W.cloneElement(n,i);var a=s;if(rt(n)&&(a=n(i),W.isValidElement(a)))return a;var o=dt("recharts-pie-label-text",typeof n!="boolean"&&!rt(n)?n.className:"");return W.createElement(lc,$l({},i,{alignmentBaseline:"middle",className:o}),a)}}])})(S.PureComponent);Mp=Rs;Bn(Rs,"displayName","Pie");Bn(Rs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Fg.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Bn(Rs,"parseDeltaAngle",function(t,e){var r=zn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Bn(Rs,"getRealPieData",function(t){var e=t.data,r=t.children,n=et(t,!1),i=Mi(r,bO);return e&&e.length?e.map(function(s,a){return Mt(Mt(Mt({payload:s},n),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return Mt(Mt({},n),s.props)}):[]});Bn(Rs,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,a=Y3(i,s),o=n+cn(t.cx,i,i/2),u=r+cn(t.cy,s,s/2),d=cn(t.innerRadius,a,0),f=cn(t.outerRadius,a,a*.8),p=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:u,innerRadius:d,outerRadius:f,maxRadius:p}});Bn(Rs,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Mt(Mt({},e.type.defaultProps),e.props):e.props,i=Mp.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,a=n.startAngle,o=n.endAngle,u=n.paddingAngle,d=n.dataKey,f=n.nameKey,p=n.valueKey,g=n.tooltipType,w=Math.abs(n.minAngle),x=Mp.parseCoordinateOfPie(n,r),y=Mp.parseDeltaAngle(a,o),b=Math.abs(y),E=d;ut(d)&&ut(p)?(ys(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E="value"):ut(d)&&(ys(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E=p);var O=i.filter(function(N){return Sn(N,E,0)!==0}).length,A=(b>=360?O:O-1)*u,P=b-O*w-A,T=i.reduce(function(N,D){var M=Sn(D,E,0);return N+(ke(M)?M:0)},0),C;if(T>0){var j;C=i.map(function(N,D){var M=Sn(N,E,0),R=Sn(N,f,D),$=(ke(M)?M:0)/T,F;D?F=j.endAngle+zn(y)*u*(M!==0?1:0):F=a;var K=F+zn(y)*((M!==0?w:0)+$*P),G=(F+K)/2,V=(x.innerRadius+x.outerRadius)/2,Q=[{name:R,value:M,payload:N,dataKey:E,type:g}],z=$t(x.cx,x.cy,V,G);return j=Mt(Mt(Mt({percent:$,cornerRadius:s,name:R,tooltipPayload:Q,midAngle:G,middleRadius:V,tooltipPosition:z},N),x),{},{value:Sn(N,E),startAngle:F,endAngle:K,payload:N,paddingAngle:zn(y)*u}),j})}return Mt(Mt({},x),{},{sectors:C,data:i})});var u_,dD;function hfe(){if(dD)return u_;dD=1;var t=Math.ceil,e=Math.max;function r(n,i,s,a){for(var o=-1,u=e(t((i-n)/(s||1)),0),d=Array(u);u--;)d[a?u:++o]=n,n+=s;return d}return u_=r,u_}var d_,fD;function hB(){if(fD)return d_;fD=1;var t=B4(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return d_=n,d_}var f_,hD;function pfe(){if(hD)return f_;hD=1;var t=hfe(),e=Lg(),r=hB();function n(i){return function(s,a,o){return o&&typeof o!="number"&&e(s,a,o)&&(a=o=void 0),s=r(s),a===void 0?(a=s,s=0):a=r(a),o=o===void 0?s<a?1:-1:r(o),t(s,a,o,i)}}return f_=n,f_}var h_,pD;function mfe(){if(pD)return h_;pD=1;var t=pfe(),e=t();return h_=e,h_}var gfe=mfe();const zm=_t(gfe);function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function mD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(r),!0).forEach(function(n){pB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pB(t,e,r){return e=vfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vfe(t){var e=yfe(t,"string");return of(e)=="symbol"?e:e+""}function yfe(t,e){if(of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bfe=["Webkit","Moz","O","ms"],wfe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=bfe.reduce(function(s,a){return gD(gD({},s),{},pB({},a+n,r))},{});return i[e]=r,i};function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wm.apply(this,arguments)}function vD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(r),!0).forEach(function(n){wn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gB(n.key),n)}}function _fe(t,e,r){return e&&yD(t.prototype,e),r&&yD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sfe(t,e,r){return e=Vm(e),Efe(t,mB()?Reflect.construct(e,r||[],Vm(t).constructor):e.apply(t,r))}function Efe(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ofe(t)}function Ofe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mB=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(t)}function Tfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R1(t,e)}function R1(t,e){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R1(t,e)}function wn(t,e,r){return e=gB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gB(t){var e=Afe(t,"string");return yc(e)=="symbol"?e:e+""}function Afe(t,e){if(yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cfe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var u=r.length,d=fd().domain(zm(0,u)).range([s,s+a-o]),f=d.domain().map(function(p){return d(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:f}},bD=function(e){return e.changedTouches&&!!e.changedTouches.length},bc=(function(t){function e(r){var n;return xfe(this,e),n=Sfe(this,e,[r]),wn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),wn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),wn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a?.({endIndex:s,startIndex:o})}),n.detachDragEndListener()}),wn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),wn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),wn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),wn(n,"handleSlideDragStart",function(i){var s=bD(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Tfe(e,t),_fe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,a=this.state.scaleValues,o=this.props,u=o.gap,d=o.data,f=d.length-1,p=Math.min(i,s),g=Math.max(i,s),w=e.getIndexInRange(a,p),x=e.getIndexInRange(a,g);return{startIndex:w-w%u,endIndex:x===f?f:x-x%u}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,u=Sn(s[n],o,n);return rt(a)?a(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,u=this.props,d=u.x,f=u.width,p=u.travellerWidth,g=u.startIndex,w=u.endIndex,x=u.onChange,y=n.pageX-s;y>0?y=Math.min(y,d+f-p-o,d+f-p-a):y<0&&(y=Math.max(y,d-a,d-o));var b=this.getIndex({startX:a+y,endX:o+y});(b.startIndex!==g||b.endIndex!==w)&&x&&x(b),this.setState({startX:a+y,endX:o+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=bD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,u=i.startX,d=this.state[a],f=this.props,p=f.x,g=f.width,w=f.travellerWidth,x=f.onChange,y=f.gap,b=f.data,E={startX:this.state.startX,endX:this.state.endX},O=n.pageX-s;O>0?O=Math.min(O,p+g-w-d):O<0&&(O=Math.max(O,p-d)),E[a]=d+O;var A=this.getIndex(E),P=A.startIndex,T=A.endIndex,C=function(){var N=b.length-1;return a==="startX"&&(o>u?P%y===0:T%y===0)||o<u&&T===N||a==="endX"&&(o>u?T%y===0:P%y===0)||o>u&&T===N};this.setState(wn(wn({},a,d+O),"brushMoveStartX",n.pageX),function(){x&&C()&&x(A)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,a=this.state,o=a.scaleValues,u=a.startX,d=a.endX,f=this.state[i],p=o.indexOf(f);if(p!==-1){var g=p+n;if(!(g===-1||g>=o.length)){var w=o[g];i==="startX"&&w>=d||i==="endX"&&w<=u||this.setState(wn({},i,w),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,u=n.fill,d=n.stroke;return W.createElement("rect",{stroke:d,fill:u,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,u=n.data,d=n.children,f=n.padding,p=S.Children.only(d);return p?W.cloneElement(p,{x:i,y:s,width:a,height:o,margin:f,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,a,o=this,u=this.props,d=u.y,f=u.travellerWidth,p=u.height,g=u.traveller,w=u.ariaLabel,x=u.data,y=u.startIndex,b=u.endIndex,E=Math.max(n,this.props.x),O=p_(p_({},et(this.props,!1)),{},{x:E,y:d,width:f,height:p}),A=w||"Min value: ".concat((s=x[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=x[b])===null||a===void 0?void 0:a.name);return W.createElement(Zt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),o.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,O))}},{key:"renderSlide",value:function(n,i){var s=this.props,a=s.y,o=s.height,u=s.stroke,d=s.travellerWidth,f=Math.min(n,i)+d,p=Math.max(Math.abs(i-n)-d,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:f,y:a,width:p,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,a=n.y,o=n.height,u=n.travellerWidth,d=n.stroke,f=this.state,p=f.startX,g=f.endX,w=5,x={pointerEvents:"none",fill:d};return W.createElement(Zt,{className:"recharts-brush-texts"},W.createElement(lc,Wm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-w,y:a+o/2},x),this.getTextOfTick(i)),W.createElement(lc,Wm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+u+w,y:a+o/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,a=n.children,o=n.x,u=n.y,d=n.width,f=n.height,p=n.alwaysShowText,g=this.state,w=g.startX,x=g.endX,y=g.isTextActive,b=g.isSlideMoving,E=g.isTravellerMoving,O=g.isTravellerFocused;if(!i||!i.length||!ke(o)||!ke(u)||!ke(d)||!ke(f)||d<=0||f<=0)return null;var A=dt("recharts-brush",s),P=W.Children.count(a)===1,T=wfe("userSelect","none");return W.createElement(Zt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(w,x),this.renderTravellerLayer(w,"startX"),this.renderTravellerLayer(x,"endX"),(y||b||E||O||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,a=n.width,o=n.height,u=n.stroke,d=Math.floor(s+o/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:s,width:a,height:o,fill:u,stroke:"none"}),W.createElement("line",{x1:i+1,y1:d,x2:i+a-1,y2:d,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:d+2,x2:i+a-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):rt(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,a=n.width,o=n.x,u=n.travellerWidth,d=n.updateId,f=n.startIndex,p=n.endIndex;if(s!==i.prevData||d!==i.prevUpdateId)return p_({prevData:s,prevTravellerWidth:u,prevUpdateId:d,prevX:o,prevWidth:a},s&&s.length?Cfe({data:s,width:a,x:o,travellerWidth:u,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([o,o+a-u]);var g=i.scale.domain().map(function(w){return i.scale(w)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:d,prevX:o,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,a=0,o=s-1;o-a>1;){var u=Math.floor((a+o)/2);n[u]>i?o=u:a=u}return i>=n[o]?o:a}}])})(S.PureComponent);wn(bc,"displayName","Brush");wn(bc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var m_,wD;function kfe(){if(wD)return m_;wD=1;var t=gO();function e(r,n){var i;return t(r,function(s,a,o){return i=n(s,a,o),!i}),!!i}return m_=e,m_}var g_,xD;function Pfe(){if(xD)return g_;xD=1;var t=y4(),e=Vi(),r=kfe(),n=dn(),i=Lg();function s(a,o,u){var d=n(a)?t:r;return u&&i(a,o,u)&&(o=void 0),d(a,e(o,3))}return g_=s,g_}var jfe=Pfe();const Nfe=_t(jfe);var $i=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},v_,_D;function Ife(){if(_D)return v_;_D=1;var t=D4();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return v_=e,v_}var y_,SD;function Rfe(){if(SD)return y_;SD=1;var t=Ife(),e=R4(),r=Vi();function n(i,s){var a={};return s=r(s,3),e(i,function(o,u,d){t(a,u,s(o,u,d))}),a}return y_=n,y_}var Mfe=Rfe();const Dfe=_t(Mfe);var b_,ED;function $fe(){if(ED)return b_;ED=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return b_=t,b_}var w_,OD;function Lfe(){if(OD)return w_;OD=1;var t=gO();function e(r,n){var i=!0;return t(r,function(s,a,o){return i=!!n(s,a,o),i}),i}return w_=e,w_}var x_,TD;function Ffe(){if(TD)return x_;TD=1;var t=$fe(),e=Lfe(),r=Vi(),n=dn(),i=Lg();function s(a,o,u){var d=n(a)?t:e;return u&&i(a,o,u)&&(o=void 0),d(a,r(o,3))}return x_=s,x_}var Ufe=Ffe();const Bfe=_t(Ufe);function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function qfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vB(n.key),n)}}function zfe(t,e,r){return e&&AD(t.prototype,e),r&&AD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(r),!0).forEach(function(n){YO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YO(t,e,r){return e=vB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vB(t){var e=Wfe(t,"string");return lf(e)=="symbol"?e:e+""}function Wfe(t,e){if(lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yB=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return{x:Math.min(n,s),y:Math.min(i,a),width:Math.abs(s-n),height:Math.abs(a-i)}},Vfe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return yB({x:r,y:n},{x:i,y:s})},bB=(function(){function t(e){qfe(this,t),this.scale=e}return zfe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();YO(bB,"EPS",1e-4);var XO=function(e){var r=Object.keys(e).reduce(function(n,i){return mp(mp({},n),{},YO({},i,bB.create(e[i])))},{});return mp(mp({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return Dfe(i,function(u,d){return r[d].apply(u,{bandAware:a,position:o})})},isInRange:function(i){return Bfe(i,function(s,a){return r[a].isInRange(s)})}})},__,kD;function Hfe(){if(kD)return __;kD=1;var t=Vi(),e=Nf(),r=Dg();function n(i){return function(s,a,o){var u=Object(s);if(!e(s)){var d=t(a,3);s=r(s),a=function(p){return d(u[p],p,u)}}var f=i(s,a,o);return f>-1?u[d?s[f]:f]:void 0}}return __=n,__}var S_,PD;function Kfe(){if(PD)return S_;PD=1;var t=hB();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return S_=e,S_}var E_,jD;function Gfe(){if(jD)return E_;jD=1;var t=k4(),e=Vi(),r=Kfe(),n=Math.max;function i(s,a,o){var u=s==null?0:s.length;if(!u)return-1;var d=o==null?0:r(o);return d<0&&(d=n(u+d,0)),t(s,e(a,3),d)}return E_=i,E_}var O_,ND;function Yfe(){if(ND)return O_;ND=1;var t=Hfe(),e=Gfe(),r=t(e);return O_=r,O_}Yfe();var Xfe=VU();const Qfe=_t(Xfe);var Jfe=Qfe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),wB=S.createContext(void 0),xB=S.createContext(void 0),_B=S.createContext(void 0),Zfe=S.createContext({}),SB=S.createContext(void 0),ehe=S.createContext(0),the=S.createContext(0),ID=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,a=e.clipPathId,o=e.children,u=e.width,d=e.height,f=Jfe(s);return W.createElement(wB.Provider,{value:n},W.createElement(xB.Provider,{value:i},W.createElement(Zfe.Provider,{value:s},W.createElement(_B.Provider,{value:f},W.createElement(SB.Provider,{value:a},W.createElement(ehe.Provider,{value:d},W.createElement(the.Provider,{value:u},o)))))))},rhe=function(){return S.useContext(SB)},nhe=function(e){var r=S.useContext(wB);r==null&&fc();var n=r[e];return n==null&&fc(),n},ihe=function(e){var r=S.useContext(xB);r==null&&fc();var n=r[e];return n==null&&fc(),n},she=function(){var e=S.useContext(_B);return e};function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function ahe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ohe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OB(n.key),n)}}function lhe(t,e,r){return e&&ohe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function che(t,e,r){return e=Hm(e),uhe(t,EB()?Reflect.construct(e,r||[],Hm(t).constructor):e.apply(t,r))}function uhe(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dhe(t)}function dhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EB=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(t)}function fhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M1(t,e)}function M1(t,e){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M1(t,e)}function RD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(r),!0).forEach(function(n){QO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QO(t,e,r){return e=OB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OB(t){var e=hhe(t,"string");return wc(e)=="symbol"?e:e+""}function hhe(t,e){if(wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function phe(t,e){return yhe(t)||vhe(t,e)||ghe(t,e)||mhe()}function mhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ghe(t,e){if(t){if(typeof t=="string")return DD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DD(t,e)}}function DD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],u=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function yhe(t){if(Array.isArray(t))return t}function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D1.apply(this,arguments)}var bhe=function(e,r){var n;return W.isValidElement(e)?n=W.cloneElement(e,r):rt(e)?n=e(r):n=W.createElement("line",D1({},r,{className:"recharts-reference-line-line"})),n},whe=function(e,r,n,i,s,a,o,u,d){var f=s.x,p=s.y,g=s.width,w=s.height;if(n){var x=d.y,y=e.y.apply(x,{position:a});if($i(d,"discard")&&!e.y.isInRange(y))return null;var b=[{x:f+g,y},{x:f,y}];return u==="left"?b.reverse():b}if(r){var E=d.x,O=e.x.apply(E,{position:a});if($i(d,"discard")&&!e.x.isInRange(O))return null;var A=[{x:O,y:p+w},{x:O,y:p}];return o==="top"?A.reverse():A}if(i){var P=d.segment,T=P.map(function(C){return e.apply(C,{position:a})});return $i(d,"discard")&&Nfe(T,function(C){return!e.isInRange(C)})?null:T}return null};function xhe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,u=t.alwaysShow,d=rhe(),f=nhe(i),p=ihe(s),g=she();if(!d||!g)return null;ys(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var w=XO({x:f.scale,y:p.scale}),x=yr(e),y=yr(r),b=n&&n.length===2,E=whe(w,x,y,b,g,t.position,f.orientation,p.orientation,t);if(!E)return null;var O=phe(E,2),A=O[0],P=A.x,T=A.y,C=O[1],j=C.x,N=C.y,D=$i(t,"hidden")?"url(#".concat(d,")"):void 0,M=MD(MD({clipPath:D},et(t,!0)),{},{x1:P,y1:T,x2:j,y2:N});return W.createElement(Zt,{className:dt("recharts-reference-line",o)},bhe(a,M),Ir.renderCallByParent(t,Vfe({x1:P,y1:T,x2:j,y2:N})))}var JO=(function(t){function e(){return ahe(this,e),che(this,e,arguments)}return fhe(e,t),lhe(e,[{key:"render",value:function(){return W.createElement(xhe,this.props)}}])})(W.Component);QO(JO,"displayName","ReferenceLine");QO(JO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$1.apply(this,arguments)}function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function $D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(r),!0).forEach(function(n){nv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$D(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function She(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AB(n.key),n)}}function Ehe(t,e,r){return e&&She(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ohe(t,e,r){return e=Km(e),The(t,TB()?Reflect.construct(e,r||[],Km(t).constructor):e.apply(t,r))}function The(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ahe(t)}function Ahe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(t)}function Che(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L1(t,e)}function L1(t,e){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L1(t,e)}function nv(t,e,r){return e=AB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AB(t){var e=khe(t,"string");return xc(e)=="symbol"?e:e+""}function khe(t,e){if(xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Phe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,a=XO({x:i.scale,y:s.scale}),o=a.apply({x:r,y:n},{bandAware:!0});return $i(e,"discard")&&!a.isInRange(o)?null:o},iv=(function(t){function e(){return _he(this,e),Ohe(this,e,arguments)}return Che(e,t),Ehe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,a=n.r,o=n.alwaysShow,u=n.clipPathId,d=yr(i),f=yr(s);if(ys(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var p=Phe(this.props);if(!p)return null;var g=p.x,w=p.y,x=this.props,y=x.shape,b=x.className,E=$i(this.props,"hidden")?"url(#".concat(u,")"):void 0,O=LD(LD({clipPath:E},et(this.props,!0)),{},{cx:g,cy:w});return W.createElement(Zt,{className:dt("recharts-reference-dot",b)},e.renderDot(y,O),Ir.renderCallByParent(this.props,{x:g-a,y:w-a,width:2*a,height:2*a}))}}])})(W.Component);nv(iv,"displayName","ReferenceDot");nv(iv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});nv(iv,"renderDot",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):rt(t)?r=t(e):r=W.createElement(GO,$1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(this,arguments)}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function FD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(r),!0).forEach(function(n){sv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kB(n.key),n)}}function Ihe(t,e,r){return e&&Nhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rhe(t,e,r){return e=Gm(e),Mhe(t,CB()?Reflect.construct(e,r||[],Gm(t).constructor):e.apply(t,r))}function Mhe(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dhe(t)}function Dhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CB=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gm(t)}function $he(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U1(t,e)}function U1(t,e){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U1(t,e)}function sv(t,e,r){return e=kB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kB(t){var e=Lhe(t,"string");return _c(e)=="symbol"?e:e+""}function Lhe(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fhe=function(e,r,n,i,s){var a=s.x1,o=s.x2,u=s.y1,d=s.y2,f=s.xAxis,p=s.yAxis;if(!f||!p)return null;var g=XO({x:f.scale,y:p.scale}),w={x:e?g.x.apply(a,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(u,{position:"start"}):g.y.rangeMin},x={x:r?g.x.apply(o,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(d,{position:"end"}):g.y.rangeMax};return $i(s,"discard")&&(!g.isInRange(w)||!g.isInRange(x))?null:yB(w,x)},av=(function(t){function e(){return jhe(this,e),Rhe(this,e,arguments)}return $he(e,t),Ihe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,a=n.y1,o=n.y2,u=n.className,d=n.alwaysShow,f=n.clipPathId;ys(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=yr(i),g=yr(s),w=yr(a),x=yr(o),y=this.props.shape;if(!p&&!g&&!w&&!x&&!y)return null;var b=Fhe(p,g,w,x,this.props);if(!b&&!y)return null;var E=$i(this.props,"hidden")?"url(#".concat(f,")"):void 0;return W.createElement(Zt,{className:dt("recharts-reference-area",u)},e.renderRect(y,UD(UD({clipPath:E},et(this.props,!0)),b)),Ir.renderCallByParent(this.props,b))}}])})(W.Component);sv(av,"displayName","ReferenceArea");sv(av,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});sv(av,"renderRect",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):rt(t)?r=t(e):r=W.createElement(KO,F1({},e,{className:"recharts-reference-area-rect"})),r});function BD(t){return zhe(t)||qhe(t)||Bhe(t)||Uhe()}function Uhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bhe(t,e){if(t){if(typeof t=="string")return B1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B1(t,e)}}function qhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zhe(t){if(Array.isArray(t))return B1(t)}function B1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var q1=function(e,r,n,i,s){var a=Mi(e,JO),o=Mi(e,iv),u=[].concat(BD(a),BD(o)),d=Mi(e,av),f="".concat(i,"Id"),p=i[0],g=r;if(u.length&&(g=u.reduce(function(y,b){if(b.props[f]===n&&$i(b.props,"extendDomain")&&ke(b.props[p])){var E=b.props[p];return[Math.min(y[0],E),Math.max(y[1],E)]}return y},g)),d.length){var w="".concat(p,"1"),x="".concat(p,"2");g=d.reduce(function(y,b){if(b.props[f]===n&&$i(b.props,"extendDomain")&&ke(b.props[w])&&ke(b.props[x])){var E=b.props[w],O=b.props[x];return[Math.min(y[0],E,O),Math.max(y[1],E,O)]}return y},g)}return s&&s.length&&(g=s.reduce(function(y,b){return ke(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},g)),g},T_={exports:{}},qD;function Whe(){return qD||(qD=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function s(u,d,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var w=new i(f,p||u,g),x=r?r+d:d;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],w]:u._events[x].push(w):(u._events[x]=w,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new n:delete u._events[d]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},o.prototype.listeners=function(d){var f=r?r+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,w=p.length,x=new Array(w);g<w;g++)x[g]=p[g].fn;return x},o.prototype.listenerCount=function(d){var f=r?r+d:d,p=this._events[f];return p?p.fn?1:p.length:0},o.prototype.emit=function(d,f,p,g,w,x){var y=r?r+d:d;if(!this._events[y])return!1;var b=this._events[y],E=arguments.length,O,A;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),E){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,g),!0;case 5:return b.fn.call(b.context,f,p,g,w),!0;case 6:return b.fn.call(b.context,f,p,g,w,x),!0}for(A=1,O=new Array(E-1);A<E;A++)O[A-1]=arguments[A];b.fn.apply(b.context,O)}else{var P=b.length,T;for(A=0;A<P;A++)switch(b[A].once&&this.removeListener(d,b[A].fn,void 0,!0),E){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,f);break;case 3:b[A].fn.call(b[A].context,f,p);break;case 4:b[A].fn.call(b[A].context,f,p,g);break;default:if(!O)for(T=1,O=new Array(E-1);T<E;T++)O[T-1]=arguments[T];b[A].fn.apply(b[A].context,O)}}return!0},o.prototype.on=function(d,f,p){return s(this,d,f,p,!1)},o.prototype.once=function(d,f,p){return s(this,d,f,p,!0)},o.prototype.removeListener=function(d,f,p,g){var w=r?r+d:d;if(!this._events[w])return this;if(!f)return a(this,w),this;var x=this._events[w];if(x.fn)x.fn===f&&(!g||x.once)&&(!p||x.context===p)&&a(this,w);else{for(var y=0,b=[],E=x.length;y<E;y++)(x[y].fn!==f||g&&!x[y].once||p&&x[y].context!==p)&&b.push(x[y]);b.length?this._events[w]=b.length===1?b[0]:b:a(this,w)}return this},o.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(T_)),T_.exports}var Vhe=Whe();const Hhe=_t(Vhe);var A_=new Hhe,C_="recharts.syncMouseEvents";function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function Khe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ghe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PB(n.key),n)}}function Yhe(t,e,r){return e&&Ghe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k_(t,e,r){return e=PB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PB(t){var e=Xhe(t,"string");return cf(e)=="symbol"?e:e+""}function Xhe(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qhe=(function(){function t(){Khe(this,t),k_(this,"activeIndex",0),k_(this,"coordinateList",[]),k_(this,"layout","horizontal")}return Yhe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,a=r.container,o=a===void 0?null:a,u=r.layout,d=u===void 0?null:u,f=r.offset,p=f===void 0?null:f,g=r.mouseHandlerCallback,w=g===void 0?null:g;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=d??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=w??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,u=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=s+u+d,g=a+this.offset.top+o/2+f;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])})();function Jhe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&ke(n)&&ke(i))return!0}return!1}function Zhe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function jB(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,a=$t(e,r,n,i),o=$t(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function epe(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,u=e.cy,d=e.innerRadius,f=e.outerRadius,p=e.angle,g=$t(o,u,d,p),w=$t(o,u,f,p);n=g.x,i=g.y,s=w.x,a=w.y}else return jB(e);return[{x:n,y:i},{x:s,y:a}]}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function zD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(r),!0).forEach(function(n){tpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tpe(t,e,r){return e=rpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rpe(t){var e=npe(t,"string");return uf(e)=="symbol"?e:e+""}function npe(t,e){if(uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ipe(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,u=t.offset,d=t.activeTooltipIndex,f=t.tooltipAxisBandSize,p=t.layout,g=t.chartName,w=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!w||!s||!a||g!=="ScatterChart"&&i!=="axis")return null;var x,y=y1;if(g==="ScatterChart")x=a,y=tde;else if(g==="BarChart")x=Zhe(p,a,u,f),y=KO;else if(p==="radial"){var b=jB(a),E=b.cx,O=b.cy,A=b.radius,P=b.startAngle,T=b.endAngle;x={cx:E,cy:O,startAngle:P,endAngle:T,innerRadius:A,outerRadius:A},y=Z3}else x={points:epe(p,a,u)},y=y1;var C=gp(gp(gp(gp({stroke:"#ccc",pointerEvents:"none"},u),x),et(w,!1)),{},{payload:o,payloadIndex:d,className:dt("recharts-tooltip-cursor",w.className)});return S.isValidElement(w)?S.cloneElement(w,C):S.createElement(y,C)}var spe=["item"],ape=["children","className","width","height","style","compact","title","desc"];function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ll.apply(this,arguments)}function WD(t,e){return cpe(t)||lpe(t,e)||IB(t,e)||ope()}function ope(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],u=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function cpe(t){if(Array.isArray(t))return t}function VD(t,e){if(t==null)return{};var r=upe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function upe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RB(n.key),n)}}function hpe(t,e,r){return e&&fpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ppe(t,e,r){return e=Ym(e),mpe(t,NB()?Reflect.construct(e,r||[],Ym(t).constructor):e.apply(t,r))}function mpe(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gpe(t)}function gpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NB=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(t)}function vpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z1(t,e)}function z1(t,e){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z1(t,e)}function Ec(t){return wpe(t)||bpe(t)||IB(t)||ype()}function ype(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IB(t,e){if(t){if(typeof t=="string")return W1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W1(t,e)}}function bpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wpe(t){if(Array.isArray(t))return W1(t)}function W1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(r),!0).forEach(function(n){We(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function We(t,e,r){return e=RB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RB(t){var e=xpe(t,"string");return Sc(e)=="symbol"?e:e+""}function xpe(t,e){if(Sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _pe={xAxis:["bottom","top"],yAxis:["left","right"]},Spe={width:"100%",height:"100%"},MB={x:0,y:0};function vp(t){return t}var Epe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Ope=function(e,r,n,i){var s=r.find(function(f){return f&&f.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return oe(oe(oe({},i),$t(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var u=s.coordinate,d=i.angle;return oe(oe(oe({},i),$t(i.cx,i.cy,u,d)),{},{angle:d,radius:u})}return MB},ov=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,a=(n??[]).reduce(function(o,u){var d=u.props.data;return d&&d.length?[].concat(Ec(o),Ec(d)):o},[]);return a.length>0?a:e&&e.length&&ke(i)&&ke(s)?e.slice(i,s+1):[]};function DB(t){return t==="number"?[0,"auto"]:void 0}var V1=function(e,r,n,i){var s=e.graphicalItems,a=e.tooltipAxis,o=ov(r,e);return n<0||!s||!s.length||n>=o.length?null:s.reduce(function(u,d){var f,p=(f=d.props.data)!==null&&f!==void 0?f:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(a.dataKey&&!a.allowDuplicatedCategory){var w=p===void 0?o:p;g=jS(w,a.dataKey,i)}else g=p&&p[n]||o[n];return g?[].concat(Ec(u),[Uoe(d,g)]):u},[])},KD=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},a=Epe(s,n),o=e.orderedTooltipTicks,u=e.tooltipAxis,d=e.tooltipTicks,f=Eoe(a,o,d,u);if(f>=0&&d){var p=d[f]&&d[f].value,g=V1(e,r,f,p),w=Ope(n,o,f,s);return{activeTooltipIndex:f,activeLabel:p,activePayload:g,activeCoordinate:w}}return null},Tpe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,u=r.dataStartIndex,d=r.dataEndIndex,f=e.layout,p=e.children,g=e.stackOffset,w=H3(f,s);return n.reduce(function(x,y){var b,E=y.type.defaultProps!==void 0?oe(oe({},y.type.defaultProps),y.props):y.props,O=E.type,A=E.dataKey,P=E.allowDataOverflow,T=E.allowDuplicatedCategory,C=E.scale,j=E.ticks,N=E.includeHidden,D=E[a];if(x[D])return x;var M=ov(e.data,{graphicalItems:i.filter(function(Y){var he,we=a in Y.props?Y.props[a]:(he=Y.type.defaultProps)===null||he===void 0?void 0:he[a];return we===D}),dataStartIndex:u,dataEndIndex:d}),R=M.length,$,F,K;Jhe(E.domain,P,O)&&($=f1(E.domain,null,P),w&&(O==="number"||C!=="auto")&&(K=hd(M,A,"category")));var G=DB(O);if(!$||$.length===0){var V,Q=(V=E.domain)!==null&&V!==void 0?V:G;if(A){if($=hd(M,A,O),O==="category"&&w){var z=yZ($);T&&z?(F=$,$=zm(0,R)):T||($=i2(Q,$,y).reduce(function(Y,he){return Y.indexOf(he)>=0?Y:[].concat(Ec(Y),[he])},[]))}else if(O==="category")T?$=$.filter(function(Y){return Y!==""&&!ut(Y)}):$=i2(Q,$,y).reduce(function(Y,he){return Y.indexOf(he)>=0||he===""||ut(he)?Y:[].concat(Ec(Y),[he])},[]);else if(O==="number"){var J=koe(M,i.filter(function(Y){var he,we,Se=a in Y.props?Y.props[a]:(he=Y.type.defaultProps)===null||he===void 0?void 0:he[a],de="hide"in Y.props?Y.props.hide:(we=Y.type.defaultProps)===null||we===void 0?void 0:we.hide;return Se===D&&(N||!de)}),A,s,f);J&&($=J)}w&&(O==="number"||C!=="auto")&&(K=hd(M,A,"category"))}else w?$=zm(0,R):o&&o[D]&&o[D].hasStack&&O==="number"?$=g==="expand"?[0,1]:K3(o[D].stackGroups,u,d):$=V3(M,i.filter(function(Y){var he=a in Y.props?Y.props[a]:Y.type.defaultProps[a],we="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return he===D&&(N||!we)}),O,f,!0);if(O==="number")$=q1(p,$,D,s,j),Q&&($=f1(Q,$,P));else if(O==="category"&&Q){var ie=Q,U=$.every(function(Y){return ie.indexOf(Y)>=0});U&&($=ie)}}return oe(oe({},x),{},We({},D,oe(oe({},E),{},{axisType:s,domain:$,categoricalDomain:K,duplicateDomain:F,originalDomain:(b=E.domain)!==null&&b!==void 0?b:G,isCategorical:w,layout:f})))},{})},Ape=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,u=r.dataStartIndex,d=r.dataEndIndex,f=e.layout,p=e.children,g=ov(e.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:d}),w=g.length,x=H3(f,s),y=-1;return n.reduce(function(b,E){var O=E.type.defaultProps!==void 0?oe(oe({},E.type.defaultProps),E.props):E.props,A=O[a],P=DB("number");if(!b[A]){y++;var T;return x?T=zm(0,w):o&&o[A]&&o[A].hasStack?(T=K3(o[A].stackGroups,u,d),T=q1(p,T,A,s)):(T=f1(P,V3(g,n.filter(function(C){var j,N,D=a in C.props?C.props[a]:(j=C.type.defaultProps)===null||j===void 0?void 0:j[a],M="hide"in C.props?C.props.hide:(N=C.type.defaultProps)===null||N===void 0?void 0:N.hide;return D===A&&!M}),"number",f),i.defaultProps.allowDataOverflow),T=q1(p,T,A,s)),oe(oe({},b),{},We({},A,oe(oe({axisType:s},i.defaultProps),{},{hide:!0,orientation:pi(_pe,"".concat(s,".").concat(y%2),null),domain:T,originalDomain:P,isCategorical:x,layout:f})))}return b},{})},Cpe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,a=r.graphicalItems,o=r.stackGroups,u=r.dataStartIndex,d=r.dataEndIndex,f=e.children,p="".concat(i,"Id"),g=Mi(f,s),w={};return g&&g.length?w=Tpe(e,{axes:g,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:o,dataStartIndex:u,dataEndIndex:d}):a&&a.length&&(w=Ape(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:o,dataStartIndex:u,dataEndIndex:d})),w},kpe=function(e){var r=jl(e),n=Qu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:vO(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:h1(r,n)}},GD=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ln(r,bc),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},Ppe=function(e){return!e||!e.length?!1:e.some(function(r){var n=vs(r&&r.type);return n&&n.indexOf("Bar")>=0})},YD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},jpe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,u=o===void 0?{}:o,d=n.width,f=n.height,p=n.children,g=n.margin||{},w=Ln(p,bc),x=Ln(p,xo),y=Object.keys(u).reduce(function(T,C){var j=u[C],N=j.orientation;return!j.mirror&&!j.hide?oe(oe({},T),{},We({},N,T[N]+j.width)):T},{left:g.left||0,right:g.right||0}),b=Object.keys(a).reduce(function(T,C){var j=a[C],N=j.orientation;return!j.mirror&&!j.hide?oe(oe({},T),{},We({},N,pi(T,"".concat(N))+j.height)):T},{top:g.top||0,bottom:g.bottom||0}),E=oe(oe({},b),y),O=E.bottom;w&&(E.bottom+=w.props.height||bc.defaultProps.height),x&&r&&(E=Aoe(E,i,n,r));var A=d-E.left-E.right,P=f-E.top-E.bottom;return oe(oe({brushBottom:O},E),{},{width:Math.max(A,0),height:Math.max(P,0)})},Npe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Ipe=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,u=e.axisComponents,d=e.legendContent,f=e.formatAxisMap,p=e.defaultProps,g=function(E,O){var A=O.graphicalItems,P=O.stackGroups,T=O.offset,C=O.updateId,j=O.dataStartIndex,N=O.dataEndIndex,D=E.barSize,M=E.layout,R=E.barGap,$=E.barCategoryGap,F=E.maxBarSize,K=YD(M),G=K.numericAxisName,V=K.cateAxisName,Q=Ppe(A),z=[];return A.forEach(function(J,ie){var U=ov(E.data,{graphicalItems:[J],dataStartIndex:j,dataEndIndex:N}),Y=J.type.defaultProps!==void 0?oe(oe({},J.type.defaultProps),J.props):J.props,he=Y.dataKey,we=Y.maxBarSize,Se=Y["".concat(G,"Id")],de=Y["".concat(V,"Id")],le={},ce=u.reduce(function(q,Z){var pe=O["".concat(Z.axisType,"Map")],fe=Y["".concat(Z.axisType,"Id")];pe&&pe[fe]||Z.axisType==="zAxis"||fc();var ue=pe[fe];return oe(oe({},q),{},We(We({},Z.axisType,ue),"".concat(Z.axisType,"Ticks"),Qu(ue)))},le),ee=ce[V],ae=ce["".concat(V,"Ticks")],ge=P&&P[Se]&&P[Se].hasStack&&Loe(J,P[Se].stackGroups),ne=vs(J.type).indexOf("Bar")>=0,Fe=h1(ee,ae),Te=[],Je=Q&&Ooe({barSize:D,stackGroups:P,totalSize:Npe(ce,V)});if(ne){var Ge,mt,Ht=ut(we)?F:we,Nt=(Ge=(mt=h1(ee,ae,!0))!==null&&mt!==void 0?mt:Ht)!==null&&Ge!==void 0?Ge:0;Te=Toe({barGap:R,barCategoryGap:$,bandSize:Nt!==Fe?Nt:Fe,sizeList:Je[de],maxBarSize:Ht}),Nt!==Fe&&(Te=Te.map(function(q){return oe(oe({},q),{},{position:oe(oe({},q.position),{},{offset:q.position.offset-Nt/2})})}))}var B=J&&J.type&&J.type.getComposedData;B&&z.push({props:oe(oe({},B(oe(oe({},ce),{},{displayedData:U,props:E,dataKey:he,item:J,bandSize:Fe,barPosition:Te,offset:T,stackedData:ge,layout:M,dataStartIndex:j,dataEndIndex:N}))),{},We(We(We({key:J.key||"item-".concat(ie)},G,ce[G]),V,ce[V]),"animationId",C)),childIndex:kZ(J,E.children),item:J})}),z},w=function(E,O){var A=E.props,P=E.dataStartIndex,T=E.dataEndIndex,C=E.updateId;if(!bN({props:A}))return null;var j=A.children,N=A.layout,D=A.stackOffset,M=A.data,R=A.reverseStackOrder,$=YD(N),F=$.numericAxisName,K=$.cateAxisName,G=Mi(j,n),V=Doe(M,G,"".concat(F,"Id"),"".concat(K,"Id"),D,R),Q=u.reduce(function(Y,he){var we="".concat(he.axisType,"Map");return oe(oe({},Y),{},We({},we,Cpe(A,oe(oe({},he),{},{graphicalItems:G,stackGroups:he.axisType===F&&V,dataStartIndex:P,dataEndIndex:T}))))},{}),z=jpe(oe(oe({},Q),{},{props:A,graphicalItems:G}),O?.legendBBox);Object.keys(Q).forEach(function(Y){Q[Y]=f(A,Q[Y],z,Y.replace("Map",""),r)});var J=Q["".concat(K,"Map")],ie=kpe(J),U=g(A,oe(oe({},Q),{},{dataStartIndex:P,dataEndIndex:T,updateId:C,graphicalItems:G,stackGroups:V,offset:z}));return oe(oe({formattedGraphicalItems:U,graphicalItems:G,offset:z,stackGroups:V},ie),Q)},x=(function(b){function E(O){var A,P,T;return dpe(this,E),T=ppe(this,E,[O]),We(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(T,"accessibilityManager",new Qhe),We(T,"handleLegendBBoxUpdate",function(C){if(C){var j=T.state,N=j.dataStartIndex,D=j.dataEndIndex,M=j.updateId;T.setState(oe({legendBBox:C},w({props:T.props,dataStartIndex:N,dataEndIndex:D,updateId:M},oe(oe({},T.state),{},{legendBBox:C}))))}}),We(T,"handleReceiveSyncEvent",function(C,j,N){if(T.props.syncId===C){if(N===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(j)}}),We(T,"handleBrushChange",function(C){var j=C.startIndex,N=C.endIndex;if(j!==T.state.dataStartIndex||N!==T.state.dataEndIndex){var D=T.state.updateId;T.setState(function(){return oe({dataStartIndex:j,dataEndIndex:N},w({props:T.props,dataStartIndex:j,dataEndIndex:N,updateId:D},T.state))}),T.triggerSyncEvent({dataStartIndex:j,dataEndIndex:N})}}),We(T,"handleMouseEnter",function(C){var j=T.getMouseInfo(C);if(j){var N=oe(oe({},j),{},{isTooltipActive:!0});T.setState(N),T.triggerSyncEvent(N);var D=T.props.onMouseEnter;rt(D)&&D(N,C)}}),We(T,"triggeredAfterMouseMove",function(C){var j=T.getMouseInfo(C),N=j?oe(oe({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(N),T.triggerSyncEvent(N);var D=T.props.onMouseMove;rt(D)&&D(N,C)}),We(T,"handleItemMouseEnter",function(C){T.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),We(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),We(T,"handleMouseMove",function(C){C.persist(),T.throttleTriggeredAfterMouseMove(C)}),We(T,"handleMouseLeave",function(C){T.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};T.setState(j),T.triggerSyncEvent(j);var N=T.props.onMouseLeave;rt(N)&&N(j,C)}),We(T,"handleOuterEvent",function(C){var j=CZ(C),N=pi(T.props,"".concat(j));if(j&&rt(N)){var D,M;/.*touch.*/i.test(j)?M=T.getMouseInfo(C.changedTouches[0]):M=T.getMouseInfo(C),N((D=M)!==null&&D!==void 0?D:{},C)}}),We(T,"handleClick",function(C){var j=T.getMouseInfo(C);if(j){var N=oe(oe({},j),{},{isTooltipActive:!0});T.setState(N),T.triggerSyncEvent(N);var D=T.props.onClick;rt(D)&&D(N,C)}}),We(T,"handleMouseDown",function(C){var j=T.props.onMouseDown;if(rt(j)){var N=T.getMouseInfo(C);j(N,C)}}),We(T,"handleMouseUp",function(C){var j=T.props.onMouseUp;if(rt(j)){var N=T.getMouseInfo(C);j(N,C)}}),We(T,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),We(T,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.handleMouseDown(C.changedTouches[0])}),We(T,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.handleMouseUp(C.changedTouches[0])}),We(T,"handleDoubleClick",function(C){var j=T.props.onDoubleClick;if(rt(j)){var N=T.getMouseInfo(C);j(N,C)}}),We(T,"handleContextMenu",function(C){var j=T.props.onContextMenu;if(rt(j)){var N=T.getMouseInfo(C);j(N,C)}}),We(T,"triggerSyncEvent",function(C){T.props.syncId!==void 0&&A_.emit(C_,T.props.syncId,C,T.eventEmitterSymbol)}),We(T,"applySyncEvent",function(C){var j=T.props,N=j.layout,D=j.syncMethod,M=T.state.updateId,R=C.dataStartIndex,$=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)T.setState(oe({dataStartIndex:R,dataEndIndex:$},w({props:T.props,dataStartIndex:R,dataEndIndex:$,updateId:M},T.state)));else if(C.activeTooltipIndex!==void 0){var F=C.chartX,K=C.chartY,G=C.activeTooltipIndex,V=T.state,Q=V.offset,z=V.tooltipTicks;if(!Q)return;if(typeof D=="function")G=D(z,C);else if(D==="value"){G=-1;for(var J=0;J<z.length;J++)if(z[J].value===C.activeLabel){G=J;break}}var ie=oe(oe({},Q),{},{x:Q.left,y:Q.top}),U=Math.min(F,ie.x+ie.width),Y=Math.min(K,ie.y+ie.height),he=z[G]&&z[G].value,we=V1(T.state,T.props.data,G),Se=z[G]?{x:N==="horizontal"?z[G].coordinate:U,y:N==="horizontal"?Y:z[G].coordinate}:MB;T.setState(oe(oe({},C),{},{activeLabel:he,activeCoordinate:Se,activePayload:we,activeTooltipIndex:G}))}else T.setState(C)}),We(T,"renderCursor",function(C){var j,N=T.state,D=N.isTooltipActive,M=N.activeCoordinate,R=N.activePayload,$=N.offset,F=N.activeTooltipIndex,K=N.tooltipAxisBandSize,G=T.getTooltipEventType(),V=(j=C.props.active)!==null&&j!==void 0?j:D,Q=T.props.layout,z=C.key||"_recharts-cursor";return W.createElement(ipe,{key:z,activeCoordinate:M,activePayload:R,activeTooltipIndex:F,chartName:r,element:C,isActive:V,layout:Q,offset:$,tooltipAxisBandSize:K,tooltipEventType:G})}),We(T,"renderPolarAxis",function(C,j,N){var D=pi(C,"type.axisType"),M=pi(T.state,"".concat(D,"Map")),R=C.type.defaultProps,$=R!==void 0?oe(oe({},R),C.props):C.props,F=M&&M[$["".concat(D,"Id")]];return S.cloneElement(C,oe(oe({},F),{},{className:dt(D,F.className),key:C.key||"".concat(j,"-").concat(N),ticks:Qu(F,!0)}))}),We(T,"renderPolarGrid",function(C){var j=C.props,N=j.radialLines,D=j.polarAngles,M=j.polarRadius,R=T.state,$=R.radiusAxisMap,F=R.angleAxisMap,K=jl($),G=jl(F),V=G.cx,Q=G.cy,z=G.innerRadius,J=G.outerRadius;return S.cloneElement(C,{polarAngles:Array.isArray(D)?D:Qu(G,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(M)?M:Qu(K,!0).map(function(ie){return ie.coordinate}),cx:V,cy:Q,innerRadius:z,outerRadius:J,key:C.key||"polar-grid",radialLines:N})}),We(T,"renderLegend",function(){var C=T.state.formattedGraphicalItems,j=T.props,N=j.children,D=j.width,M=j.height,R=T.props.margin||{},$=D-(R.left||0)-(R.right||0),F=z3({children:N,formattedGraphicalItems:C,legendWidth:$,legendContent:d});if(!F)return null;var K=F.item,G=VD(F,spe);return S.cloneElement(K,oe(oe({},G),{},{chartWidth:D,chartHeight:M,margin:R,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),We(T,"renderTooltip",function(){var C,j=T.props,N=j.children,D=j.accessibilityLayer,M=Ln(N,Ci);if(!M)return null;var R=T.state,$=R.isTooltipActive,F=R.activeCoordinate,K=R.activePayload,G=R.activeLabel,V=R.offset,Q=(C=M.props.active)!==null&&C!==void 0?C:$;return S.cloneElement(M,{viewBox:oe(oe({},V),{},{x:V.left,y:V.top}),active:Q,label:G,payload:Q?K:[],coordinate:F,accessibilityLayer:D})}),We(T,"renderBrush",function(C){var j=T.props,N=j.margin,D=j.data,M=T.state,R=M.offset,$=M.dataStartIndex,F=M.dataEndIndex,K=M.updateId;return S.cloneElement(C,{key:C.key||"_recharts-brush",onChange:dp(T.handleBrushChange,C.props.onChange),data:D,x:ke(C.props.x)?C.props.x:R.left,y:ke(C.props.y)?C.props.y:R.top+R.height+R.brushBottom-(N.bottom||0),width:ke(C.props.width)?C.props.width:R.width,startIndex:$,endIndex:F,updateId:"brush-".concat(K)})}),We(T,"renderReferenceElement",function(C,j,N){if(!C)return null;var D=T,M=D.clipPathId,R=T.state,$=R.xAxisMap,F=R.yAxisMap,K=R.offset,G=C.type.defaultProps||{},V=C.props,Q=V.xAxisId,z=Q===void 0?G.xAxisId:Q,J=V.yAxisId,ie=J===void 0?G.yAxisId:J;return S.cloneElement(C,{key:C.key||"".concat(j,"-").concat(N),xAxis:$[z],yAxis:F[ie],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:M})}),We(T,"renderActivePoints",function(C){var j=C.item,N=C.activePoint,D=C.basePoint,M=C.childIndex,R=C.isRange,$=[],F=j.props.key,K=j.item.type.defaultProps!==void 0?oe(oe({},j.item.type.defaultProps),j.item.props):j.item.props,G=K.activeDot,V=K.dataKey,Q=oe(oe({index:M,dataKey:V,cx:N.x,cy:N.y,r:4,fill:HO(j.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},et(G,!1)),lm(G));return $.push(E.renderActiveDot(G,Q,"".concat(F,"-activePoint-").concat(M))),D?$.push(E.renderActiveDot(G,oe(oe({},Q),{},{cx:D.x,cy:D.y}),"".concat(F,"-basePoint-").concat(M))):R&&$.push(null),$}),We(T,"renderGraphicChild",function(C,j,N){var D=T.filterFormatItem(C,j,N);if(!D)return null;var M=T.getTooltipEventType(),R=T.state,$=R.isTooltipActive,F=R.tooltipAxis,K=R.activeTooltipIndex,G=R.activeLabel,V=T.props.children,Q=Ln(V,Ci),z=D.props,J=z.points,ie=z.isRange,U=z.baseLine,Y=D.item.type.defaultProps!==void 0?oe(oe({},D.item.type.defaultProps),D.item.props):D.item.props,he=Y.activeDot,we=Y.hide,Se=Y.activeBar,de=Y.activeShape,le=!!(!we&&$&&Q&&(he||Se||de)),ce={};M!=="axis"&&Q&&Q.props.trigger==="click"?ce={onClick:dp(T.handleItemMouseEnter,C.props.onClick)}:M!=="axis"&&(ce={onMouseLeave:dp(T.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:dp(T.handleItemMouseEnter,C.props.onMouseEnter)});var ee=S.cloneElement(C,oe(oe({},D.props),ce));function ae(Z){return typeof F.dataKey=="function"?F.dataKey(Z.payload):null}if(le)if(K>=0){var ge,ne;if(F.dataKey&&!F.allowDuplicatedCategory){var Fe=typeof F.dataKey=="function"?ae:"payload.".concat(F.dataKey.toString());ge=jS(J,Fe,G),ne=ie&&U&&jS(U,Fe,G)}else ge=J?.[K],ne=ie&&U&&U[K];if(de||Se){var Te=C.props.activeIndex!==void 0?C.props.activeIndex:K;return[S.cloneElement(C,oe(oe(oe({},D.props),ce),{},{activeIndex:Te})),null,null]}if(!ut(ge))return[ee].concat(Ec(T.renderActivePoints({item:D,activePoint:ge,basePoint:ne,childIndex:K,isRange:ie})))}else{var Je,Ge=(Je=T.getItemByXY(T.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:ee},mt=Ge.graphicalItem,Ht=mt.item,Nt=Ht===void 0?C:Ht,B=mt.childIndex,q=oe(oe(oe({},D.props),ce),{},{activeIndex:B});return[S.cloneElement(Nt,q),null,null]}return ie?[ee,null,null]:[ee,null]}),We(T,"renderCustomized",function(C,j,N){return S.cloneElement(C,oe(oe({key:"recharts-customized-".concat(N)},T.props),T.state))}),We(T,"renderMap",{CartesianGrid:{handler:vp,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:vp},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:vp},YAxis:{handler:vp},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((A=O.id)!==null&&A!==void 0?A:Pg("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=q4(T.triggeredAfterMouseMove,(P=O.throttleDelay)!==null&&P!==void 0?P:1e3/60),T.state={},T}return vpe(E,b),hpe(E,[{key:"componentDidMount",value:function(){var A,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,P=A.children,T=A.data,C=A.height,j=A.layout,N=Ln(P,Ci);if(N){var D=N.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,R=V1(this.state,T,D,M),$=this.state.tooltipTicks[D].coordinate,F=(this.state.offset.top+C)/2,K=j==="horizontal",G=K?{x:$,y:F}:{y:$,x:F},V=this.state.formattedGraphicalItems.find(function(z){var J=z.item;return J.type.name==="Scatter"});V&&(G=oe(oe({},G),V.props.points[D].tooltipPosition),R=V.props.points[D].tooltipPayload);var Q={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:M,activePayload:R,activeCoordinate:G};this.setState(Q),this.renderCursor(N),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var T,C;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(A){RS([Ln(A.children,Ci)],[Ln(this.props.children,Ci)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Ln(this.props.children,Ci);if(A&&typeof A.props.shared=="boolean"){var P=A.props.shared?"axis":"item";return o.indexOf(P)>=0?P:s}return s}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var P=this.container,T=P.getBoundingClientRect(),C=gne(T),j={chartX:Math.round(A.pageX-C.left),chartY:Math.round(A.pageY-C.top)},N=T.width/P.offsetWidth||1,D=this.inRange(j.chartX,j.chartY,N);if(!D)return null;var M=this.state,R=M.xAxisMap,$=M.yAxisMap,F=this.getTooltipEventType(),K=KD(this.state,this.props.data,this.props.layout,D);if(F!=="axis"&&R&&$){var G=jl(R).scale,V=jl($).scale,Q=G&&G.invert?G.invert(j.chartX):null,z=V&&V.invert?V.invert(j.chartY):null;return oe(oe({},j),{},{xValue:Q,yValue:z},K)}return K?oe(oe({},j),K):null}},{key:"inRange",value:function(A,P){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,j=A/T,N=P/T;if(C==="horizontal"||C==="vertical"){var D=this.state.offset,M=j>=D.left&&j<=D.left+D.width&&N>=D.top&&N<=D.top+D.height;return M?{x:j,y:N}:null}var R=this.state,$=R.angleAxisMap,F=R.radiusAxisMap;if($&&F){var K=jl($);return o2({x:j,y:N},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,P=this.getTooltipEventType(),T=Ln(A,Ci),C={};T&&P==="axis"&&(T.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=lm(this.props,this.handleOuterEvent);return oe(oe({},j),C)}},{key:"addListener",value:function(){A_.on(C_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){A_.removeListener(C_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,P,T){for(var C=this.state.formattedGraphicalItems,j=0,N=C.length;j<N;j++){var D=C[j];if(D.item===A||D.props.key===A.key||P===vs(D.item.type)&&T===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,P=this.state.offset,T=P.left,C=P.top,j=P.height,N=P.width;return W.createElement("defs",null,W.createElement("clipPath",{id:A},W.createElement("rect",{x:T,y:C,height:j,width:N})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(P,T){var C=WD(T,2),j=C[0],N=C[1];return oe(oe({},P),{},We({},j,N.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(P,T){var C=WD(T,2),j=C[0],N=C[1];return oe(oe({},P),{},We({},j,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[A])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(A){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[A])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(A){var P=this.state,T=P.formattedGraphicalItems,C=P.activeItem;if(T&&T.length)for(var j=0,N=T.length;j<N;j++){var D=T[j],M=D.props,R=D.item,$=R.type.defaultProps!==void 0?oe(oe({},R.type.defaultProps),R.props):R.props,F=vs(R.type);if(F==="Bar"){var K=(M.data||[]).find(function(z){return Mue(A,z)});if(K)return{graphicalItem:D,payload:K}}else if(F==="RadialBar"){var G=(M.data||[]).find(function(z){return o2(A,z)});if(G)return{graphicalItem:D,payload:G}}else if(tv(D,C)||rv(D,C)||af(D,C)){var V=sfe({graphicalItem:D,activeTooltipItem:C,itemData:$.data}),Q=$.activeIndex===void 0?V:$.activeIndex;return{graphicalItem:oe(oe({},D),{},{childIndex:Q}),payload:af(D,C)?$.data[V]:D.props.data[V]}}}return null}},{key:"render",value:function(){var A=this;if(!bN(this))return null;var P=this.props,T=P.children,C=P.className,j=P.width,N=P.height,D=P.style,M=P.compact,R=P.title,$=P.desc,F=VD(P,ape),K=et(F,!1);if(M)return W.createElement(ID,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(DS,Ll({},K,{width:j,height:N,title:R,desc:$}),this.renderClipPath(),xN(T,this.renderMap)));if(this.props.accessibilityLayer){var G,V;K.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,K.role=(V=this.props.role)!==null&&V!==void 0?V:"application",K.onKeyDown=function(z){A.accessibilityManager.keyboardEvent(z)},K.onFocus=function(){A.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return W.createElement(ID,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",Ll({className:dt("recharts-wrapper",C),style:oe({position:"relative",cursor:"default",width:j,height:N},D)},Q,{ref:function(J){A.container=J}}),W.createElement(DS,Ll({},K,{width:j,height:N,title:R,desc:$,style:Spe}),this.renderClipPath(),xN(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);We(x,"displayName",r),We(x,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),We(x,"getDerivedStateFromProps",function(b,E){var O=b.dataKey,A=b.data,P=b.children,T=b.width,C=b.height,j=b.layout,N=b.stackOffset,D=b.margin,M=E.dataStartIndex,R=E.dataEndIndex;if(E.updateId===void 0){var $=GD(b);return oe(oe(oe({},$),{},{updateId:0},w(oe(oe({props:b},$),{},{updateId:0}),E)),{},{prevDataKey:O,prevData:A,prevWidth:T,prevHeight:C,prevLayout:j,prevStackOffset:N,prevMargin:D,prevChildren:P})}if(O!==E.prevDataKey||A!==E.prevData||T!==E.prevWidth||C!==E.prevHeight||j!==E.prevLayout||N!==E.prevStackOffset||!NS(D,E.prevMargin)){var F=GD(b),K={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},G=oe(oe({},KD(E,A,j)),{},{updateId:E.updateId+1}),V=oe(oe(oe({},F),K),G);return oe(oe(oe({},V),w(oe({props:b},V),E)),{},{prevDataKey:O,prevData:A,prevWidth:T,prevHeight:C,prevLayout:j,prevStackOffset:N,prevMargin:D,prevChildren:P})}if(!RS(P,E.prevChildren)){var Q,z,J,ie,U=Ln(P,bc),Y=U&&(Q=(z=U.props)===null||z===void 0?void 0:z.startIndex)!==null&&Q!==void 0?Q:M,he=U&&(J=(ie=U.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&J!==void 0?J:R,we=Y!==M||he!==R,Se=!ut(A),de=Se&&!we?E.updateId:E.updateId+1;return oe(oe({updateId:de},w(oe(oe({props:b},E),{},{updateId:de,dataStartIndex:Y,dataEndIndex:he}),E)),{},{prevChildren:P,dataStartIndex:Y,dataEndIndex:he})}return null}),We(x,"renderActiveDot",function(b,E,O){var A;return S.isValidElement(b)?A=S.cloneElement(b,E):rt(b)?A=b(E):A=W.createElement(GO,E),W.createElement(Zt,{className:"recharts-active-dot",key:O},A)});var y=S.forwardRef(function(E,O){return W.createElement(x,Ll({},E,{ref:O}))});return y.displayName=x.displayName,y},Rpe=Ipe({chartName:"PieChart",GraphicalChild:Rs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ev},{axisType:"radiusAxis",AxisComp:Jg}],formatAxisMap:Yoe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const XD=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f43f5e","#6366f1"];function Mpe({positions:t,prices:e}){const r=S.useMemo(()=>{if(!t||t.length===0)return[];let n=0;const i=t.map(u=>{const d=u.symbol.toUpperCase(),f=e[d]||u.avgPrice||0,p=(Number(u.qty)||0)*f;return n+=p,{name:d,value:p}});if(n===0)return[];i.sort((u,d)=>d.value-u.value);const s=n*.02,a=i.filter(u=>u.value>=s),o=i.filter(u=>u.value<s);if(o.length>0){const u=o.reduce((d,f)=>d+f.value,0);a.push({name:"Others",value:u})}return a},[t,e]);return r.length===0?m.jsxs(lt,{className:"dashboard-card h-full",children:[m.jsx(Ur,{children:m.jsxs(Br,{className:"flex items-center gap-2 text-base",children:[m.jsx(tP,{className:"w-4 h-4 text-primary"}),"Asset Allocation"]})}),m.jsx(ct,{className:"flex items-center justify-center h-[200px] text-muted-foreground text-sm",children:"No assets to display"})]}):m.jsxs(lt,{className:"dashboard-card h-full",children:[m.jsx(Ur,{children:m.jsxs(Br,{className:"flex items-center gap-2 text-base",children:[m.jsx(tP,{className:"w-4 h-4 text-primary"}),"Asset Allocation"]})}),m.jsx(ct,{children:m.jsx("div",{className:"h-[250px] w-full",children:m.jsx(cne,{width:"100%",height:"100%",children:m.jsxs(Rpe,{children:[m.jsx(Rs,{data:r,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",stroke:"none",children:r.map((n,i)=>m.jsx(bO,{fill:XD[i%XD.length]},`cell-${i}`))}),m.jsx(Ci,{formatter:n=>[`$${n.toLocaleString(void 0,{maximumFractionDigits:0})}`,"Value"],contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f8fafc"},itemStyle:{color:"#f8fafc"}}),m.jsx(xo,{layout:"vertical",verticalAlign:"middle",align:"right",formatter:(n,i)=>m.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:n})})]})})})})]})}function Dpe({btcChange:t,totalPnlPct:e}){const r=e>t,n=e-t;return m.jsxs(lt,{className:"dashboard-card h-full",children:[m.jsx(Ur,{children:m.jsxs(Br,{className:"flex items-center gap-2 text-base",children:[m.jsx(ZL,{className:"w-4 h-4 text-primary"}),"Performance vs Market"]})}),m.jsxs(ct,{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500/20 flex items-center justify-center text-orange-500 font-bold text-xs",children:""}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-foreground",children:"Bitcoin (24h)"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Benchmark"})]})]}),m.jsxs("div",{className:`text-sm font-bold ${t>=0?"text-accent":"text-destructive"}`,children:[t>=0?"+":"",t.toFixed(2),"%"]})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-primary/10 border border-primary/20",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold text-xs",children:"P"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-foreground",children:"Your Portfolio"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"All Time P&L"})]})]}),m.jsxs("div",{className:`text-sm font-bold ${e>=0?"text-accent":"text-destructive"}`,children:[e>=0?"+":"",e.toFixed(2),"%"]})]}),m.jsxs("div",{className:"pt-2 text-center",children:[m.jsxs("p",{className:"text-sm text-muted-foreground",children:["You are ",r?"beating":"trailing"," BTC by"," ",m.jsxs("span",{className:r?"text-accent font-bold":"text-destructive font-bold",children:[Math.abs(n).toFixed(2),"%"]})]}),m.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 opacity-70",children:"*Comparing All-Time P&L vs BTC 24h Change"})]})]})]})}function $pe(){const{user:t}=zi(),{user:e,loading:r}=ks(),{requireLogin:n}=XE(),[,i]=Ps(),a=$E()===!0,o=qi(),u=t?.uid??null,d=e?.id??null,f=d??u,p=S.useMemo(()=>yg(f??null),[f]),{data:g=[],isLoading:w,isFetching:x,isError:y,error:b}=LE({enabled:a&&(!!e||!!t)}),{prices:E,setPrices:O,getPrice:A,reset:P}=tm(),{market:T,pnl:C,pnlPct:j,cost:N}=nU(),[D,M]=S.useState(0),R=S.useMemo(()=>g.map(q=>({id:q.id,symbol:q.symbol,qty:Number(q.quantity),avgPrice:Number(q.entryPrice),livePrice:Number(q.entryPrice),pnl:0})),[g]),$=(w||x)&&R.length===0,F=y&&R.length===0,K=b instanceof Error?b.message:"Failed to load portfolio positions";S.useEffect(()=>{y&&b&&console.error("Failed to load portfolio positions",b)},[y,b]);const G=S.useCallback(async()=>{await o.invalidateQueries({queryKey:p})},[p,o]),V=S.useCallback(q=>{const Z=Number(q.qty),pe=Number(q.entry_price);return{id:q.id,symbol:q.symbol?.toUpperCase?.()??"",quantity:Number.isFinite(Z)?Z:0,entryPrice:Number.isFinite(pe)?pe:0,notes:q.note??null,createdAt:q.created_at,updatedAt:q.updated_at??q.created_at}},[]),Q=S.useCallback(async()=>{if(d)try{const Z=(await rU()).map(V);o.setQueryData(p,Z)}catch(q){console.error("Failed to reload Supabase positions",q),await G()}},[V,d,o,p,G]),z=S.useCallback(async()=>{P(),await Promise.all([G(),o.invalidateQueries({queryKey:["prices"]})])},[o,G,P]);S.useMemo(()=>Array.from(new Set(R.map(q=>q.symbol.trim().toUpperCase()).filter(Boolean))),[R]).join("|"),S.useEffect(()=>{const q=new Set(["BTCUSDT","ETHUSDT"]);Array.isArray(R)&&R.forEach(fe=>{fe.symbol&&q.add(fe.symbol.toUpperCase())});const Z=Array.from(q),pe=UE(Z,{onMessage:fe=>{const ue=fe.symbol.toUpperCase(),Oe=parseFloat(fe.lastPrice);Number.isNaN(Oe)||O({[ue]:Oe});const ze=parseFloat(fe.priceChangePercent);ue==="BTCUSDT"&&!Number.isNaN(ze)&&M(ze)},onError:fe=>console.error("WS Error:",fe)});return()=>{pe()}},[R,O]);const ie=S.useCallback((q,Z)=>{const pe=q.toUpperCase(),fe=E[pe];if(Number.isFinite(fe))return fe;const ue=A(q);return typeof ue=="number"&&Number.isFinite(ue)?ue:Z},[A,E]),{data:U}=On({queryKey:["/api/ai/market-overview"],refetchInterval:12e4,queryFn:async()=>{const q=await Ia("/api/ai/market-overview");if(!q.ok)throw new Error(await q.text().catch(()=>"Failed to load AI overview"));return q.json()},enabled:a}),[Y,he]=S.useState(!1),[we,Se]=S.useState({symbol:"",qty:"",avgPrice:""}),[de,le]=S.useState(null),ce=S.useMemo(()=>{const q=we.symbol.trim().toUpperCase(),Z=Number(we.qty),pe=Number(we.avgPrice);return q.length>=2&&Number.isFinite(Z)&&Z>0&&Number.isFinite(pe)&&pe>0},[we]),ee=kJ(),ae=PJ(),[ge,ne]=S.useState(!1),Fe=()=>{n("/portfolio")||(Se({symbol:"",qty:"",avgPrice:""}),le(null),he(!0))},Te=()=>{ge||(he(!1),le(null))};S.useEffect(()=>{if(!Y)return;const q=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=q}},[Y]);async function Je(){if(!ce||ge)return;if(!e){le("Please sign in to add a position.");return}le(null);const q=we.symbol.trim().toUpperCase(),Z=Number(we.qty),pe=Number(we.avgPrice);ne(!0);let fe=null,ue=null;try{await pY(e.id,q,Z,pe),await Q(),fe="supabase"}catch(Oe){ue=Oe,console.error("Add position via Supabase failed:",Oe);try{await ee.mutateAsync({symbol:q,quantity:Z,entryPrice:pe}),fe="fallback"}catch(ze){ue=ze,console.error("Fallback add position failed:",ze)}}if(fe)await G(),he(!1),Se({symbol:"",qty:"",avgPrice:""}),le(null);else{const Oe=ue instanceof Error?ue.message:"Failed to add position";le(Oe)}ne(!1)}async function Ge(q){if(!e)return;let Z=null;try{await mY(q.id),await Q();return}catch(pe){Z=pe,console.error("Delete via Supabase failed:",pe)}try{await ae.mutateAsync(q.id)}catch(pe){console.error("Fallback delete failed:",pe);const fe=pe instanceof Error?pe.message:Z instanceof Error?Z.message:"Failed to delete position";alert(fe)}}function mt(q){i(`/analyse/${encodeURIComponent(q)}`)}const Ht="dashboard-card neon-hover !min-h-[64px]",Nt={minHeight:64},B="!p-2 h-[64px] min-h-0 flex items-center justify-between";return m.jsxs("div",{className:"flex-1 overflow-hidden",children:[m.jsxs("div",{className:"p-4 sm:p-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground break-words",children:"Your Portfolio"}),m.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Positions, P&L, and live performance."})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[m.jsxs(it,{variant:"outline",size:"sm",onClick:z,className:"min-h-[44px]",children:[m.jsx(hg,{className:`w-4 h-4 sm:mr-2 ${x?"animate-spin":""}`}),m.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),m.jsxs(it,{size:"sm",onClick:Fe,className:"min-h-[44px]",children:[m.jsx(hb,{className:"w-4 h-4 sm:mr-2"}),m.jsx("span",{className:"hidden sm:inline",children:"Add Position"})]})]})]}),!r&&!e&&m.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Please sign in at /account"}),m.jsx("div",{className:"mb-6 hidden sm:block",children:m.jsx(CJ,{symbols:["BTCUSDT","ETHUSDT"]})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6 h-[400px]",children:[m.jsx("div",{className:"lg:col-span-2 h-full",children:m.jsx(Mpe,{positions:R,prices:E})}),m.jsx("div",{className:"h-full",children:m.jsx(Dpe,{btcChange:D,totalPnlPct:j})})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3 sm:gap-4 mb-6",children:[m.jsx(lt,{className:`${Ht} bg-gradient-to-br from-cyan-500/10 to-cyan-500/20`,style:Nt,children:m.jsx(ct,{className:B,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(fs,{className:"w-5 h-5 text-cyan-500"}),m.jsxs("div",{className:"leading-tight",children:[m.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Current Value"}),m.jsxs("div",{className:"text-base font-bold text-foreground",children:["$",T.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})}),m.jsx(lt,{className:`${Ht} bg-gradient-to-br from-blue-500/5 to-blue-500/10`,style:Nt,children:m.jsx(ct,{className:B,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(BH,{className:"w-5 h-5 text-blue-500"}),m.jsxs("div",{className:"leading-tight",children:[m.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Position Value"}),m.jsxs("div",{className:"text-base font-bold text-foreground",children:["$",N.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})}),m.jsx(lt,{className:`${Ht} bg-gradient-to-br from-emerald-500/5 to-emerald-500/10`,style:Nt,children:m.jsx(ct,{className:B,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(hS,{className:"w-5 h-5 text-emerald-600"}),m.jsxs("div",{className:"leading-tight",children:[m.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Total P&L"}),m.jsxs("div",{className:`text-base font-bold ${C>=0?"text-accent":"text-destructive"}`,children:[C>=0?"+":"","$",C.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),m.jsxs("div",{className:`text-[11px] ${j>=0?"text-accent":"text-destructive"}`,children:[j>=0?"+":"",j.toFixed(2),"%"]})]})]})})}),m.jsx(lt,{className:`${Ht} bg-gradient-to-br from-purple-500/5 to-purple-500/10`,style:Nt,children:m.jsx(ct,{className:B,children:m.jsxs("div",{className:"leading-tight",children:[m.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Positions"}),m.jsx("div",{className:"text-base font-bold text-foreground",children:R.length})]})})}),m.jsx(Wt,{href:"/ai-insights",className:"block",children:m.jsx(lt,{className:`${Ht} bg-gradient-to-br from-indigo-500/5 to-indigo-500/10 cursor-pointer`,style:Nt,children:m.jsx(ct,{className:B,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Bl,{className:"w-5 h-5 text-indigo-500"}),m.jsxs("div",{className:"leading-tight",children:[m.jsx("div",{className:"text-sm font-semibold text-foreground",children:"AI Insights"}),m.jsx("div",{className:"text-base font-bold text-foreground",children:U?.signals?.length??0})]})]})})})})]}),m.jsxs(lt,{className:"border-border",children:[m.jsxs(Ur,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 p-4 sm:p-6",children:[m.jsx(Br,{children:"Holdings"}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsx(Wt,{href:"/analyse/BTCUSDT",children:m.jsxs(it,{variant:"outline",size:"sm",className:"min-h-[44px]",children:[m.jsx(tF,{className:"w-4 h-4 sm:mr-2"}),m.jsx("span",{className:"hidden sm:inline",children:"Scan Market"})]})}),m.jsxs(it,{size:"sm",onClick:Fe,className:"min-h-[44px]",children:[m.jsx(hb,{className:"w-4 h-4 sm:mr-2"}),m.jsx("span",{className:"hidden sm:inline",children:"Add Position"})]})]})]}),m.jsx(ct,{className:"p-0 sm:p-6",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm min-w-full sm:min-w-[800px]",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-muted-foreground border-b border-border",children:[m.jsx("th",{className:"text-left py-3 px-2 sm:px-4 whitespace-nowrap",children:"COIN"}),m.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"QTY"}),m.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"ENTRY"}),m.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"CURRENT"}),m.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"ORDER"}),m.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"P&L"}),m.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"%"}),m.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"ACTIONS"})]})}),$?m.jsx("tbody",{children:m.jsx("tr",{children:m.jsx("td",{colSpan:8,className:"py-6 text-center text-muted-foreground",children:"Loading your portfolio"})})}):F?m.jsx("tbody",{children:m.jsx("tr",{children:m.jsx("td",{colSpan:8,className:"py-6 text-center text-red-400",children:K})})}):R.length===0?m.jsx("tbody",{children:m.jsx("tr",{children:m.jsx("td",{colSpan:8,className:"py-6 text-center",children:m.jsxs("div",{className:"inline-flex flex-col items-center",children:[m.jsx("p",{className:"text-foreground font-medium",children:"No positions yet"}),m.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add your first position to start tracking P&L."}),m.jsxs(it,{size:"sm",className:"mt-3",onClick:Fe,children:[m.jsx(hb,{className:"w-4 h-4 mr-2"}),"Add Position"]})]})})})}):m.jsx("tbody",{children:R.map(q=>{const Z=q.symbol.toUpperCase(),pe=ie(Z,q.livePrice??q.avgPrice),fe=Number(q.qty)||0,ue=Number(q.avgPrice)||0,Oe=Number.isFinite(pe)?pe:ue,ze=fe*ue,Ee=fe*Oe-ze,Ke=ue>0?(Oe-ue)/ue*100:0,Ne=Ee>=0?"text-accent":"text-destructive";return m.jsxs("tr",{className:"border-b border-border/50",children:[m.jsx("td",{className:"py-3 px-2 sm:px-4 font-medium text-foreground whitespace-nowrap",children:Z}),m.jsx("td",{className:"py-3 px-2 sm:px-4 text-right whitespace-nowrap text-xs sm:text-sm",children:q.qty}),m.jsxs("td",{className:"py-3 px-2 sm:px-4 text-right whitespace-nowrap text-xs sm:text-sm",children:["$",q.avgPrice.toLocaleString("en-US",{maximumFractionDigits:6})]}),m.jsxs("td",{className:"py-3 px-2 sm:px-4 text-right whitespace-nowrap text-xs sm:text-sm",children:["$",pe.toLocaleString("en-US",{maximumFractionDigits:6})]}),m.jsx("td",{className:"py-3 px-2 sm:px-4 text-right whitespace-nowrap text-xs sm:text-sm",children:fX(ze)}),m.jsxs("td",{className:`py-3 px-2 sm:px-4 text-right whitespace-nowrap text-xs sm:text-sm ${Ne}`,children:[Ee>=0?"+":"-","$",Math.abs(Ee).toLocaleString("en-US",{maximumFractionDigits:2})]}),m.jsxs("td",{className:`py-3 px-2 sm:px-4 text-right whitespace-nowrap text-xs sm:text-sm ${Ne}`,children:[Ke>=0?"+":"-",Math.abs(Ke).toFixed(2),"%"]}),m.jsx("td",{className:"py-3 px-2 sm:px-4 text-right whitespace-nowrap",children:m.jsxs("div",{className:"inline-flex items-center gap-1 sm:gap-2",children:[m.jsxs(it,{size:"sm",variant:"outline",onClick:()=>mt(Z),title:"Scan",className:"hidden sm:inline-flex",children:[m.jsx(Sd,{className:"w-4 h-4 mr-1"})," Scan"]}),m.jsx(it,{size:"sm",variant:"outline",onClick:()=>mt(Z),title:"Scan",className:"inline-flex sm:hidden min-h-[36px]",children:m.jsx(Sd,{className:"w-4 h-4"})}),e&&m.jsx(it,{size:"sm",variant:"destructive",onClick:()=>Ge(q),title:"Delete",className:"min-h-[36px]",children:m.jsx(QH,{className:"w-4 h-4"})})]})})]},q.id)})})]})})})]})]}),Y&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[m.jsx("div",{className:"absolute inset-0 bg-black/80",onClick:Te}),m.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-2xl border border-white/10 bg-[#0f1526] shadow-2xl max-h-[90vh] overflow-y-auto",children:[m.jsxs("div",{className:"p-5 border-b border-white/10 flex items-center justify-between",children:[m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Add Position"}),m.jsx("button",{className:"p-1 rounded-md hover:bg-white/5",onClick:Te,"aria-label":"Close",children:m.jsx(e9,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-5",children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Symbol (e.g., BTCUSDT)"}),m.jsx("input",{className:"mt-1 w-full rounded-md bg-[#12182a] border border-white/10 px-3 py-2 text-foreground outline-none",placeholder:"BTCUSDT",value:we.symbol,onChange:q=>Se(Z=>({...Z,symbol:q.target.value})),autoComplete:"off"}),m.jsx("label",{className:"text-sm text-muted-foreground mt-4 block",children:"Quantity"}),m.jsx("input",{type:"number",min:"0",step:"any",className:"mt-1 w-full rounded-md bg-[#12182a] border border-white/10 px-3 py-2 text-foreground outline-none",placeholder:"e.g., 0.5",value:we.qty,onChange:q=>Se(Z=>({...Z,qty:q.target.value})),autoComplete:"off"}),m.jsx("label",{className:"text-sm text-muted-foreground mt-4 block",children:"Average Entry Price (USDT)"}),m.jsx("input",{type:"number",min:"0",step:"any",className:"mt-1 w-full rounded-md bg-[#12182a] border border-white/10 px-3 py-2 text-foreground outline-none",placeholder:"e.g., 42000",value:we.avgPrice,onChange:q=>Se(Z=>({...Z,avgPrice:q.target.value})),autoComplete:"off"}),de&&m.jsx("div",{className:"mt-4 rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-sm text-red-300",children:de}),m.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[m.jsx(it,{variant:"outline",onClick:Te,disabled:ge,children:"Cancel"}),m.jsx(it,{onClick:Je,disabled:!ce||ge,children:ge?"Saving":"Add Position"})]}),m.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:["Tip: Use Binance spot symbols like ",m.jsx("span",{className:"font-mono",children:"BTCUSDT"}),","," ",m.jsx("span",{className:"font-mono",children:"ETHUSDT"}),"."]})]})]})]})]})}function ZO({className:t,...e}){return m.jsx("div",{className:ht("animate-pulse rounded-md bg-muted",t),...e})}function eT(t){t.startsWith("#/")?window.location.hash=t.slice(1):window.location.assign(t)}const $B=new Intl.NumberFormat("en-US",{notation:"compact"}),P_="gainers_data_cache",j_="gainers_data_timestamp",Xm=t=>t.endsWith("USDT")?t.slice(0,-4):t,ss=t=>{const e=Number(t);return Number.isFinite(e)?e:0};function LB(t){return t===null?"":t===0?"$0":`$${(t>=1?t.toFixed(2):t.toFixed(6)).replace(/\.0+$/,"").replace(/(\.\d*?)0+$/,"$1")}`}function Lpe(){return m.jsxs("main",{className:"p-4 text-foreground",children:[m.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"All Top Gainers"}),m.jsx("div",{className:"rounded-xl border border-border bg-card",children:m.jsx("div",{className:"space-y-2 p-6",children:Array.from({length:8}).map((t,e)=>m.jsx(ZO,{className:"h-12 w-full rounded-lg bg-muted"},e))})})]})}function Fpe({index:t,symbol:e,name:r,change24h:n,price:i,volume:s,onAnalyse:a}){const o=Number.isFinite(n)?n:0,u=o>=0,d=s===null?"":`$${$B.format(s)}`;return m.jsxs("tr",{className:"hidden border-t border-border md:table-row hover:bg-muted/30 transition-colors",children:[m.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-muted-foreground",children:t+1}),m.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"font-medium",children:Xm(e)}),r&&r!==e?m.jsx("span",{className:"text-xs text-muted-foreground",children:Xm(r)}):null]})}),m.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right font-semibold",children:LB(i)}),m.jsxs("td",{className:`whitespace-nowrap px-4 py-3 text-right font-semibold ${u?"text-accent":"text-destructive"}`,children:[u?"+":"",o.toFixed(2),"%"]}),m.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right text-muted-foreground",children:d}),m.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right",children:m.jsx("button",{type:"button",onClick:()=>a(e),className:"inline-block rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 active:bg-primary/80 px-3 py-2 font-medium transition-all",children:"Analyse"})})]})}function Upe({index:t,symbol:e,name:r,change24h:n,price:i,volume:s,onAnalyse:a}){const o=Number.isFinite(n)?n:0,u=o>=0,d=s===null?"":`$${$B.format(s)}`;return m.jsxs("div",{className:"md:hidden flex flex-col gap-3 rounded-lg border border-border bg-card p-4 hover:bg-card/80 transition-colors",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"font-semibold text-foreground",children:Xm(e)}),r&&r!==e?m.jsx("span",{className:"text-xs text-muted-foreground",children:Xm(r)}):null]}),m.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",t+1]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:"Price"}),m.jsx("p",{className:"font-semibold text-foreground",children:LB(i)})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:"24h Change"}),m.jsxs("p",{className:`font-semibold ${u?"text-accent":"text-destructive"}`,children:[u?"+":"",o.toFixed(2),"%"]})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:"Volume"}),m.jsx("p",{className:"font-semibold text-muted-foreground",children:d})]})]}),m.jsx("button",{type:"button",onClick:()=>a(e),className:"w-full rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 active:bg-primary/80 px-4 py-3 font-medium transition-all",children:"Analyse"})]})}function Bpe(){const[t,e]=S.useState(null),[r,n]=S.useState(!0),[i,s]=S.useState(null),[a,o]=S.useState(null),[u,d]=S.useState(!1),{requireLogin:f}=XE(),p=y=>{f("/gainers")||eT(`#/analyse/${y}`)},g=y=>y.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),w=async(y=!1)=>{y?d(!0):n(!0),s(null);try{const b=await fetch("/api/market/gainers");if(!b.ok)throw new Error(`Backend HTTP ${b.status}`);const E=await b.json(),O=Array.isArray(E)?E:E?.rows;if(!Array.isArray(O))throw new Error("Invalid response format");const A=O.map(T=>({symbol:T.symbol||"",name:T.symbol||"",price:ss(T.price),change24h:ss(T.changePct),volumeUSDT:ss(T.volume)})).filter(T=>T.symbol).slice(0,20);A.length===0&&s("No gainers data available.");const P=new Date;e(A),o(P),localStorage.setItem(P_,JSON.stringify(A)),localStorage.setItem(j_,P.toISOString())}catch(b){console.error("[Gainers] Fetch error:",b?.message),s(b?.message||"Failed to load gainers.")}finally{n(!1),d(!1)}};S.useEffect(()=>{const y=localStorage.getItem(P_),b=localStorage.getItem(j_);if(y&&b)try{e(JSON.parse(y)),o(new Date(b)),n(!1),fetch("/api/market/gainers").then(E=>E.json()).then(E=>{const O=Array.isArray(E)?E:E?.rows;if(Array.isArray(O)){const A=O.map(T=>({symbol:T.symbol||"",name:T.symbol||"",price:ss(T.price),change24h:ss(T.changePct),volumeUSDT:ss(T.volume)})).filter(T=>T.symbol).slice(0,20),P=new Date;e(A),o(P),localStorage.setItem(P_,JSON.stringify(A)),localStorage.setItem(j_,P.toISOString())}}).catch(()=>{});return}catch{}w(!1)},[]),S.useEffect(()=>{const y=10+Math.random()*5,b=y*60*1e3;console.log(`[Gainers] Auto-refresh configured for ${y.toFixed(1)} minutes`);const E=setInterval(()=>{console.log("[Gainers]  Auto-refreshing data now..."),w(!0)},b);return()=>{console.log("[Gainers] Auto-refresh cleared on unmount"),clearInterval(E)}},[]);const x=S.useMemo(()=>Array.isArray(t)?t.map(y=>{const b=String(y?.symbol??"");if(!b)return null;const E=y?.price,O=y?.volumeUSDT??y?.volume;return{symbol:b,name:y?.name??b,price:E==null?null:ss(E),change24h:ss(y?.change24h),volume:O==null?null:ss(O)}}).filter(y=>!!y):[],[t]);return r?m.jsx(Lpe,{}):i&&!x.length?m.jsx("div",{className:"text-sm text-destructive p-4",children:i}):x.length?m.jsxs("main",{className:"w-full max-w-full overflow-x-hidden text-foreground px-3 sm:px-4 md:px-6 py-4",children:[m.jsxs("div",{className:"mb-6 flex items-center justify-between gap-3",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-base font-semibold md:text-lg",children:"Top Gainers"}),a&&m.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last updated: ",g(a)]})]}),m.jsxs("button",{onClick:()=>w(!0),disabled:u,className:"flex items-center gap-2 border-2 border-primary text-primary bg-transparent hover:bg-primary/10 active:bg-primary/20 rounded-lg px-3 py-1.5 text-sm font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]",children:[m.jsx(hg,{size:16,className:u?"animate-spin":""}),m.jsx("span",{className:"hidden sm:inline",children:u?"Refreshing":"Refresh"})]})]}),m.jsx("div",{className:"hidden md:block overflow-hidden rounded-xl border border-border bg-card",children:m.jsx("div",{className:"h-[78vh] overflow-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"sticky top-0 z-10 bg-muted/50 text-muted-foreground backdrop-blur",children:m.jsxs("tr",{className:"border-b border-border",children:[m.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left font-semibold",children:"Rank"}),m.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left font-semibold",children:"Symbol"}),m.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-right font-semibold",children:"Price"}),m.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-right font-semibold",children:"24h Change"}),m.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-right font-semibold",children:"Volume"}),m.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-right font-semibold",children:"Quick Analysis"})]})}),m.jsx("tbody",{children:x.map((y,b)=>m.jsx(Fpe,{index:b,symbol:y.symbol,name:y.name,change24h:y.change24h,price:y.price,volume:y.volume,onAnalyse:p},`${y.symbol}-${b}`))})]})})}),m.jsx("div",{className:"md:hidden space-y-3",children:x.map((y,b)=>m.jsx(Upe,{index:b,symbol:y.symbol,name:y.name,change24h:y.change24h,price:y.price,volume:y.volume,onAnalyse:p},`${y.symbol}-${b}`))})]}):m.jsx("div",{children:"No gainers data available"})}const QD="https://s3.tradingview.com/tv.js";let Lu=null;const qpe=()=>typeof window>"u"?Promise.reject(new Error("TradingView requires a browser environment")):window.TradingView?Promise.resolve(window.TradingView):(Lu||(Lu=new Promise((t,e)=>{const r=(d,f,p)=>{d.removeEventListener("load",f),d.removeEventListener("error",p)},n=()=>{window.TradingView?t(window.TradingView):(Lu=null,e(new Error("TradingView script loaded but API is unavailable")))},i=d=>{Lu=null,e(d)},s=document.querySelector(`script[src="${QD}"]`);if(s){s.addEventListener("load",n,{once:!0}),s.addEventListener("error",i,{once:!0});return}const a=document.createElement("script");a.src=QD,a.async=!0;const o=()=>{r(a,o,u),n()},u=d=>{r(a,o,u),i(d)};a.addEventListener("load",o),a.addEventListener("error",u),document.head.appendChild(a)})),Lu),_l=t=>(t||"").toString().trim().toUpperCase().split(":").pop().replace(/\s+/g,""),JD=t=>{const e=(t||"").toLowerCase(),r={"15m":"15","30m":"30","45m":"45","1h":"60","2h":"120","3h":"180","4h":"240","6h":"360","8h":"480","12h":"720","1d":"D","1day":"D","1w":"W","1m":"M"};return e==="1day"?"D":e==="1w"?"W":e==="1m"?"M":r[e]??"240"};function zpe({symbol:t="BTCUSDT",timeframe:e="4h"}){const r=S.useRef(null),n=S.useRef(null),i=S.useRef(null),s=S.useRef(!1),a=S.useRef(null),o=S.useRef(null),u=S.useRef(null),d=S.useRef(_l(t)),f=S.useRef(e),p=S.useRef(`tv-chart-${Math.random().toString(36).slice(2)}`),[g,w]=S.useState(!1),x=S.useCallback((E,O)=>{const A=i.current;if(!A||typeof A.activeChart!="function")return!1;try{return A.activeChart().setSymbol(`BINANCE:${E}`,JD(O),()=>{}),!0}catch(P){return console.error("[TVChart] failed to set symbol",P),!1}},[]),y=S.useRef(x);S.useEffect(()=>{y.current=x},[x]);const b=S.useCallback((E,O)=>{const A=_l(E||d.current||t||"BTCUSDT");if(!A)return;const C=`${O??f.current??e??"4h"}`.trim()||"4h";if(d.current=A,f.current=C,!s.current){a.current={symbol:A,timeframe:C};return}x(A,C)?a.current=null:a.current={symbol:A,timeframe:C}},[x,t,e]);return S.useEffect(()=>{d.current=_l(t),f.current=e,b(t,e)},[t,e,b]),S.useEffect(()=>{if(typeof window>"u")return;let E=!1;return qpe().then(()=>{if(E||!n.current||!window.TradingView)return;const O=n.current;O.innerHTML="",s.current=!1;const A=_l(d.current||t||"BTCUSDT")||"BTCUSDT",P=f.current||e||"4h";d.current=A,f.current=P;try{i.current?.remove?.()}catch{}const T=new window.TradingView.widget({container_id:p.current,symbol:`BINANCE:${A}`,interval:JD(P),theme:"dark",autosize:!0,timezone:"Etc/UTC",hide_side_toolbar:!1,hide_top_toolbar:!1,withdateranges:!0,details:!1,allow_symbol_change:!0,studies:["RSI@tv-basicstudies"]});if(i.current=T,T.onChartReady?.(()=>{if(E)return;s.current=!0,w(!0);const C=a.current,j=C?.symbol??d.current,N=C?.timeframe??f.current;j&&N&&y.current(j,N)&&(a.current=null)}),typeof ResizeObserver<"u"){try{o.current?.disconnect()}catch{}const C=new ResizeObserver(()=>{try{i.current?.resize?.()}catch{}});o.current=C;const j=r.current??n.current;j&&C.observe(j)}}).catch(O=>console.error("[TVChart] load error",O)),()=>{E=!0;try{o.current?.disconnect()}catch{}o.current=null;try{i.current?.remove?.()}catch{}i.current=null,s.current=!1,a.current=null,n.current&&(n.current.innerHTML="")}},[]),S.useEffect(()=>{if(typeof window>"u")return;const E=(O,A)=>{try{const P=_l(O);if(!P)return;const T=A&&`${A}`.trim()?A:f.current||e||"4h";b(P,T)}catch{}};return window.__tvSet=E,()=>{window.__tvSet===E&&(window.__tvSet=void 0)}},[b,e]),S.useEffect(()=>{const E=O=>{const{symbol:A,timeframe:P}=O.detail||{};A&&P&&b(A,P)};return window.addEventListener("tv:update",E),()=>{window.removeEventListener("tv:update",E)}},[b]),S.useEffect(()=>{if(typeof window>"u"||typeof window.fetch!="function"||u.current)return;let E=!1;const O=window.fetch.bind(window),A=async T=>{try{const[C,j]=T;let N,D=j?.method,M=null,R=j?.body??null;if(C instanceof Request)N=C.url,D=C.method||D,M=C.clone(),R=R??null;else if(typeof C=="string"||C instanceof URL)N=C.toString();else if(C&&typeof C=="object"&&"url"in C){const V=C.url;typeof V=="string"&&(N=V)}if(!N||!N.includes("/api/scan"))return{matched:!1};let $,F;try{const V=new URL(N,window.location.origin);$=V.searchParams.get("symbol")??V.searchParams.get("pair")??void 0,F=V.searchParams.get("tf")??V.searchParams.get("timeframe")??void 0}catch{}const K=(D||(R?"POST":"GET")).toUpperCase(),G=async V=>{if(V){try{const Q=JSON.parse(V);if(Q&&typeof Q=="object"){const z=Q;$=z.symbol??z.pair??$,F=z.tf??z.timeframe??z.interval??F}return}catch{}try{const Q=new URLSearchParams(V);$=$??Q.get("symbol")??Q.get("pair")??void 0,F=F??Q.get("tf")??Q.get("timeframe")??void 0}catch{}}};if(K!=="GET"){if(M)try{const V=await M.text();await G(V)}catch{}else if(R){if(typeof R=="string")await G(R);else if(typeof URLSearchParams<"u"&&R instanceof URLSearchParams)await G(R.toString());else if(typeof FormData<"u"&&R instanceof FormData){const V=[];R.forEach((Q,z)=>{typeof Q=="string"&&V.push(`${encodeURIComponent(z)}=${encodeURIComponent(Q)}`)}),V.length>0&&await G(V.join("&"))}}}return{matched:!0,symbol:$,timeframe:F}}catch{return{matched:!1}}},P=(...T)=>(A(T).then(({matched:j,symbol:N,timeframe:D})=>{if(!j||E||!N)return;const M=_l(N);if(!M)return;const R=D!=null?`${D}`:void 0,$=R&&R.trim()?R.trim():void 0;b(M,$),window.dispatchEvent(new CustomEvent("tv:update",{detail:{symbol:M,timeframe:$}}))}).catch(()=>{}),O(...T));return window.fetch=P,u.current=()=>{window.fetch=O},()=>{E=!0;try{u.current?.()}catch{}u.current=null}},[b]),m.jsxs("div",{ref:r,className:"h-[560px] w-full md:h-[620px] relative",children:[!g&&m.jsx("div",{className:"absolute inset-0 bg-slate-900/40 animate-pulse flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-12 h-12 bg-slate-700/60 rounded-lg mx-auto mb-2 animate-pulse"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Loading chart..."})]})}),m.jsx("div",{id:p.current,ref:n,className:"h-full w-full"})]})}const tT=S.forwardRef(({className:t,type:e,...r},n)=>m.jsx("input",{type:e,className:ht("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));tT.displayName="Input";function ZD(t,[e,r]){return Math.min(r,Math.max(e,t))}function Et(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function $f(t,e=[]){let r=[];function n(s,a){const o=S.createContext(a),u=r.length;r=[...r,a];const d=p=>{const{scope:g,children:w,...x}=p,y=g?.[t]?.[u]||o,b=S.useMemo(()=>x,Object.values(x));return m.jsx(y.Provider,{value:b,children:w})};d.displayName=s+"Provider";function f(p,g){const w=g?.[t]?.[u]||o,x=S.useContext(w);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=r.map(a=>S.createContext(a));return function(o){const u=o?.[t]||s;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:u}}),[o,u])}};return i.scopeName=t,[n,Wpe(i,...e)]}function Wpe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:u,scopeName:d})=>{const p=u(s)[`__scope${d}`];return{...o,...p}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function FB(t){const e=t+"CollectionProvider",[r,n]=$f(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:b,children:E}=y,O=W.useRef(null),A=W.useRef(new Map).current;return m.jsx(i,{scope:b,itemMap:A,collectionRef:O,children:E})};a.displayName=e;const o=t+"CollectionSlot",u=Ad(o),d=W.forwardRef((y,b)=>{const{scope:E,children:O}=y,A=s(o,E),P=br(b,A.collectionRef);return m.jsx(u,{ref:P,children:O})});d.displayName=o;const f=t+"CollectionItemSlot",p="data-radix-collection-item",g=Ad(f),w=W.forwardRef((y,b)=>{const{scope:E,children:O,...A}=y,P=W.useRef(null),T=br(b,P),C=s(f,E);return W.useEffect(()=>(C.itemMap.set(P,{ref:P,...A}),()=>void C.itemMap.delete(P))),m.jsx(g,{[p]:"",ref:T,children:O})});w.displayName=f;function x(y){const b=s(t+"CollectionConsumer",y);return W.useCallback(()=>{const O=b.collectionRef.current;if(!O)return[];const A=Array.from(O.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((C,j)=>A.indexOf(C.ref.current)-A.indexOf(j.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:d,ItemSlot:w},x,n]}var Vpe=S.createContext(void 0);function rT(t){const e=S.useContext(Vpe);return t||e||"ltr"}var Hpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jt=Hpe.reduce((t,e)=>{const r=Ad(`Primitive.${e}`),n=S.forwardRef((i,s)=>{const{asChild:a,...o}=i,u=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(u,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Kpe(t,e){t&&qn.flushSync(()=>t.dispatchEvent(e))}function Ta(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...r)=>e.current?.(...r),[])}function Gpe(t,e=globalThis?.document){const r=Ta(t);S.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Ype="DismissableLayer",H1="dismissableLayer.update",Xpe="dismissableLayer.pointerDownOutside",Qpe="dismissableLayer.focusOutside",e$,UB=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),BB=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...u}=t,d=S.useContext(UB),[f,p]=S.useState(null),g=f?.ownerDocument??globalThis?.document,[,w]=S.useState({}),x=br(e,j=>p(j)),y=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(b),O=f?y.indexOf(f):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,P=O>=E,T=eme(j=>{const N=j.target,D=[...d.branches].some(M=>M.contains(N));!P||D||(i?.(j),a?.(j),j.defaultPrevented||o?.())},g),C=tme(j=>{const N=j.target;[...d.branches].some(M=>M.contains(N))||(s?.(j),a?.(j),j.defaultPrevented||o?.())},g);return Gpe(j=>{O===d.layers.size-1&&(n?.(j),!j.defaultPrevented&&o&&(j.preventDefault(),o()))},g),S.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(e$=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),t$(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=e$)}},[f,g,r,d]),S.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),t$())},[f,d]),S.useEffect(()=>{const j=()=>w({});return document.addEventListener(H1,j),()=>document.removeEventListener(H1,j)},[]),m.jsx(jt.div,{...u,ref:x,style:{pointerEvents:A?P?"auto":"none":void 0,...t.style},onFocusCapture:Et(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Et(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Et(t.onPointerDownCapture,T.onPointerDownCapture)})});BB.displayName=Ype;var Jpe="DismissableLayerBranch",Zpe=S.forwardRef((t,e)=>{const r=S.useContext(UB),n=S.useRef(null),i=br(e,n);return S.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),m.jsx(jt.div,{...t,ref:i})});Zpe.displayName=Jpe;function eme(t,e=globalThis?.document){const r=Ta(t),n=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let u=function(){qB(Xpe,r,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function tme(t,e=globalThis?.document){const r=Ta(t),n=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!n.current&&qB(Qpe,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function t$(){const t=new CustomEvent(H1);document.dispatchEvent(t)}function qB(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Kpe(i,s):i.dispatchEvent(s)}var N_=0;function rme(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??r$()),document.body.insertAdjacentElement("beforeend",t[1]??r$()),N_++,()=>{N_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),N_--}},[])}function r$(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var I_="focusScope.autoFocusOnMount",R_="focusScope.autoFocusOnUnmount",n$={bubbles:!1,cancelable:!0},nme="FocusScope",zB=S.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,u]=S.useState(null),d=Ta(i),f=Ta(s),p=S.useRef(null),g=br(e,y=>u(y)),w=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let y=function(A){if(w.paused||!o)return;const P=A.target;o.contains(P)?p.current=P:aa(p.current,{select:!0})},b=function(A){if(w.paused||!o)return;const P=A.relatedTarget;P!==null&&(o.contains(P)||aa(p.current,{select:!0}))},E=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&aa(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const O=new MutationObserver(E);return o&&O.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),O.disconnect()}}},[n,o,w.paused]),S.useEffect(()=>{if(o){s$.add(w);const y=document.activeElement;if(!o.contains(y)){const E=new CustomEvent(I_,n$);o.addEventListener(I_,d),o.dispatchEvent(E),E.defaultPrevented||(ime(cme(WB(o)),{select:!0}),document.activeElement===y&&aa(o))}return()=>{o.removeEventListener(I_,d),setTimeout(()=>{const E=new CustomEvent(R_,n$);o.addEventListener(R_,f),o.dispatchEvent(E),E.defaultPrevented||aa(y??document.body,{select:!0}),o.removeEventListener(R_,f),s$.remove(w)},0)}}},[o,d,f,w]);const x=S.useCallback(y=>{if(!r&&!n||w.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(b&&E){const O=y.currentTarget,[A,P]=sme(O);A&&P?!y.shiftKey&&E===P?(y.preventDefault(),r&&aa(A,{select:!0})):y.shiftKey&&E===A&&(y.preventDefault(),r&&aa(P,{select:!0})):E===O&&y.preventDefault()}},[r,n,w.paused]);return m.jsx(jt.div,{tabIndex:-1,...a,ref:g,onKeyDown:x})});zB.displayName=nme;function ime(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(aa(n,{select:e}),document.activeElement!==r)return}function sme(t){const e=WB(t),r=i$(e,t),n=i$(e.reverse(),t);return[r,n]}function WB(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function i$(t,e){for(const r of t)if(!ame(r,{upTo:e}))return r}function ame(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ome(t){return t instanceof HTMLInputElement&&"select"in t}function aa(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&ome(t)&&e&&t.select()}}var s$=lme();function lme(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=a$(t,e),t.unshift(e)},remove(e){t=a$(t,e),t[0]?.resume()}}}function a$(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function cme(t){return t.filter(e=>e.tagName!=="A")}var qr=globalThis?.document?S.useLayoutEffect:()=>{},ume=fE[" useId ".trim().toString()]||(()=>{}),dme=0;function Lf(t){const[e,r]=S.useState(ume());return qr(()=>{r(n=>n??String(dme++))},[t]),t||(e?`radix-${e}`:"")}const fme=["top","right","bottom","left"],Aa=Math.min,xn=Math.max,Qm=Math.round,yp=Math.floor,Li=t=>({x:t,y:t}),hme={left:"right",right:"left",bottom:"top",top:"bottom"},pme={start:"end",end:"start"};function K1(t,e,r){return xn(t,Aa(e,r))}function Ts(t,e){return typeof t=="function"?t(e):t}function As(t){return t.split("-")[0]}function Wc(t){return t.split("-")[1]}function nT(t){return t==="x"?"y":"x"}function iT(t){return t==="y"?"height":"width"}const mme=new Set(["top","bottom"]);function Ni(t){return mme.has(As(t))?"y":"x"}function sT(t){return nT(Ni(t))}function gme(t,e,r){r===void 0&&(r=!1);const n=Wc(t),i=sT(t),s=iT(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Jm(a)),[a,Jm(a)]}function vme(t){const e=Jm(t);return[G1(t),e,G1(e)]}function G1(t){return t.replace(/start|end/g,e=>pme[e])}const o$=["left","right"],l$=["right","left"],yme=["top","bottom"],bme=["bottom","top"];function wme(t,e,r){switch(t){case"top":case"bottom":return r?e?l$:o$:e?o$:l$;case"left":case"right":return e?yme:bme;default:return[]}}function xme(t,e,r,n){const i=Wc(t);let s=wme(As(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(G1)))),s}function Jm(t){return t.replace(/left|right|bottom|top/g,e=>hme[e])}function _me(t){return{top:0,right:0,bottom:0,left:0,...t}}function VB(t){return typeof t!="number"?_me(t):{top:t,right:t,bottom:t,left:t}}function Zm(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function c$(t,e,r){let{reference:n,floating:i}=t;const s=Ni(e),a=sT(e),o=iT(a),u=As(e),d=s==="y",f=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,g=n[o]/2-i[o]/2;let w;switch(u){case"top":w={x:f,y:n.y-i.height};break;case"bottom":w={x:f,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:p};break;case"left":w={x:n.x-i.width,y:p};break;default:w={x:n.x,y:n.y}}switch(Wc(e)){case"start":w[a]-=g*(r&&d?-1:1);break;case"end":w[a]+=g*(r&&d?-1:1);break}return w}const Sme=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:p}=c$(d,n,u),g=n,w={},x=0;for(let y=0;y<o.length;y++){const{name:b,fn:E}=o[y],{x:O,y:A,data:P,reset:T}=await E({x:f,y:p,initialPlacement:n,placement:g,strategy:i,middlewareData:w,rects:d,platform:a,elements:{reference:t,floating:e}});f=O??f,p=A??p,w={...w,[b]:{...w[b],...P}},T&&x<=50&&(x++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(d=T.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:f,y:p}=c$(d,g,u)),y=-1)}return{x:f,y:p,placement:g,strategy:i,middlewareData:w}};async function df(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:w=0}=Ts(e,t),x=VB(w),b=o[g?p==="floating"?"reference":"floating":p],E=Zm(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:d,rootBoundary:f,strategy:u})),O=p==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),P=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},T=Zm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:O,offsetParent:A,strategy:u}):O);return{top:(E.top-T.top+x.top)/P.y,bottom:(T.bottom-E.bottom+x.bottom)/P.y,left:(E.left-T.left+x.left)/P.x,right:(T.right-E.right+x.right)/P.x}}const Eme=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:a,elements:o,middlewareData:u}=e,{element:d,padding:f=0}=Ts(t,e)||{};if(d==null)return{};const p=VB(f),g={x:r,y:n},w=sT(i),x=iT(w),y=await a.getDimensions(d),b=w==="y",E=b?"top":"left",O=b?"bottom":"right",A=b?"clientHeight":"clientWidth",P=s.reference[x]+s.reference[w]-g[w]-s.floating[x],T=g[w]-s.reference[w],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let j=C?C[A]:0;(!j||!await(a.isElement==null?void 0:a.isElement(C)))&&(j=o.floating[A]||s.floating[x]);const N=P/2-T/2,D=j/2-y[x]/2-1,M=Aa(p[E],D),R=Aa(p[O],D),$=M,F=j-y[x]-R,K=j/2-y[x]/2+N,G=K1($,K,F),V=!u.arrow&&Wc(i)!=null&&K!==G&&s.reference[x]/2-(K<$?M:R)-y[x]/2<0,Q=V?K<$?K-$:K-F:0;return{[w]:g[w]+Q,data:{[w]:G,centerOffset:K-G-Q,...V&&{alignmentOffset:Q}},reset:V}}}),Ome=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...b}=Ts(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const E=As(i),O=Ni(o),A=As(o)===o,P=await(u.isRTL==null?void 0:u.isRTL(d.floating)),T=g||(A||!y?[Jm(o)]:vme(o)),C=x!=="none";!g&&C&&T.push(...xme(o,y,x,P));const j=[o,...T],N=await df(e,b),D=[];let M=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&D.push(N[E]),p){const K=gme(i,a,P);D.push(N[K[0]],N[K[1]])}if(M=[...M,{placement:i,overflows:D}],!D.every(K=>K<=0)){var R,$;const K=(((R=s.flip)==null?void 0:R.index)||0)+1,G=j[K];if(G&&(!(p==="alignment"?O!==Ni(G):!1)||M.every(z=>Ni(z.placement)===O?z.overflows[0]>0:!0)))return{data:{index:K,overflows:M},reset:{placement:G}};let V=($=M.filter(Q=>Q.overflows[0]<=0).sort((Q,z)=>Q.overflows[1]-z.overflows[1])[0])==null?void 0:$.placement;if(!V)switch(w){case"bestFit":{var F;const Q=(F=M.filter(z=>{if(C){const J=Ni(z.placement);return J===O||J==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(J=>J>0).reduce((J,ie)=>J+ie,0)]).sort((z,J)=>z[1]-J[1])[0])==null?void 0:F[0];Q&&(V=Q);break}case"initialPlacement":V=o;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function u$(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function d$(t){return fme.some(e=>t[e]>=0)}const Tme=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Ts(t,e);switch(n){case"referenceHidden":{const s=await df(e,{...i,elementContext:"reference"}),a=u$(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:d$(a)}}}case"escaped":{const s=await df(e,{...i,altBoundary:!0}),a=u$(s,r.floating);return{data:{escapedOffsets:a,escaped:d$(a)}}}default:return{}}}}},HB=new Set(["left","top"]);async function Ame(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=As(r),o=Wc(r),u=Ni(r)==="y",d=HB.has(a)?-1:1,f=s&&u?-1:1,p=Ts(e,t);let{mainAxis:g,crossAxis:w,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof x=="number"&&(w=o==="end"?x*-1:x),u?{x:w*f,y:g*d}:{x:g*d,y:w*f}}const Cme=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=e,u=await Ame(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}},kme=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:E,y:O}=b;return{x:E,y:O}}},...u}=Ts(t,e),d={x:r,y:n},f=await df(e,u),p=Ni(As(i)),g=nT(p);let w=d[g],x=d[p];if(s){const b=g==="y"?"top":"left",E=g==="y"?"bottom":"right",O=w+f[b],A=w-f[E];w=K1(O,w,A)}if(a){const b=p==="y"?"top":"left",E=p==="y"?"bottom":"right",O=x+f[b],A=x-f[E];x=K1(O,x,A)}const y=o.fn({...e,[g]:w,[p]:x});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[g]:s,[p]:a}}}}}},Pme=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:u=!0,crossAxis:d=!0}=Ts(t,e),f={x:r,y:n},p=Ni(i),g=nT(p);let w=f[g],x=f[p];const y=Ts(o,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const A=g==="y"?"height":"width",P=s.reference[g]-s.floating[A]+b.mainAxis,T=s.reference[g]+s.reference[A]-b.mainAxis;w<P?w=P:w>T&&(w=T)}if(d){var E,O;const A=g==="y"?"width":"height",P=HB.has(As(i)),T=s.reference[p]-s.floating[A]+(P&&((E=a.offset)==null?void 0:E[p])||0)+(P?0:b.crossAxis),C=s.reference[p]+s.reference[A]+(P?0:((O=a.offset)==null?void 0:O[p])||0)-(P?b.crossAxis:0);x<T?x=T:x>C&&(x=C)}return{[g]:w,[p]:x}}}},jme=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:u=()=>{},...d}=Ts(t,e),f=await df(e,d),p=As(i),g=Wc(i),w=Ni(i)==="y",{width:x,height:y}=s.floating;let b,E;p==="top"||p==="bottom"?(b=p,E=g===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(E=p,b=g==="end"?"top":"bottom");const O=y-f.top-f.bottom,A=x-f.left-f.right,P=Aa(y-f[b],O),T=Aa(x-f[E],A),C=!e.middlewareData.shift;let j=P,N=T;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(N=A),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=O),C&&!g){const M=xn(f.left,0),R=xn(f.right,0),$=xn(f.top,0),F=xn(f.bottom,0);w?N=x-2*(M!==0||R!==0?M+R:xn(f.left,f.right)):j=y-2*($!==0||F!==0?$+F:xn(f.top,f.bottom))}await u({...e,availableWidth:N,availableHeight:j});const D=await a.getDimensions(o.floating);return x!==D.width||y!==D.height?{reset:{rects:!0}}:{}}}};function lv(){return typeof window<"u"}function Vc(t){return KB(t)?(t.nodeName||"").toLowerCase():"#document"}function Tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hi(t){var e;return(e=(KB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KB(t){return lv()?t instanceof Node||t instanceof Tn(t).Node:!1}function vi(t){return lv()?t instanceof Element||t instanceof Tn(t).Element:!1}function Bi(t){return lv()?t instanceof HTMLElement||t instanceof Tn(t).HTMLElement:!1}function f$(t){return!lv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tn(t).ShadowRoot}const Nme=new Set(["inline","contents"]);function Ff(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=yi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Nme.has(i)}const Ime=new Set(["table","td","th"]);function Rme(t){return Ime.has(Vc(t))}const Mme=[":popover-open",":modal"];function cv(t){return Mme.some(e=>{try{return t.matches(e)}catch{return!1}})}const Dme=["transform","translate","scale","rotate","perspective"],$me=["transform","translate","scale","rotate","perspective","filter"],Lme=["paint","layout","strict","content"];function aT(t){const e=oT(),r=vi(t)?yi(t):t;return Dme.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||$me.some(n=>(r.willChange||"").includes(n))||Lme.some(n=>(r.contain||"").includes(n))}function Fme(t){let e=Ca(t);for(;Bi(e)&&!Oc(e);){if(aT(e))return e;if(cv(e))return null;e=Ca(e)}return null}function oT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ume=new Set(["html","body","#document"]);function Oc(t){return Ume.has(Vc(t))}function yi(t){return Tn(t).getComputedStyle(t)}function uv(t){return vi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ca(t){if(Vc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||f$(t)&&t.host||Hi(t);return f$(e)?e.host:e}function GB(t){const e=Ca(t);return Oc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Bi(e)&&Ff(e)?e:GB(e)}function ff(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=GB(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Tn(i);if(s){const o=Y1(a);return e.concat(a,a.visualViewport||[],Ff(i)?i:[],o&&r?ff(o):[])}return e.concat(i,ff(i,[],r))}function Y1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function YB(t){const e=yi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Bi(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=Qm(r)!==s||Qm(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function lT(t){return vi(t)?t:t.contextElement}function Xl(t){const e=lT(t);if(!Bi(e))return Li(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=YB(e);let a=(s?Qm(r.width):r.width)/n,o=(s?Qm(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Bme=Li(0);function XB(t){const e=Tn(t);return!oT()||!e.visualViewport?Bme:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qme(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Tn(t)?!1:e}function ko(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=lT(t);let a=Li(1);e&&(n?vi(n)&&(a=Xl(n)):a=Xl(t));const o=qme(s,r,n)?XB(s):Li(0);let u=(i.left+o.x)/a.x,d=(i.top+o.y)/a.y,f=i.width/a.x,p=i.height/a.y;if(s){const g=Tn(s),w=n&&vi(n)?Tn(n):n;let x=g,y=Y1(x);for(;y&&n&&w!==x;){const b=Xl(y),E=y.getBoundingClientRect(),O=yi(y),A=E.left+(y.clientLeft+parseFloat(O.paddingLeft))*b.x,P=E.top+(y.clientTop+parseFloat(O.paddingTop))*b.y;u*=b.x,d*=b.y,f*=b.x,p*=b.y,u+=A,d+=P,x=Tn(y),y=Y1(x)}}return Zm({width:f,height:p,x:u,y:d})}function dv(t,e){const r=uv(t).scrollLeft;return e?e.left+r:ko(Hi(t)).left+r}function QB(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-dv(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function zme(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=Hi(n),o=e?cv(e.floating):!1;if(n===a||o&&s)return r;let u={scrollLeft:0,scrollTop:0},d=Li(1);const f=Li(0),p=Bi(n);if((p||!p&&!s)&&((Vc(n)!=="body"||Ff(a))&&(u=uv(n)),Bi(n))){const w=ko(n);d=Xl(n),f.x=w.x+n.clientLeft,f.y=w.y+n.clientTop}const g=a&&!p&&!s?QB(a,u):Li(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-u.scrollLeft*d.x+f.x+g.x,y:r.y*d.y-u.scrollTop*d.y+f.y+g.y}}function Wme(t){return Array.from(t.getClientRects())}function Vme(t){const e=Hi(t),r=uv(t),n=t.ownerDocument.body,i=xn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=xn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+dv(t);const o=-r.scrollTop;return yi(n).direction==="rtl"&&(a+=xn(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}const h$=25;function Hme(t,e){const r=Tn(t),n=Hi(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,u=0;if(i){s=i.width,a=i.height;const f=oT();(!f||f&&e==="fixed")&&(o=i.offsetLeft,u=i.offsetTop)}const d=dv(n);if(d<=0){const f=n.ownerDocument,p=f.body,g=getComputedStyle(p),w=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,x=Math.abs(n.clientWidth-p.clientWidth-w);x<=h$&&(s-=x)}else d<=h$&&(s+=d);return{width:s,height:a,x:o,y:u}}const Kme=new Set(["absolute","fixed"]);function Gme(t,e){const r=ko(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Bi(t)?Xl(t):Li(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,u=i*s.x,d=n*s.y;return{width:a,height:o,x:u,y:d}}function p$(t,e,r){let n;if(e==="viewport")n=Hme(t,r);else if(e==="document")n=Vme(Hi(t));else if(vi(e))n=Gme(e,r);else{const i=XB(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Zm(n)}function JB(t,e){const r=Ca(t);return r===e||!vi(r)||Oc(r)?!1:yi(r).position==="fixed"||JB(r,e)}function Yme(t,e){const r=e.get(t);if(r)return r;let n=ff(t,[],!1).filter(o=>vi(o)&&Vc(o)!=="body"),i=null;const s=yi(t).position==="fixed";let a=s?Ca(t):t;for(;vi(a)&&!Oc(a);){const o=yi(a),u=aT(a);!u&&o.position==="fixed"&&(i=null),(s?!u&&!i:!u&&o.position==="static"&&!!i&&Kme.has(i.position)||Ff(a)&&!u&&JB(t,a))?n=n.filter(f=>f!==a):i=o,a=Ca(a)}return e.set(t,n),n}function Xme(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?cv(e)?[]:Yme(e,this._c):[].concat(r),n],o=a[0],u=a.reduce((d,f)=>{const p=p$(e,f,i);return d.top=xn(p.top,d.top),d.right=Aa(p.right,d.right),d.bottom=Aa(p.bottom,d.bottom),d.left=xn(p.left,d.left),d},p$(e,o,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Qme(t){const{width:e,height:r}=YB(t);return{width:e,height:r}}function Jme(t,e,r){const n=Bi(e),i=Hi(e),s=r==="fixed",a=ko(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const u=Li(0);function d(){u.x=dv(i)}if(n||!n&&!s)if((Vc(e)!=="body"||Ff(i))&&(o=uv(e)),n){const w=ko(e,!0,s,e);u.x=w.x+e.clientLeft,u.y=w.y+e.clientTop}else i&&d();s&&!n&&i&&d();const f=i&&!n&&!s?QB(i,o):Li(0),p=a.left+o.scrollLeft-u.x-f.x,g=a.top+o.scrollTop-u.y-f.y;return{x:p,y:g,width:a.width,height:a.height}}function M_(t){return yi(t).position==="static"}function m$(t,e){if(!Bi(t)||yi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Hi(t)===r&&(r=r.ownerDocument.body),r}function ZB(t,e){const r=Tn(t);if(cv(t))return r;if(!Bi(t)){let i=Ca(t);for(;i&&!Oc(i);){if(vi(i)&&!M_(i))return i;i=Ca(i)}return r}let n=m$(t,e);for(;n&&Rme(n)&&M_(n);)n=m$(n,e);return n&&Oc(n)&&M_(n)&&!aT(n)?r:n||Fme(t)||r}const Zme=async function(t){const e=this.getOffsetParent||ZB,r=this.getDimensions,n=await r(t.floating);return{reference:Jme(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ege(t){return yi(t).direction==="rtl"}const tge={convertOffsetParentRelativeRectToViewportRelativeRect:zme,getDocumentElement:Hi,getClippingRect:Xme,getOffsetParent:ZB,getElementRects:Zme,getClientRects:Wme,getDimensions:Qme,getScale:Xl,isElement:vi,isRTL:ege};function e5(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function rge(t,e){let r=null,n;const i=Hi(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,u){o===void 0&&(o=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:f,top:p,width:g,height:w}=d;if(o||e(),!g||!w)return;const x=yp(p),y=yp(i.clientWidth-(f+g)),b=yp(i.clientHeight-(p+w)),E=yp(f),A={rootMargin:-x+"px "+-y+"px "+-b+"px "+-E+"px",threshold:xn(0,Aa(1,u))||1};let P=!0;function T(C){const j=C[0].intersectionRatio;if(j!==u){if(!P)return a();j?a(!1,j):n=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!e5(d,t.getBoundingClientRect())&&a(),P=!1}try{r=new IntersectionObserver(T,{...A,root:i.ownerDocument})}catch{r=new IntersectionObserver(T,A)}r.observe(t)}return a(!0),s}function nge(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=lT(t),f=i||s?[...d?ff(d):[],...ff(e)]:[];f.forEach(E=>{i&&E.addEventListener("scroll",r,{passive:!0}),s&&E.addEventListener("resize",r)});const p=d&&o?rge(d,r):null;let g=-1,w=null;a&&(w=new ResizeObserver(E=>{let[O]=E;O&&O.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=w)==null||A.observe(e)})),r()}),d&&!u&&w.observe(d),w.observe(e));let x,y=u?ko(t):null;u&&b();function b(){const E=ko(t);y&&!e5(y,E)&&r(),y=E,x=requestAnimationFrame(b)}return r(),()=>{var E;f.forEach(O=>{i&&O.removeEventListener("scroll",r),s&&O.removeEventListener("resize",r)}),p?.(),(E=w)==null||E.disconnect(),w=null,u&&cancelAnimationFrame(x)}}const ige=Cme,sge=kme,age=Ome,oge=jme,lge=Tme,g$=Eme,cge=Pme,uge=(t,e,r)=>{const n=new Map,i={platform:tge,...r},s={...i.platform,_c:n};return Sme(t,e,{...i,platform:s})};var dge=typeof document<"u",fge=function(){},Dp=dge?S.useLayoutEffect:fge;function eg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!eg(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!eg(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function t5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function v$(t,e){const r=t5(t);return Math.round(e*r)/r}function D_(t){const e=S.useRef(t);return Dp(()=>{e.current=t}),e}function hge(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:u,open:d}=t,[f,p]=S.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,w]=S.useState(n);eg(g,n)||w(n);const[x,y]=S.useState(null),[b,E]=S.useState(null),O=S.useCallback(z=>{z!==C.current&&(C.current=z,y(z))},[]),A=S.useCallback(z=>{z!==j.current&&(j.current=z,E(z))},[]),P=s||x,T=a||b,C=S.useRef(null),j=S.useRef(null),N=S.useRef(f),D=u!=null,M=D_(u),R=D_(i),$=D_(d),F=S.useCallback(()=>{if(!C.current||!j.current)return;const z={placement:e,strategy:r,middleware:g};R.current&&(z.platform=R.current),uge(C.current,j.current,z).then(J=>{const ie={...J,isPositioned:$.current!==!1};K.current&&!eg(N.current,ie)&&(N.current=ie,qn.flushSync(()=>{p(ie)}))})},[g,e,r,R,$]);Dp(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,p(z=>({...z,isPositioned:!1})))},[d]);const K=S.useRef(!1);Dp(()=>(K.current=!0,()=>{K.current=!1}),[]),Dp(()=>{if(P&&(C.current=P),T&&(j.current=T),P&&T){if(M.current)return M.current(P,T,F);F()}},[P,T,F,M,D]);const G=S.useMemo(()=>({reference:C,floating:j,setReference:O,setFloating:A}),[O,A]),V=S.useMemo(()=>({reference:P,floating:T}),[P,T]),Q=S.useMemo(()=>{const z={position:r,left:0,top:0};if(!V.floating)return z;const J=v$(V.floating,f.x),ie=v$(V.floating,f.y);return o?{...z,transform:"translate("+J+"px, "+ie+"px)",...t5(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:ie}},[r,o,V.floating,f.x,f.y]);return S.useMemo(()=>({...f,update:F,refs:G,elements:V,floatingStyles:Q}),[f,F,G,V,Q])}const pge=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?g$({element:n.current,padding:i}).fn(r):{}:n?g$({element:n,padding:i}).fn(r):{}}}},mge=(t,e)=>({...ige(t),options:[t,e]}),gge=(t,e)=>({...sge(t),options:[t,e]}),vge=(t,e)=>({...cge(t),options:[t,e]}),yge=(t,e)=>({...age(t),options:[t,e]}),bge=(t,e)=>({...oge(t),options:[t,e]}),wge=(t,e)=>({...lge(t),options:[t,e]}),xge=(t,e)=>({...pge(t),options:[t,e]});var _ge="Arrow",r5=S.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return m.jsx(jt.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});r5.displayName=_ge;var Sge=r5;function Ege(t){const[e,r]=S.useState(void 0);return qr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,o=d.blockSize}else a=t.offsetWidth,o=t.offsetHeight;r({width:a,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var cT="Popper",[n5,i5]=$f(cT),[Oge,s5]=n5(cT),a5=t=>{const{__scopePopper:e,children:r}=t,[n,i]=S.useState(null);return m.jsx(Oge,{scope:e,anchor:n,onAnchorChange:i,children:r})};a5.displayName=cT;var o5="PopperAnchor",l5=S.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=s5(o5,r),a=S.useRef(null),o=br(e,a),u=S.useRef(null);return S.useEffect(()=>{const d=u.current;u.current=n?.current||a.current,d!==u.current&&s.onAnchorChange(u.current)}),n?null:m.jsx(jt.div,{...i,ref:o})});l5.displayName=o5;var uT="PopperContent",[Tge,Age]=n5(uT),c5=S.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:w="optimized",onPlaced:x,...y}=t,b=s5(uT,r),[E,O]=S.useState(null),A=br(e,le=>O(le)),[P,T]=S.useState(null),C=Ege(P),j=C?.width??0,N=C?.height??0,D=n+(s!=="center"?"-"+s:""),M=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},R=Array.isArray(d)?d:[d],$=R.length>0,F={padding:M,boundary:R.filter(kge),altBoundary:$},{refs:K,floatingStyles:G,placement:V,isPositioned:Q,middlewareData:z}=hge({strategy:"fixed",placement:D,whileElementsMounted:(...le)=>nge(...le,{animationFrame:w==="always"}),elements:{reference:b.anchor},middleware:[mge({mainAxis:i+N,alignmentAxis:a}),u&&gge({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?vge():void 0,...F}),u&&yge({...F}),bge({...F,apply:({elements:le,rects:ce,availableWidth:ee,availableHeight:ae})=>{const{width:ge,height:ne}=ce.reference,Fe=le.floating.style;Fe.setProperty("--radix-popper-available-width",`${ee}px`),Fe.setProperty("--radix-popper-available-height",`${ae}px`),Fe.setProperty("--radix-popper-anchor-width",`${ge}px`),Fe.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),P&&xge({element:P,padding:o}),Pge({arrowWidth:j,arrowHeight:N}),g&&wge({strategy:"referenceHidden",...F})]}),[J,ie]=f5(V),U=Ta(x);qr(()=>{Q&&U?.()},[Q,U]);const Y=z.arrow?.x,he=z.arrow?.y,we=z.arrow?.centerOffset!==0,[Se,de]=S.useState();return qr(()=>{E&&de(window.getComputedStyle(E).zIndex)},[E]),m.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:Q?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[z.transformOrigin?.x,z.transformOrigin?.y].join(" "),...z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(Tge,{scope:r,placedSide:J,onArrowChange:T,arrowX:Y,arrowY:he,shouldHideArrow:we,children:m.jsx(jt.div,{"data-side":J,"data-align":ie,...y,ref:A,style:{...y.style,animation:Q?void 0:"none"}})})})});c5.displayName=uT;var u5="PopperArrow",Cge={top:"bottom",right:"left",bottom:"top",left:"right"},d5=S.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=Age(u5,n),a=Cge[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(Sge,{...i,ref:r,style:{...i.style,display:"block"}})})});d5.displayName=u5;function kge(t){return t!==null}var Pge=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,o=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[d,f]=f5(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+o/2,w=(i.arrow?.y??0)+u/2;let x="",y="";return d==="bottom"?(x=a?p:`${g}px`,y=`${-u}px`):d==="top"?(x=a?p:`${g}px`,y=`${n.floating.height+u}px`):d==="right"?(x=`${-u}px`,y=a?p:`${w}px`):d==="left"&&(x=`${n.floating.width+u}px`,y=a?p:`${w}px`),{data:{x,y}}}});function f5(t){const[e,r="center"]=t.split("-");return[e,r]}var jge=a5,Nge=l5,Ige=c5,Rge=d5,Mge="Portal",h5=S.forwardRef((t,e)=>{const{container:r,...n}=t,[i,s]=S.useState(!1);qr(()=>s(!0),[]);const a=r||i&&globalThis?.document?.body;return a?NH.createPortal(m.jsx(jt.div,{...n,ref:e}),a):null});h5.displayName=Mge;var Dge=fE[" useInsertionEffect ".trim().toString()]||qr;function tg({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,a]=$ge({defaultProp:e,onChange:r}),o=t!==void 0,u=o?t:i;{const f=S.useRef(t!==void 0);S.useEffect(()=>{const p=f.current;p!==o&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=o},[o,n])}const d=S.useCallback(f=>{if(o){const p=Lge(f)?f(t):f;p!==t&&a.current?.(p)}else s(f)},[o,t,s,a]);return[u,d]}function $ge({defaultProp:t,onChange:e}){const[r,n]=S.useState(t),i=S.useRef(r),s=S.useRef(e);return Dge(()=>{s.current=e},[e]),S.useEffect(()=>{i.current!==r&&(s.current?.(r),i.current=r)},[r,i]),[r,n,s]}function Lge(t){return typeof t=="function"}function Fge(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var p5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Uge="VisuallyHidden",Bge=S.forwardRef((t,e)=>m.jsx(jt.span,{...t,ref:e,style:{...p5,...t.style}}));Bge.displayName=Uge;var qge=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Sl=new WeakMap,bp=new WeakMap,wp={},$_=0,m5=function(t){return t&&(t.host||m5(t.parentNode))},zge=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=m5(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Wge=function(t,e,r,n){var i=zge(e,Array.isArray(t)?t:[t]);wp[r]||(wp[r]=new WeakMap);var s=wp[r],a=[],o=new Set,u=new Set(i),d=function(p){!p||o.has(p)||(o.add(p),d(p.parentNode))};i.forEach(d);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(g){if(o.has(g))f(g);else try{var w=g.getAttribute(n),x=w!==null&&w!=="false",y=(Sl.get(g)||0)+1,b=(s.get(g)||0)+1;Sl.set(g,y),s.set(g,b),a.push(g),y===1&&x&&bp.set(g,!0),b===1&&g.setAttribute(r,"true"),x||g.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",g,E)}})};return f(e),o.clear(),$_++,function(){a.forEach(function(p){var g=Sl.get(p)-1,w=s.get(p)-1;Sl.set(p,g),s.set(p,w),g||(bp.has(p)||p.removeAttribute(n),bp.delete(p)),w||p.removeAttribute(r)}),$_--,$_||(Sl=new WeakMap,Sl=new WeakMap,bp=new WeakMap,wp={})}},Vge=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=qge(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Wge(n,i,r,"aria-hidden")):function(){return null}},Pi=function(){return Pi=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Pi.apply(this,arguments)};function g5(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Hge(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var $p="right-scroll-bar-position",Lp="width-before-scroll-bar",Kge="with-scroll-bars-hidden",Gge="--removed-body-scroll-bar-size";function L_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Yge(t,e){var r=S.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Xge=typeof window<"u"?S.useLayoutEffect:S.useEffect,y$=new WeakMap;function Qge(t,e){var r=Yge(null,function(n){return t.forEach(function(i){return L_(i,n)})});return Xge(function(){var n=y$.get(r);if(n){var i=new Set(n),s=new Set(t),a=r.current;i.forEach(function(o){s.has(o)||L_(o,null)}),s.forEach(function(o){i.has(o)||L_(o,a)})}y$.set(r,t)},[t]),r}function Jge(t){return t}function Zge(t,e){e===void 0&&(e=Jge);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var a=e(s,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(s),a=r}var u=function(){var f=a;a=[],f.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),r={push:function(f){a.push(f),d()},filter:function(f){return a=a.filter(f),r}}}};return i}function eve(t){t===void 0&&(t={});var e=Zge(null);return e.options=Pi({async:!0,ssr:!1},t),e}var v5=function(t){var e=t.sideCar,r=g5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,Pi({},r))};v5.isSideCarExport=!0;function tve(t,e){return t.useMedium(e),v5}var y5=eve(),F_=function(){},fv=S.forwardRef(function(t,e){var r=S.useRef(null),n=S.useState({onScrollCapture:F_,onWheelCapture:F_,onTouchMoveCapture:F_}),i=n[0],s=n[1],a=t.forwardProps,o=t.children,u=t.className,d=t.removeScrollBar,f=t.enabled,p=t.shards,g=t.sideCar,w=t.noRelative,x=t.noIsolation,y=t.inert,b=t.allowPinchZoom,E=t.as,O=E===void 0?"div":E,A=t.gapMode,P=g5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=g,C=Qge([r,e]),j=Pi(Pi({},P),i);return S.createElement(S.Fragment,null,f&&S.createElement(T,{sideCar:y5,removeScrollBar:d,shards:p,noRelative:w,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!b,lockRef:r,gapMode:A}),a?S.cloneElement(S.Children.only(o),Pi(Pi({},j),{ref:C})):S.createElement(O,Pi({},j,{className:u,ref:C}),o))});fv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fv.classNames={fullWidth:Lp,zeroRight:$p};var rve=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nve(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=rve();return e&&t.setAttribute("nonce",e),t}function ive(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function sve(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ave=function(){var t=0,e=null;return{add:function(r){t==0&&(e=nve())&&(ive(e,r),sve(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ove=function(){var t=ave();return function(e,r){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},b5=function(){var t=ove(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},lve={left:0,top:0,right:0,gap:0},U_=function(t){return parseInt(t||"",10)||0},cve=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[U_(r),U_(n),U_(i)]},uve=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lve;var e=cve(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},dve=b5(),Ql="data-scroll-locked",fve=function(t,e,r,n){var i=t.left,s=t.top,a=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Kge,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Ql,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($p,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Lp,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat($p," .").concat($p,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Lp," .").concat(Lp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ql,`] {
    `).concat(Gge,": ").concat(o,`px;
  }
`)},b$=function(){var t=parseInt(document.body.getAttribute(Ql)||"0",10);return isFinite(t)?t:0},hve=function(){S.useEffect(function(){return document.body.setAttribute(Ql,(b$()+1).toString()),function(){var t=b$()-1;t<=0?document.body.removeAttribute(Ql):document.body.setAttribute(Ql,t.toString())}},[])},pve=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;hve();var s=S.useMemo(function(){return uve(i)},[i]);return S.createElement(dve,{styles:fve(s,!e,i,r?"":"!important")})},X1=!1;if(typeof window<"u")try{var xp=Object.defineProperty({},"passive",{get:function(){return X1=!0,!0}});window.addEventListener("test",xp,xp),window.removeEventListener("test",xp,xp)}catch{X1=!1}var El=X1?{passive:!1}:!1,mve=function(t){return t.tagName==="TEXTAREA"},w5=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!mve(t)&&r[e]==="visible")},gve=function(t){return w5(t,"overflowY")},vve=function(t){return w5(t,"overflowX")},w$=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=x5(t,n);if(i){var s=_5(t,n),a=s[1],o=s[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},yve=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},bve=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},x5=function(t,e){return t==="v"?gve(e):vve(e)},_5=function(t,e){return t==="v"?yve(e):bve(e)},wve=function(t,e){return t==="h"&&e==="rtl"?-1:1},xve=function(t,e,r,n,i){var s=wve(t,window.getComputedStyle(e).direction),a=s*n,o=r.target,u=e.contains(o),d=!1,f=a>0,p=0,g=0;do{if(!o)break;var w=_5(t,o),x=w[0],y=w[1],b=w[2],E=y-b-s*x;(x||E)&&x5(t,o)&&(p+=E,g+=x);var O=o.parentNode;o=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!u&&o!==document.body||u&&(e.contains(o)||e===o));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(d=!0),d},_p=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},x$=function(t){return[t.deltaX,t.deltaY]},_$=function(t){return t&&"current"in t?t.current:t},_ve=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Sve=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Eve=0,Ol=[];function Ove(t){var e=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),i=S.useState(Eve++)[0],s=S.useState(b5)[0],a=S.useRef(t);S.useEffect(function(){a.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=Hge([t.lockRef.current],(t.shards||[]).map(_$),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=S.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var E=_p(y),O=r.current,A="deltaX"in y?y.deltaX:O[0]-E[0],P="deltaY"in y?y.deltaY:O[1]-E[1],T,C=y.target,j=Math.abs(A)>Math.abs(P)?"h":"v";if("touches"in y&&j==="h"&&C.type==="range")return!1;var N=w$(j,C);if(!N)return!0;if(N?T=j:(T=j==="v"?"h":"v",N=w$(j,C)),!N)return!1;if(!n.current&&"changedTouches"in y&&(A||P)&&(n.current=T),!T)return!0;var D=n.current||T;return xve(D,b,y,D==="h"?A:P)},[]),u=S.useCallback(function(y){var b=y;if(!(!Ol.length||Ol[Ol.length-1]!==s)){var E="deltaY"in b?x$(b):_p(b),O=e.current.filter(function(T){return T.name===b.type&&(T.target===b.target||b.target===T.shadowParent)&&_ve(T.delta,E)})[0];if(O&&O.should){b.cancelable&&b.preventDefault();return}if(!O){var A=(a.current.shards||[]).map(_$).filter(Boolean).filter(function(T){return T.contains(b.target)}),P=A.length>0?o(b,A[0]):!a.current.noIsolation;P&&b.cancelable&&b.preventDefault()}}},[]),d=S.useCallback(function(y,b,E,O){var A={name:y,delta:b,target:E,should:O,shadowParent:Tve(E)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(P){return P!==A})},1)},[]),f=S.useCallback(function(y){r.current=_p(y),n.current=void 0},[]),p=S.useCallback(function(y){d(y.type,x$(y),y.target,o(y,t.lockRef.current))},[]),g=S.useCallback(function(y){d(y.type,_p(y),y.target,o(y,t.lockRef.current))},[]);S.useEffect(function(){return Ol.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",u,El),document.addEventListener("touchmove",u,El),document.addEventListener("touchstart",f,El),function(){Ol=Ol.filter(function(y){return y!==s}),document.removeEventListener("wheel",u,El),document.removeEventListener("touchmove",u,El),document.removeEventListener("touchstart",f,El)}},[]);var w=t.removeScrollBar,x=t.inert;return S.createElement(S.Fragment,null,x?S.createElement(s,{styles:Sve(i)}):null,w?S.createElement(pve,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Tve(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Ave=tve(y5,Ove);var S5=S.forwardRef(function(t,e){return S.createElement(fv,Pi({},t,{ref:e,sideCar:Ave}))});S5.classNames=fv.classNames;var Cve=[" ","Enter","ArrowUp","ArrowDown"],kve=[" ","Enter"],Po="Select",[hv,pv,Pve]=FB(Po),[Hc]=$f(Po,[Pve,i5]),mv=i5(),[jve,La]=Hc(Po),[Nve,Ive]=Hc(Po),E5=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:u,dir:d,name:f,autoComplete:p,disabled:g,required:w,form:x}=t,y=mv(e),[b,E]=S.useState(null),[O,A]=S.useState(null),[P,T]=S.useState(!1),C=rT(d),[j,N]=tg({prop:n,defaultProp:i??!1,onChange:s,caller:Po}),[D,M]=tg({prop:a,defaultProp:o,onChange:u,caller:Po}),R=S.useRef(null),$=b?x||!!b.closest("form"):!0,[F,K]=S.useState(new Set),G=Array.from(F).map(V=>V.props.value).join(";");return m.jsx(jge,{...y,children:m.jsxs(jve,{required:w,scope:e,trigger:b,onTriggerChange:E,valueNode:O,onValueNodeChange:A,valueNodeHasChildren:P,onValueNodeHasChildrenChange:T,contentId:Lf(),value:D,onValueChange:M,open:j,onOpenChange:N,dir:C,triggerPointerDownPosRef:R,disabled:g,children:[m.jsx(hv.Provider,{scope:e,children:m.jsx(Nve,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(V=>{K(Q=>new Set(Q).add(V))},[]),onNativeOptionRemove:S.useCallback(V=>{K(Q=>{const z=new Set(Q);return z.delete(V),z})},[]),children:r})}),$?m.jsxs(G5,{"aria-hidden":!0,required:w,tabIndex:-1,name:f,autoComplete:p,value:D,onChange:V=>M(V.target.value),disabled:g,form:x,children:[D===void 0?m.jsx("option",{value:""}):null,Array.from(F)]},G):null]})})};E5.displayName=Po;var O5="SelectTrigger",T5=S.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=mv(r),a=La(O5,r),o=a.disabled||n,u=br(e,a.onTriggerChange),d=pv(r),f=S.useRef("touch"),[p,g,w]=X5(y=>{const b=d().filter(A=>!A.disabled),E=b.find(A=>A.value===a.value),O=Q5(b,y,E);O!==void 0&&a.onValueChange(O.value)}),x=y=>{o||(a.onOpenChange(!0),w()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return m.jsx(Nge,{asChild:!0,...s,children:m.jsx(jt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Y5(a.value)?"":void 0,...i,ref:u,onClick:Et(i.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&x(y)}),onPointerDown:Et(i.onPointerDown,y=>{f.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:Et(i.onKeyDown,y=>{const b=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(b&&y.key===" ")&&Cve.includes(y.key)&&(x(),y.preventDefault())})})})});T5.displayName=O5;var A5="SelectValue",C5=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...o}=t,u=La(A5,r),{onValueNodeHasChildrenChange:d}=u,f=s!==void 0,p=br(e,u.onValueNodeChange);return qr(()=>{d(f)},[d,f]),m.jsx(jt.span,{...o,ref:p,style:{pointerEvents:"none"},children:Y5(u.value)?m.jsx(m.Fragment,{children:a}):s})});C5.displayName=A5;var Rve="SelectIcon",k5=S.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return m.jsx(jt.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});k5.displayName=Rve;var Mve="SelectPortal",P5=t=>m.jsx(h5,{asChild:!0,...t});P5.displayName=Mve;var jo="SelectContent",j5=S.forwardRef((t,e)=>{const r=La(jo,t.__scopeSelect),[n,i]=S.useState();if(qr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?qn.createPortal(m.jsx(N5,{scope:t.__scopeSelect,children:m.jsx(hv.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),s):null}return m.jsx(I5,{...t,ref:e})});j5.displayName=jo;var ai=10,[N5,Fa]=Hc(jo),Dve="SelectContentImpl",$ve=Ad("SelectContent.RemoveScroll"),I5=S.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:u,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:w,sticky:x,hideWhenDetached:y,avoidCollisions:b,...E}=t,O=La(jo,r),[A,P]=S.useState(null),[T,C]=S.useState(null),j=br(e,le=>P(le)),[N,D]=S.useState(null),[M,R]=S.useState(null),$=pv(r),[F,K]=S.useState(!1),G=S.useRef(!1);S.useEffect(()=>{if(A)return Vge(A)},[A]),rme();const V=S.useCallback(le=>{const[ce,...ee]=$().map(ne=>ne.ref.current),[ae]=ee.slice(-1),ge=document.activeElement;for(const ne of le)if(ne===ge||(ne?.scrollIntoView({block:"nearest"}),ne===ce&&T&&(T.scrollTop=0),ne===ae&&T&&(T.scrollTop=T.scrollHeight),ne?.focus(),document.activeElement!==ge))return},[$,T]),Q=S.useCallback(()=>V([N,A]),[V,N,A]);S.useEffect(()=>{F&&Q()},[F,Q]);const{onOpenChange:z,triggerPointerDownPosRef:J}=O;S.useEffect(()=>{if(A){let le={x:0,y:0};const ce=ae=>{le={x:Math.abs(Math.round(ae.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(ae.pageY)-(J.current?.y??0))}},ee=ae=>{le.x<=10&&le.y<=10?ae.preventDefault():A.contains(ae.target)||z(!1),document.removeEventListener("pointermove",ce),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ee,{capture:!0})}}},[A,z,J]),S.useEffect(()=>{const le=()=>z(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[z]);const[ie,U]=X5(le=>{const ce=$().filter(ge=>!ge.disabled),ee=ce.find(ge=>ge.ref.current===document.activeElement),ae=Q5(ce,le,ee);ae&&setTimeout(()=>ae.ref.current.focus())}),Y=S.useCallback((le,ce,ee)=>{const ae=!G.current&&!ee;(O.value!==void 0&&O.value===ce||ae)&&(D(le),ae&&(G.current=!0))},[O.value]),he=S.useCallback(()=>A?.focus(),[A]),we=S.useCallback((le,ce,ee)=>{const ae=!G.current&&!ee;(O.value!==void 0&&O.value===ce||ae)&&R(le)},[O.value]),Se=n==="popper"?Q1:R5,de=Se===Q1?{side:o,sideOffset:u,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:w,sticky:x,hideWhenDetached:y,avoidCollisions:b}:{};return m.jsx(N5,{scope:r,content:A,viewport:T,onViewportChange:C,itemRefCallback:Y,selectedItem:N,onItemLeave:he,itemTextRefCallback:we,focusSelectedItem:Q,selectedItemText:M,position:n,isPositioned:F,searchRef:ie,children:m.jsx(S5,{as:$ve,allowPinchZoom:!0,children:m.jsx(zB,{asChild:!0,trapped:O.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Et(i,le=>{O.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:m.jsx(BB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:m.jsx(Se,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:le=>le.preventDefault(),...E,...de,onPlaced:()=>K(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Et(E.onKeyDown,le=>{const ce=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ce&&le.key.length===1&&U(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let ae=$().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(le.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ge=le.target,ne=ae.indexOf(ge);ae=ae.slice(ne+1)}setTimeout(()=>V(ae)),le.preventDefault()}})})})})})})});I5.displayName=Dve;var Lve="SelectItemAlignedPosition",R5=S.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=La(jo,r),a=Fa(jo,r),[o,u]=S.useState(null),[d,f]=S.useState(null),p=br(e,j=>f(j)),g=pv(r),w=S.useRef(!1),x=S.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:E,focusSelectedItem:O}=a,A=S.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&d&&y&&b&&E){const j=s.trigger.getBoundingClientRect(),N=d.getBoundingClientRect(),D=s.valueNode.getBoundingClientRect(),M=E.getBoundingClientRect();if(s.dir!=="rtl"){const ge=M.left-N.left,ne=D.left-ge,Fe=j.left-ne,Te=j.width+Fe,Je=Math.max(Te,N.width),Ge=window.innerWidth-ai,mt=ZD(ne,[ai,Math.max(ai,Ge-Je)]);o.style.minWidth=Te+"px",o.style.left=mt+"px"}else{const ge=N.right-M.right,ne=window.innerWidth-D.right-ge,Fe=window.innerWidth-j.right-ne,Te=j.width+Fe,Je=Math.max(Te,N.width),Ge=window.innerWidth-ai,mt=ZD(ne,[ai,Math.max(ai,Ge-Je)]);o.style.minWidth=Te+"px",o.style.right=mt+"px"}const R=g(),$=window.innerHeight-ai*2,F=y.scrollHeight,K=window.getComputedStyle(d),G=parseInt(K.borderTopWidth,10),V=parseInt(K.paddingTop,10),Q=parseInt(K.borderBottomWidth,10),z=parseInt(K.paddingBottom,10),J=G+V+F+z+Q,ie=Math.min(b.offsetHeight*5,J),U=window.getComputedStyle(y),Y=parseInt(U.paddingTop,10),he=parseInt(U.paddingBottom,10),we=j.top+j.height/2-ai,Se=$-we,de=b.offsetHeight/2,le=b.offsetTop+de,ce=G+V+le,ee=J-ce;if(ce<=we){const ge=R.length>0&&b===R[R.length-1].ref.current;o.style.bottom="0px";const ne=d.clientHeight-y.offsetTop-y.offsetHeight,Fe=Math.max(Se,de+(ge?he:0)+ne+Q),Te=ce+Fe;o.style.height=Te+"px"}else{const ge=R.length>0&&b===R[0].ref.current;o.style.top="0px";const Fe=Math.max(we,G+y.offsetTop+(ge?Y:0)+de)+ee;o.style.height=Fe+"px",y.scrollTop=ce-we+y.offsetTop}o.style.margin=`${ai}px 0`,o.style.minHeight=ie+"px",o.style.maxHeight=$+"px",n?.(),requestAnimationFrame(()=>w.current=!0)}},[g,s.trigger,s.valueNode,o,d,y,b,E,s.dir,n]);qr(()=>A(),[A]);const[P,T]=S.useState();qr(()=>{d&&T(window.getComputedStyle(d).zIndex)},[d]);const C=S.useCallback(j=>{j&&x.current===!0&&(A(),O?.(),x.current=!1)},[A,O]);return m.jsx(Uve,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:w,onScrollButtonChange:C,children:m.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:m.jsx(jt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});R5.displayName=Lve;var Fve="SelectPopperPosition",Q1=S.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=ai,...s}=t,a=mv(r);return m.jsx(Ige,{...a,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Q1.displayName=Fve;var[Uve,dT]=Hc(jo,{}),J1="SelectViewport",M5=S.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Fa(J1,r),a=dT(J1,r),o=br(e,s.onViewportChange),u=S.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),m.jsx(hv.Slot,{scope:r,children:m.jsx(jt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Et(i.onScroll,d=>{const f=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=a;if(g?.current&&p){const w=Math.abs(u.current-f.scrollTop);if(w>0){const x=window.innerHeight-ai*2,y=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),E=Math.max(y,b);if(E<x){const O=E+w,A=Math.min(x,O),P=O-A;p.style.height=A+"px",p.style.bottom==="0px"&&(f.scrollTop=P>0?P:0,p.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});M5.displayName=J1;var D5="SelectGroup",[Bve,qve]=Hc(D5),zve=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Lf();return m.jsx(Bve,{scope:r,id:i,children:m.jsx(jt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});zve.displayName=D5;var $5="SelectLabel",L5=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=qve($5,r);return m.jsx(jt.div,{id:i.id,...n,ref:e})});L5.displayName=$5;var rg="SelectItem",[Wve,F5]=Hc(rg),U5=S.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=t,o=La(rg,r),u=Fa(rg,r),d=o.value===n,[f,p]=S.useState(s??""),[g,w]=S.useState(!1),x=br(e,O=>u.itemRefCallback?.(O,n,i)),y=Lf(),b=S.useRef("touch"),E=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(Wve,{scope:r,value:n,disabled:i,textId:y,isSelected:d,onItemTextChange:S.useCallback(O=>{p(A=>A||(O?.textContent??"").trim())},[]),children:m.jsx(hv.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:m.jsx(jt.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:Et(a.onFocus,()=>w(!0)),onBlur:Et(a.onBlur,()=>w(!1)),onClick:Et(a.onClick,()=>{b.current!=="mouse"&&E()}),onPointerUp:Et(a.onPointerUp,()=>{b.current==="mouse"&&E()}),onPointerDown:Et(a.onPointerDown,O=>{b.current=O.pointerType}),onPointerMove:Et(a.onPointerMove,O=>{b.current=O.pointerType,i?u.onItemLeave?.():b.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Et(a.onPointerLeave,O=>{O.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Et(a.onKeyDown,O=>{u.searchRef?.current!==""&&O.key===" "||(kve.includes(O.key)&&E(),O.key===" "&&O.preventDefault())})})})})});U5.displayName=rg;var Zu="SelectItemText",B5=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,a=La(Zu,r),o=Fa(Zu,r),u=F5(Zu,r),d=Ive(Zu,r),[f,p]=S.useState(null),g=br(e,E=>p(E),u.onItemTextChange,E=>o.itemTextRefCallback?.(E,u.value,u.disabled)),w=f?.textContent,x=S.useMemo(()=>m.jsx("option",{value:u.value,disabled:u.disabled,children:w},u.value),[u.disabled,u.value,w]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=d;return qr(()=>(y(x),()=>b(x)),[y,b,x]),m.jsxs(m.Fragment,{children:[m.jsx(jt.span,{id:u.textId,...s,ref:g}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?qn.createPortal(s.children,a.valueNode):null]})});B5.displayName=Zu;var q5="SelectItemIndicator",z5=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return F5(q5,r).isSelected?m.jsx(jt.span,{"aria-hidden":!0,...n,ref:e}):null});z5.displayName=q5;var Z1="SelectScrollUpButton",W5=S.forwardRef((t,e)=>{const r=Fa(Z1,t.__scopeSelect),n=dT(Z1,t.__scopeSelect),[i,s]=S.useState(!1),a=br(e,n.onScrollButtonChange);return qr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=u.scrollTop>0;s(d)};const u=r.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?m.jsx(H5,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=r;o&&u&&(o.scrollTop=o.scrollTop-u.offsetHeight)}}):null});W5.displayName=Z1;var eE="SelectScrollDownButton",V5=S.forwardRef((t,e)=>{const r=Fa(eE,t.__scopeSelect),n=dT(eE,t.__scopeSelect),[i,s]=S.useState(!1),a=br(e,n.onScrollButtonChange);return qr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;s(f)};const u=r.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?m.jsx(H5,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=r;o&&u&&(o.scrollTop=o.scrollTop+u.offsetHeight)}}):null});V5.displayName=eE;var H5=S.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Fa("SelectScrollButton",r),a=S.useRef(null),o=pv(r),u=S.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return S.useEffect(()=>()=>u(),[u]),qr(()=>{o().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),m.jsx(jt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Et(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:Et(i.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:Et(i.onPointerLeave,()=>{u()})})}),Vve="SelectSeparator",K5=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return m.jsx(jt.div,{"aria-hidden":!0,...n,ref:e})});K5.displayName=Vve;var tE="SelectArrow",Hve=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=mv(r),s=La(tE,r),a=Fa(tE,r);return s.open&&a.position==="popper"?m.jsx(Rge,{...i,...n,ref:e}):null});Hve.displayName=tE;var Kve="SelectBubbleInput",G5=S.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=S.useRef(null),s=br(n,i),a=Fge(e);return S.useEffect(()=>{const o=i.current;if(!o)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==e&&f){const p=new Event("change",{bubbles:!0});f.call(o,e),o.dispatchEvent(p)}},[a,e]),m.jsx(jt.select,{...r,style:{...p5,...r.style},ref:s,defaultValue:e})});G5.displayName=Kve;function Y5(t){return t===""||t===void 0}function X5(t){const e=Ta(t),r=S.useRef(""),n=S.useRef(0),i=S.useCallback(a=>{const o=r.current+a;e(o),(function u(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(o)},[e]),s=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function Q5(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=Gve(t,Math.max(s,0));i.length===1&&(a=a.filter(d=>d!==r));const u=a.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function Gve(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Yve=E5,J5=T5,Xve=C5,Qve=k5,Jve=P5,Z5=j5,Zve=M5,eq=L5,tq=U5,eye=B5,tye=z5,rq=W5,nq=V5,iq=K5;const rye=Yve,nye=Xve,sq=S.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(J5,{ref:n,className:ht("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,m.jsx(Qve,{asChild:!0,children:m.jsx(eF,{className:"h-4 w-4 opacity-50"})})]}));sq.displayName=J5.displayName;const aq=S.forwardRef(({className:t,...e},r)=>m.jsx(rq,{ref:r,className:ht("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(UH,{className:"h-4 w-4"})}));aq.displayName=rq.displayName;const oq=S.forwardRef(({className:t,...e},r)=>m.jsx(nq,{ref:r,className:ht("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(eF,{className:"h-4 w-4"})}));oq.displayName=nq.displayName;const lq=S.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>m.jsx(Jve,{children:m.jsxs(Z5,{ref:i,className:ht("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[m.jsx(aq,{}),m.jsx(Zve,{className:ht("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(oq,{})]})}));lq.displayName=Z5.displayName;const iye=S.forwardRef(({className:t,...e},r)=>m.jsx(eq,{ref:r,className:ht("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));iye.displayName=eq.displayName;const cq=S.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(tq,{ref:n,className:ht("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(tye,{children:m.jsx(FH,{className:"h-4 w-4"})})}),m.jsx(eye,{children:e})]}));cq.displayName=tq.displayName;const sye=S.forwardRef(({className:t,...e},r)=>m.jsx(iq,{ref:r,className:ht("-mx-1 my-1 h-px bg-muted",t),...e}));sye.displayName=iq.displayName;const aye=S.forwardRef(({className:t,...e},r)=>m.jsx("div",{className:"relative w-full overflow-auto",children:m.jsx("table",{ref:r,className:ht("w-full caption-bottom text-sm",t),...e})}));aye.displayName="Table";const oye=S.forwardRef(({className:t,...e},r)=>m.jsx("thead",{ref:r,className:ht("[&_tr]:border-b",t),...e}));oye.displayName="TableHeader";const lye=S.forwardRef(({className:t,...e},r)=>m.jsx("tbody",{ref:r,className:ht("[&_tr:last-child]:border-0",t),...e}));lye.displayName="TableBody";const cye=S.forwardRef(({className:t,...e},r)=>m.jsx("tfoot",{ref:r,className:ht("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));cye.displayName="TableFooter";const uye=S.forwardRef(({className:t,...e},r)=>m.jsx("tr",{ref:r,className:ht("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));uye.displayName="TableRow";const dye=S.forwardRef(({className:t,...e},r)=>m.jsx("th",{ref:r,className:ht("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));dye.displayName="TableHead";const fye=S.forwardRef(({className:t,...e},r)=>m.jsx("td",{ref:r,className:ht("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));fye.displayName="TableCell";const hye=S.forwardRef(({className:t,...e},r)=>m.jsx("caption",{ref:r,className:ht("mt-4 text-sm text-muted-foreground",t),...e}));hye.displayName="TableCaption";const pye=S.forwardRef(({className:t,...e},r)=>m.jsx("textarea",{className:ht("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));pye.displayName="Textarea";function B_(t){return t instanceof Error?/^401: .*Unauthorized/.test(t.message):!1}function uq(t){if(!t||typeof t!="object")return null;const e=t;if(Array.isArray(e.data)){const[r]=e.data;return r&&typeof r=="object"?r:null}return e.data&&typeof e.data=="object"?uq(e.data):t?.symbol?t:null}const S$={bullish:{bg:"bg-emerald-500/10",ring:"ring-emerald-500/30",text:"text-emerald-400"},neutral:{bg:"bg-amber-500/10",ring:"ring-amber-500/30",text:"text-amber-400"},bearish:{bg:"bg-rose-500/10",ring:"ring-rose-500/30",text:"text-rose-400"}};function q_({rows:t=[],emptyState:e}){const r=t.length>0;return m.jsxs("section",{className:`
        rounded-2xl border border-border bg-card backdrop-blur
        overflow-hidden flex flex-col mb-8
      `,"aria-label":"Breakdown Technicals",children:[m.jsx("header",{className:"sticky top-0 z-10 bg-muted/60 backdrop-blur px-4 md:px-5 py-3 border-b border-border",children:m.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[m.jsx("span",{className:"i-lucide-list-checks h-5 w-5 opacity-80"}),"Breakdown Technicals"]})}),m.jsx("div",{className:`
          flex-1 overflow-y-auto overscroll-contain px-4 md:px-5 py-4
          space-y-3 min-h-[400px] md:min-h-[520px] lg:min-h-[620px]
        `,style:{maxHeight:"70vh"},children:r?m.jsx("ul",{className:"grid gap-3",children:t.map((n,i)=>{const s=S$[n.signal]??S$.neutral;return m.jsxs("li",{className:`rounded-xl ring-1 ${s.ring} ${s.bg} p-4 md:p-5`,children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsx("div",{className:"text-base font-medium",children:n.title}),m.jsx("div",{className:`text-sm font-semibold tabular-nums ${s.text}`,children:n.value})]}),n.reason&&m.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:n.reason}),m.jsx("div",{className:`mt-2 text-xs uppercase tracking-wide ${s.text}`,children:n.signal})]},`${n.title}-${i}`)})}):e??m.jsx("div",{className:"flex h-full w-full items-center justify-center py-12 text-center text-muted-foreground",children:m.jsx("div",{children:"No technical checks yet."})})})]})}function mye({symbol:t,tf:e,technicals:r,candles:n}){return On({queryKey:["aiSummary",t,e],queryFn:async()=>{const i=await Ef("/api/ai/summary",{method:"POST",body:JSON.stringify({symbol:t,tf:e,technicals:r,candles:n})});return typeof i?.data=="string"?i.data:""},staleTime:300*1e3,gcTime:1440*60*1e3,enabled:!1})}function gye({symbol:t,tf:e,technicals:r,candles:n}){const i=qi(),{user:s}=zi(),{data:a,isLoading:o,isError:u,isFetching:d}=mye({symbol:t,tf:e,technicals:r,candles:n}),[f,p]=S.useState(!1),g=60*1e3,w=3600*1e3,[x,y]=S.useState(0),[b,E]=S.useState(null);S.useEffect(()=>{const C="ai_global_last_gen",j=`ai_summary_content_${t}_${e}`,N=localStorage.getItem(j);if(N)try{const M=JSON.parse(N);Date.now()-M.timestamp<w&&(i.setQueryData(["aiSummary",t,e],M.content),E(new Date(M.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))}catch(M){console.error("Failed to parse saved summary",M)}else E(null);const D=localStorage.getItem(C);if(D){const M=parseInt(D,10),$=Date.now()-M;$<g?y(Math.ceil((g-$)/1e3)):y(0)}else y(0)},[t,e,i]),S.useEffect(()=>{if(x<=0)return;const C=setInterval(()=>{y(j=>Math.max(0,j-1))},1e3);return()=>clearInterval(C)},[x]);const O=async()=>{if(!(x>0)){if(console.log("[DEBUG] Generate button clicked!"),console.log("[DEBUG] Props - symbol:",t,"tf:",e,"hasUser:",!!s),console.log("[DEBUG] Candles prop:",n?`Present (Length: ${n.length})`:"Missing"),!t||!e){console.error("[DEBUG] Cannot generate: missing symbol or tf",{symbol:t,tf:e});return}p(!0);try{await i.invalidateQueries({queryKey:["aiSummary",t,e]});const C=await(await Io(async()=>{const{apiFetch:j}=await Promise.resolve().then(()=>QG);return{apiFetch:j}},void 0)).apiFetch("/api/ai/summary",{method:"POST",body:JSON.stringify({symbol:t,tf:e,technicals:r,candles:n})});if(console.log("[DEBUG] API response received:",!!C?.data),C?.data){i.setQueryData(["aiSummary",t,e],C.data),console.log("[DEBUG] Data set in cache successfully");const j=Date.now();localStorage.setItem("ai_global_last_gen",j.toString()),localStorage.setItem(`ai_summary_content_${t}_${e}`,JSON.stringify({content:C.data,timestamp:j})),y(g/1e3),E(new Date(j).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}}catch(C){console.error("[DEBUG] Generation error:",C)}finally{p(!1)}}},A=async()=>{if(!(typeof navigator>"u"||!navigator?.clipboard))try{await navigator.clipboard.writeText(a||"")}catch(C){console.warn("Failed to copy AI summary",C)}},P=S.useMemo(()=>s?o?"Generating":u?"Failed to generate. Try again.":a||"Click Generate to start analysis.":"Sign in to use AI Summary.",[a,u,o,s]),T=C=>{const j=Math.floor(C/60),N=C%60;return`${j}:${N.toString().padStart(2,"0")}`};return m.jsxs("div",{className:"flex flex-col rounded-2xl border border-border bg-card backdrop-blur overflow-hidden mb-8",children:[m.jsxs("div",{className:"sticky top-0 z-10 bg-muted/60 backdrop-blur px-4 md:px-5 py-3 border-b border-border flex items-center justify-between gap-2",children:[m.jsx("h3",{className:"text-lg font-semibold",children:"AI Summary"}),m.jsxs("div",{className:"flex flex-col items-center gap-1",children:[m.jsx("div",{className:"flex items-center gap-2",children:s?m.jsx(it,{variant:"default",size:"sm",onClick:O,disabled:d||o||f||x>0,className:ht(x>0&&"opacity-80"),children:x>0?m.jsxs(m.Fragment,{children:[m.jsx(Ap,{className:"mr-2 h-4 w-4 animate-pulse"}),"Generate (",T(x),")"]}):m.jsxs(m.Fragment,{children:[m.jsx(ZH,{className:ht("mr-2 h-4 w-4",(d||o||f)&&"animate-spin")}),"Generate"]})}):m.jsx(it,{asChild:!0,variant:"default",size:"sm",children:m.jsx(Wt,{to:"/account",children:"Sign In"})})}),b&&m.jsxs("span",{className:"text-[10px] text-muted-foreground font-medium",children:["Last updated: ",b]})]})]}),m.jsxs("div",{className:"relative flex-1 overflow-y-auto whitespace-pre-wrap text-sm leading-6 px-4 md:px-5 py-4 min-h-[400px] md:min-h-[520px] lg:min-h-[620px]",style:{maxHeight:"70vh"},children:[a&&m.jsx(it,{variant:"ghost",size:"icon",onClick:A,className:"absolute top-2 right-2 h-8 w-8 bg-background/50 hover:bg-background/80 backdrop-blur","aria-label":"Copy summary",children:m.jsx(qH,{className:"h-4 w-4"})}),P,m.jsxs("div",{className:"mt-4 text-xs text-muted-foreground border-t border-border/50 pt-2",children:["Powered by Gemini  Context: ",t," ",e]})]})]})}function z_(t){let e=(t||"").toUpperCase().replace(/[^A-Z0-9]/g,"");return e?(e.endsWith("USD")&&!e.endsWith("USDT")&&(e=e.slice(0,-3)+"USDT"),/(USDT|BTC|BUSD|FDUSD|TUSD|USDC)$/.test(e)||(e+="USDT"),e):"BTCUSDT"}function rr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function vye(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const E$=6e4,O$=525600,Fl=43200,ng=1440;let yye={};function dq(){return yye}function ig(t){const e=rr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function vd(t,e){const r=rr(t),n=rr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function fq(t){return vye(t,Date.now())}function bye(t,e){const r=rr(t),n=rr(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function hq(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function wye(t,e){return+rr(t)-+rr(e)}function xye(t){const e=rr(t);return e.setHours(23,59,59,999),e}function _ye(t){const e=rr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Sye(t){const e=rr(t);return+xye(e)==+_ye(e)}function Eye(t,e){const r=rr(t),n=rr(e),i=vd(r,n),s=Math.abs(bye(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let o=vd(r,n)===-i;Sye(rr(t))&&s===1&&vd(t,n)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function Oye(t,e,r){const n=wye(t,e)/1e3;return hq(r?.roundingMethod)(n)}const Tye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Aye=(t,e,r)=>{let n;const i=Tye[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function W_(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Cye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Pye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jye={date:W_({formats:Cye,defaultWidth:"full"}),time:W_({formats:kye,defaultWidth:"full"}),dateTime:W_({formats:Pye,defaultWidth:"full"})},Nye={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Iye=(t,e,r,n)=>Nye[t];function Fu(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r?.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r?.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Rye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$ye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Uye=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Bye={ordinalNumber:Uye,era:Fu({values:Rye,defaultWidth:"wide"}),quarter:Fu({values:Mye,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Fu({values:Dye,defaultWidth:"wide"}),day:Fu({values:$ye,defaultWidth:"wide"}),dayPeriod:Fu({values:Lye,defaultWidth:"wide",formattingValues:Fye,defaultFormattingWidth:"wide"})};function Uu(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(o)?zye(o,p=>p.test(a)):qye(o,p=>p.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=r.valueCallback?r.valueCallback(d):d;const f=e.slice(a.length);return{value:d,rest:f}}}function qye(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function zye(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Wye(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const Vye=/^(\d+)(th|st|nd|rd)?/i,Hye=/\d+/i,Kye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gye={any:[/^b/i,/^(a|c)/i]},Yye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Xye={any:[/1/i,/2/i,/3/i,/4/i]},Qye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zye={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ebe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tbe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rbe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nbe={ordinalNumber:Wye({matchPattern:Vye,parsePattern:Hye,valueCallback:t=>parseInt(t,10)}),era:Uu({matchPatterns:Kye,defaultMatchWidth:"wide",parsePatterns:Gye,defaultParseWidth:"any"}),quarter:Uu({matchPatterns:Yye,defaultMatchWidth:"wide",parsePatterns:Xye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Uu({matchPatterns:Qye,defaultMatchWidth:"wide",parsePatterns:Jye,defaultParseWidth:"any"}),day:Uu({matchPatterns:Zye,defaultMatchWidth:"wide",parsePatterns:ebe,defaultParseWidth:"any"}),dayPeriod:Uu({matchPatterns:tbe,defaultMatchWidth:"any",parsePatterns:rbe,defaultParseWidth:"any"})},pq={code:"en-US",formatDistance:Aye,formatLong:jye,formatRelative:Iye,localize:Bye,match:nbe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ibe(t,e,r){const n=dq(),i=r?.locale??n.locale??pq,s=2520,a=vd(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:a});let u,d;a>0?(u=rr(e),d=rr(t)):(u=rr(t),d=rr(e));const f=Oye(d,u),p=(ig(d)-ig(u))/1e3,g=Math.round((f-p)/60);let w;if(g<2)return r?.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,o):f<10?i.formatDistance("lessThanXSeconds",10,o):f<20?i.formatDistance("lessThanXSeconds",20,o):f<40?i.formatDistance("halfAMinute",0,o):f<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):g===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",g,o);if(g<45)return i.formatDistance("xMinutes",g,o);if(g<90)return i.formatDistance("aboutXHours",1,o);if(g<ng){const x=Math.round(g/60);return i.formatDistance("aboutXHours",x,o)}else{if(g<s)return i.formatDistance("xDays",1,o);if(g<Fl){const x=Math.round(g/ng);return i.formatDistance("xDays",x,o)}else if(g<Fl*2)return w=Math.round(g/Fl),i.formatDistance("aboutXMonths",w,o)}if(w=Eye(d,u),w<12){const x=Math.round(g/Fl);return i.formatDistance("xMonths",x,o)}else{const x=w%12,y=Math.trunc(w/12);return x<3?i.formatDistance("aboutXYears",y,o):x<9?i.formatDistance("overXYears",y,o):i.formatDistance("almostXYears",y+1,o)}}function sbe(t,e,r){const n=dq(),i=r?.locale??n.locale??pq,s=vd(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const a=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:s});let o,u;s>0?(o=rr(e),u=rr(t)):(o=rr(t),u=rr(e));const d=hq(r?.roundingMethod??"round"),f=u.getTime()-o.getTime(),p=f/E$,g=ig(u)-ig(o),w=(f-g)/E$,x=r?.unit;let y;if(x?y=x:p<1?y="second":p<60?y="minute":p<ng?y="hour":w<Fl?y="day":w<O$?y="month":y="year",y==="second"){const b=d(f/1e3);return i.formatDistance("xSeconds",b,a)}else if(y==="minute"){const b=d(p);return i.formatDistance("xMinutes",b,a)}else if(y==="hour"){const b=d(p/60);return i.formatDistance("xHours",b,a)}else if(y==="day"){const b=d(w/ng);return i.formatDistance("xDays",b,a)}else if(y==="month"){const b=d(w/Fl);return b===12&&x!=="month"?i.formatDistance("xYears",1,a):i.formatDistance("xMonths",b,a)}else{const b=d(w/O$);return i.formatDistance("xYears",b,a)}}function abe(t,e){return ibe(t,fq(t),e)}function mq(t,e){return sbe(t,fq(t),e)}const rE="4h",ca="BTCUSDT",Tl="analyse-status",Fp=[{value:"15m",label:"15min",display:"15m",backend:"15m",legacy:["15"]},{value:"1h",label:"1hr",display:"1h",backend:"1h",legacy:["60"]},{value:"4h",label:"4hr",display:"4h",backend:"4h",legacy:["240"]},{value:"1d",label:"1Day",display:"1D",backend:"1d",legacy:["D","1day"]},{value:"1w",label:"1Week",display:"1W",backend:"1w",legacy:["W"]}];function obe({status:t}){return null}function Bu(t){const e=(t||"").trim().toUpperCase();return e?e.endsWith("USDT")?e:`${e}USDT`:ca}function Sp(t){const e=(t||"").toUpperCase();return e.endsWith("USDT")?`${e.slice(0,-4)}/USDT`:e||ca}const qu=t=>{const e=(t||"").toString().trim().toUpperCase();return(e.includes(":")?e.split(":").pop():e).replace(/\s+/g,"")},lbe=Fp.reduce((t,e)=>(t[e.value.toLowerCase()]=e,t[e.backend.toLowerCase()]=e,e.legacy?.forEach(r=>{t[r.toLowerCase()]=e}),t),{});function T$(t){return t?lbe[t.toLowerCase()]?.value??rE:rE}function cbe(t){const e=new URLSearchParams(typeof window<"u"?window.location.search.replace(/^\?/,""):"");return t&&new URLSearchParams(t).forEach((n,i)=>{e.set(i,n)}),e.toString()}function ube(){if(typeof window>"u"||!window.location.search)return;const t=new URL(window.location.href);t.search&&(t.search="",window.history.replaceState(null,"",t.toString()))}function A$(t){const e=t.replace(/[_-]+/g," ").trim();return e?e.split(" ").filter(Boolean).map(r=>r[0].toUpperCase()+r.slice(1)).join(" "):t}function dbe(t){if(t==null||t==="")return"";if(typeof t=="string")return t;if(typeof t=="number"){if(!Number.isFinite(t))return"";const e=Math.abs(t);return e===0?"0.00":e<1e-4?t.toFixed(8):e<.01?t.toFixed(6):e<1?t.toFixed(4):e<100?t.toFixed(2):e<1e4?t.toFixed(1):t.toFixed(0)}return String(t)}function fbe(t){if(!t)return[];const e=xa(t.breakdown);if(e.length>0)return e;const r=xa(t.technicals);if(r.length>0)return r;const n=xa(t.checks);if(n.length>0)return n;const i=t.indicators;if(i&&typeof i=="object"&&!Array.isArray(i)){const s=Object.entries(i).map(([a,o])=>{if(!o||typeof o!="object")return{title:A$(a),value:o,signal:void 0,reason:void 0};const u=typeof o.value=="number"||typeof o.value=="string"?o.value:(typeof o.score=="number",o.score);return{title:A$(a),value:u,signal:o.signal,reason:o.reason??o.description}}).filter(a=>a?.title);return s.length===0&&Object.keys(i).length>0&&console.warn("[Breakdown] Indicators present but no rows extracted",{indicatorCount:Object.keys(i).length,firstKey:Object.keys(i)[0],firstValue:Object.values(i)[0]}),s}return t&&typeof t=="object"&&console.warn("[Breakdown] Item has no indicators field",{itemKeys:Object.keys(t).slice(0,5),symbol:t.symbol}),[]}const Ep=({label:t,value:e,hint:r,tone:n="default",icon:i})=>{const s=n==="up"?"text-emerald-400":n==="down"?"text-rose-400":"text-slate-200";return m.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-700/60 bg-slate-800/40 px-3 py-1.5 shadow-sm ring-1 ring-black/5",role:"status","aria-label":t,title:typeof e=="string"?`${t}: ${e}`:t,children:[i?m.jsx("span",{className:"opacity-80",children:i}):null,m.jsx("span",{className:"text-xs text-slate-400",children:t}),m.jsx("span",{className:`text-sm font-semibold ${s}`,children:e}),r?m.jsx("span",{className:"text-[11px] text-slate-500",children:r}):null]})},as={priceData:t=>`analyse_price_${t}`,scanResult:(t,e)=>`analyse_scan_${t}_${e}`};function hbe(){const{toast:t}=JF(),e=qi(),{signInWithGoogle:r}=zi(),{loading:n}=ks(),{requireLogin:i,user:s}=XE(),a=!!s,o=s?.id??null,u=$E(),d=u===!0,f=u===!1,p=u===null,[g,w]=SH("/analyse/:symbol?"),[x,y]=Ps(),b=S.useMemo(()=>{const ye=x??"",Ee=ye.startsWith("#")?ye.slice(1):ye,[Ke="",Ne=""]=Ee.split("?");return{path:Ke?Ke.startsWith("/")?Ke:`/${Ke}`:"/",hashSearch:Ne,search:cbe(Ne)}},[x]),E=S.useMemo(()=>new URLSearchParams(b.search),[b.search]),O=E.get("symbol"),A=E.get("tf"),P=Bu(w?.symbol||O||ca),T=T$(A||void 0),[C,j]=S.useState(P),[N,D]=S.useState(T),[M,R]=S.useState(qu(P)),[$,F]=S.useState(T),K=S.useRef(!1),[G,V]=S.useState(P||ca),[Q,z]=S.useState(()=>{if(typeof window>"u")return null;const ye=localStorage.getItem(as.scanResult(qu(P),T));return ye?JSON.parse(ye):null}),[J,ie]=S.useState(!1),U=S.useRef(null),Y=S.useRef(""),he=S.useRef(P),we=S.useRef(T),Se=S.useRef(!0),de=S.useRef(!!(w?.symbol||O));S.useEffect(()=>(ie(!1),()=>{try{U.current?.abort()}catch{}}),[]),S.useEffect(()=>{const ye=Bu(w?.symbol||O||ca);ye!==C&&(K.current=!0,j(ye));const Ee=T$(A||void 0);Ee!==N&&(K.current=!0,D(Ee))},[w?.symbol,O,A]);const le=ye=>{const Ee=(ye||"").toUpperCase();return Ee.endsWith("USDT")?Ee.slice(0,-4):Ee};S.useEffect(()=>{V(le(C)||le(ca))},[C]),S.useEffect(()=>{if(Se.current&&C){Se.current=!1;const ye=setTimeout(()=>{Ge(C,N)},100);return()=>clearTimeout(ye)}},[]),S.useEffect(()=>{if(!g)return;if(K.current){K.current=!1;return}const ye=new URLSearchParams(b.search);ye.set("tf",N);const Ee=ye.toString(),Ke=`/analyse/${C}`,Ne=Ee?`${Ke}?${Ee}`:Ke;`${b.path}${b.hashSearch?`?${b.hashSearch}`:""}`!==Ne&&(y(Ne),ube())},[C,N,b.path,b.search,b.hashSearch,g]);const[ce,ee]=S.useState(()=>{if(typeof window>"u")return null;const ye=localStorage.getItem(as.priceData(P));return ye?JSON.parse(ye):null});S.useEffect(()=>{if(!C)return;const ye=localStorage.getItem(as.priceData(C));if(ye)try{ee(JSON.parse(ye))}catch{}const Ee=C.toUpperCase();let Ke=!0,Ne=null;const Tt=async()=>{try{console.debug("[Ticker] Fetching from backend:",Ee);const qt=await fetch(`/api/market/ticker/${Ee}`);if(!qt.ok)throw new Error(`HTTP ${qt.status}`);const at=await qt.json();if(!Ke)return;if(!at?.symbol||!at?.lastPrice)throw new Error(`Invalid ticker response for ${Ee}`);console.debug("[Ticker] Backend data received:",{targetSymbol:Ee,apiData:at});const dr={symbol:String(at.symbol||Ee),lastPrice:String(at.lastPrice||"0"),priceChange:String(at.priceChange||"0"),priceChangePercent:String(at.priceChangePercent||"0"),highPrice:String(at.highPrice||"0"),lowPrice:String(at.lowPrice||"0"),volume:String(at.volume||"0"),quoteVolume:String(at.quoteVolume||"0")};console.debug("[Ticker] Setting price data:",dr),ee(dr),localStorage.setItem(as.priceData(C),JSON.stringify(dr))}catch(qt){if(console.warn("[Ticker] Backend fetch failed, trying WebSocket:",qt),!Ke)return;At()}},At=()=>{try{const qt=UE(C,{onMessage:at=>{if(!Ke||(at.symbol||"").toUpperCase()!==Ee)return;console.debug("[Ticker] WebSocket data received:",Ee),Ne&&clearTimeout(Ne);const dr={symbol:at.symbol,lastPrice:at.lastPrice,priceChange:at.priceChange,priceChangePercent:at.priceChangePercent,highPrice:at.highPrice,lowPrice:at.lowPrice,volume:at.volume,quoteVolume:at.quoteVolume};ee(dr),localStorage.setItem(as.priceData(C),JSON.stringify(dr))},onError:at=>{console.warn("[Ticker] WebSocket error:",at),Ke&&(Ne&&clearTimeout(Ne),Ne=setTimeout(()=>{Ke&&(console.debug("[Ticker] Retrying backend after WebSocket failure"),Tt())},2e3))}});return()=>{Ne&&clearTimeout(Ne),qt?.()}}catch(qt){console.error("[Ticker] WebSocket setup failed:",qt)}};return Tt(),()=>{Ke=!1,Ne&&clearTimeout(Ne)}},[C]);const ae=(ce?.symbol||"").toUpperCase()===C.toUpperCase()?ce:null;S.useEffect(()=>{console.debug("[Ticker] State after update:",{priceDataSymbol:ce?.symbol,selectedSymbol:C,symbolsMatch:(ce?.symbol||"").toUpperCase()===C.toUpperCase(),latestPrice:ae?"LOADED":"NULL",lastPrice:ae?.lastPrice,quoteVolume:ae?.quoteVolume})},[ce,C,ae]);const ge=!ae,ne=ge?0:parseFloat(ae?.priceChangePercent||"0"),Fe=ne>0,Te=ge?"Loading...":"...";Number(Q?.totalScore??0);const Je=bl(Q?.recommendation||"hold");Je.toLowerCase(),Je.replace(/_/g," ").toUpperCase();const Ge=S.useCallback(async(ye,Ee)=>{const Ne=Bu(ye??C??G??ca),Tt=qu(Ne||ca),At=Ee??N??rE,qt=`${Tt}|${At}`;if(qt===Y.current&&J){console.debug("[Analyse] Duplicate scan blocked:",qt);return}Y.current=qt;try{U.current?.abort()}catch{}const at=new AbortController;U.current=at;const dr=localStorage.getItem(as.scanResult(Tt,At));if(dr)try{z(JSON.parse(dr)),console.debug("[Analyse] Loaded cached result for",Tt,At)}catch{}ie(!0),R(Tt),F(At);let Gn;try{Gn=setTimeout(()=>at.abort(),25e3);const wi=Fp.find(hn=>hn.value===At)?.backend??At??"1d",Ms=z_(Ne);t.dismiss(Tl),t.loading("Analysing",{id:Tl}),window.dispatchEvent(new CustomEvent("tv:update",{detail:{symbol:Tt,timeframe:wi}}));const fn=await Ia("/api/scanner/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:Ms,timeframe:wi,userId:o}),signal:at.signal});if(fn.status===401)throw new Error("401: Unauthorized");if(!fn.ok)throw new Error(`Scan HTTP ${fn.status}`);const bt=await fn.json().catch(()=>null);console.log("[DEBUG] Scan payload received:",bt?"Yes":"No"),bt&&(console.log("[DEBUG] Payload keys:",Object.keys(bt)),bt.candles?console.log("[DEBUG] Payload has candles:",bt.candles.length):console.log("[DEBUG] Payload MISSING candles"));const Kt=uq(bt);if(console.log("[DEBUG] Extracted item candles:",Kt?.candles?Kt.candles.length:"Missing"),!Kt){t.error("Analysis unavailable",{id:Tl}),z(null);return}const xr=bl(Kt.symbol||Ms).toUpperCase();t.success(`${xr} analysed`,{id:Tl}),z(Kt),localStorage.setItem(as.scanResult(Tt,At),JSON.stringify(Kt)),e.invalidateQueries({queryKey:["aiSummary",Tt,At]}),e.invalidateQueries({queryKey:["scan-history"]}),window.__tvSet?.(Tt,At),console.log("[Analyse] Run Analysis ",Tt,At)}catch(Qr){Qr?.name==="AbortError"?console.warn("[Analyse] scan aborted"):B_(Qr)?(t.dismiss(Tl),t({title:"Sign in required",description:"Please sign back in to analyze symbols.",variant:"destructive"}),r().catch(wi=>{console.error("Failed to sign in after unauthorized error",wi)})):(t.error("Analysis failed",{id:Tl}),console.error("[Analyse] scan failed",Qr))}finally{Gn&&clearTimeout(Gn),U.current=null,ie(!1)}},[J,e,C,r,G,N,t,o]);S.useEffect(()=>{if(!s){console.debug("[Analyse] Skipping auto-run: no user");return}if(!C){console.debug("[Analyse] Skipping auto-run: no symbol selected");return}if(Se.current){Se.current=!1,he.current=C,we.current=N,console.debug("[Analyse] First render:",{selectedSymbol:C,timeframe:N,initialExplicit:de.current}),de.current&&(console.debug("[Analyse] Triggering initial analysis"),Ge(C,N));return}const ye=C!==he.current,Ee=N!==we.current;if(!ye&&!Ee)return;const Ke=he.current,Ne=we.current;he.current=C,we.current=N,console.warn("[Analyse] Auto-run triggered:",{symbolChanged:ye,timeframeChanged:Ee,from:{symbol:Ke,timeframe:Ne},to:{symbol:C,timeframe:N}}),Ge(C,N)},[s,C,N]);const mt=On({queryKey:["watchlist"],enabled:a&&d,staleTime:6e4,queryFn:async()=>{const Ee=await(await ld("GET","/api/watchlist")).json();if(Array.isArray(Ee))return Ee;const Ke=Ee&&typeof Ee=="object"?Ee.items:null;return Array.isArray(Ke)?Ke:[]}}),Ht=xa(mt.data);S.useMemo(()=>Fp.find(ye=>ye.value===N),[N]);const Nt=qp({mutationFn:async ye=>await(await ld("POST","/api/watchlist",{symbol:z_(ye)})).json(),onSuccess:()=>{t({title:"Added to watchlist",description:`${Sp(C)} is now on your radar.`}),e.invalidateQueries({queryKey:["watchlist"]})},onError:ye=>{if(B_(ye)){t({title:"Sign in required",description:"Please sign in to manage your watchlist.",variant:"destructive"}),r().catch(Ee=>{console.error("Failed to sign in after unauthorized error",Ee)});return}t({title:"Could not add symbol",description:"Please try again in a moment.",variant:"destructive"})}}),B=qp({mutationFn:async ye=>await(await ld("DELETE",`/api/watchlist/${z_(ye)}`)).json(),onSuccess:()=>{t({title:"Removed from watchlist",description:`${Sp(C)} was removed from your list.`}),e.invalidateQueries({queryKey:["watchlist"]})},onError:ye=>{if(B_(ye)){t({title:"Sign in required",description:"Please sign in to manage your watchlist.",variant:"destructive"}),r().catch(Ee=>{console.error("Failed to sign in after unauthorized error",Ee)});return}t({title:"Could not update watchlist",description:"Please try again in a moment.",variant:"destructive"})}}),Z=Ht.map(ye=>(ye.symbol||"").toUpperCase()).includes(C.toUpperCase()),pe=()=>{if(!d){f&&t({title:"Backend required",description:"Log into a backend-enabled deployment to manage your watchlist.",variant:"destructive"});return}if(!a){t({title:"Sign in required",description:"Log in to manage your watchlist and save scans.",variant:"destructive"});return}Z?B.mutate(C):Nt.mutate(C)},fe=S.useCallback(()=>{const ye=(G||"").trim().toUpperCase();if(!ye){t({title:"Invalid input",description:"Enter a coin symbol (e.g., BTC, ETH, SOL)",variant:"destructive"});return}const Ee=Bu(ye),Ke=qu(Ee),Ne=localStorage.getItem(as.scanResult(Ke,N));if(Ne)try{z(JSON.parse(Ne))}catch{}if(V(le(Ee)),R(Ke),F(N),!a){j(Ee),t({title:"Sign in required",description:"Sign in to run full analysis."});return}t({title:"Analyzing...",description:`Loading ${Sp(Ee)} indicators`}),console.debug("[Analyse] handleSearch -> runAnalysis",{fullSymbol:Ee,timeframe:N}),Ge(Ee,N)},[G,N,a,t,Ge]),ue=S.useCallback(()=>{const ye=(G||"").trim().toUpperCase();let Ee=C;if(ye&&ye!==C&&ye!==le(C)){const At=Bu(ye);Ee=At,j(At),V(le(At))}if(!Ee){t({title:"Invalid symbol",description:"Select a valid symbol first.",variant:"destructive"});return}const Ke=qu(Ee),Ne=localStorage.getItem(as.scanResult(Ke,N));if(Ne)try{z(JSON.parse(Ne))}catch{}if(!d){R(Ke),F(N),f?t({title:"Backend required",variant:"destructive"}):p&&t({title:"Please wait",description:"Still checking backend status. Try again in a moment."});return}const Tt=Sp(Ee);t({title:"Symbol updated",description:`Analyzing ${Tt}`}),Ge(Ee,N)},[f,p,d,Ge,C,G,N,t]),Oe=S.useCallback(()=>{i("/analyse")||ue()},[ue,i]),ze=ye=>{ye.key==="Enter"&&fe()};return ge||Al(ae?.lastPrice),ge||(ne>0,`${ne.toFixed(2)}`),ge||C$(ae?.quoteVolume),ge||(m.Fragment,Al(ae?.lowPrice),Al(ae?.highPrice)),n?null:m.jsx("div",{className:"w-full max-w-screen-2xl 2xl:max-w-[1800px] mx-auto px-4 lg:px-6",children:m.jsxs("div",{className:"flex flex-col gap-5 py-6",children:[m.jsx(obe,{status:u}),m.jsx("header",{className:"flex flex-col gap-2",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"flex min-w-0 items-center gap-2 break-keep whitespace-normal text-3xl font-bold text-foreground",children:[m.jsx(OE,{className:"h-7 w-7 text-primary"}),m.jsx("span",{className:"min-w-0 overflow-hidden text-ellipsis whitespace-nowrap",children:"Decision Hub"})]}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time charts, quantitative scans, and idea discovery in one cockpit."})]}),m.jsxs(it,{variant:Z?"secondary":"outline",onClick:pe,disabled:Nt.isPending||B.isPending||!d,children:[m.jsx(XH,{className:`h-4 w-4 ${Z?"fill-yellow-400 text-yellow-400":""}`}),m.jsx("span",{className:"ml-2",children:Z?"Watching":"Add to Watchlist"})]})]})}),m.jsxs("div",{className:"rounded-xl border border-slate-700/60 bg-slate-900/40 p-3 md:p-3",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsx("div",{className:"min-w-[260px] grow lg:basis-[66%]",children:m.jsxs("div",{className:"relative",children:[m.jsx(tT,{placeholder:"Enter coin (BTC, ETH, SOL...)",value:G,onChange:ye=>V(ye.target.value.toUpperCase()),onKeyPress:ze,className:"h-11 w-full min-w-0 pl-10","data-testid":"input-search-symbol"}),m.jsx(Sd,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})]})}),m.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground md:text-sm",children:[m.jsx(Ap,{className:"h-4 w-4"}),m.jsx("span",{className:"whitespace-nowrap",children:"Timeframe"}),m.jsxs(rye,{value:N,onValueChange:D,children:[m.jsx(sq,{className:"h-9 min-w-[140px] border-border/60 bg-background/70 text-left text-foreground","data-testid":"select-timeframe",children:m.jsx(nye,{})}),m.jsx(lq,{children:Fp.map(ye=>m.jsx(cq,{value:ye.value,children:ye.label},ye.value))})]})]}),m.jsx("button",{type:"button",onClick:Oe,disabled:J,className:"ml-auto rounded-lg bg-primary text-primary-foreground px-4 py-2 text-sm font-medium hover:bg-primary/90 active:bg-primary/80 disabled:opacity-60 transition-colors","data-testid":"button-scan",children:J?"Scanning":"Run Analysis"})]}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 md:gap-4",children:[m.jsx(Ep,{label:"Current Price",value:ge?Te:Al(ae?.lastPrice),icon:m.jsx(pS,{className:"h-3.5 w-3.5 text-emerald-300"})}),m.jsx(Ep,{label:"24h Change",value:ge?Te:`${ne>0?"+":""}${ne.toFixed(2)}%`,tone:ge?"default":ne>0?"up":ne<0?"down":"default",icon:ge?m.jsx(fs,{className:"h-3.5 w-3.5 text-slate-300"}):Fe?m.jsx(fs,{className:"h-3.5 w-3.5 text-emerald-300"}):ne<0?m.jsx(vS,{className:"h-3.5 w-3.5 text-rose-300"}):m.jsx(fs,{className:"h-3.5 w-3.5 text-slate-300"})}),m.jsx(Ep,{label:"24h Volume",value:ge?Te:C$(ae?.quoteVolume),icon:m.jsx(gS,{className:"h-3.5 w-3.5 text-sky-300"})}),m.jsx(Ep,{label:"Today's Range",value:ge?Te:`${Al(ae?.lowPrice)} - ${Al(ae?.highPrice)}`,icon:m.jsx(Ap,{className:"h-3.5 w-3.5 text-amber-300"})})]})]}),!1,m.jsx("div",{className:"mt-4",children:m.jsxs("div",{className:`
            grid gap-6 items-start content-start
            grid-cols-1
            xl:grid-cols-[minmax(0,1fr)_minmax(0,2fr)_minmax(0,1fr)]
          `,children:[m.jsx("section",{className:"min-w-0 overflow-hidden",children:Q?(()=>{const Ke=fbe(Q).map(Ne=>{const Tt=bl(Ne?.signal).toLowerCase(),At=Tt==="bullish"||Tt==="bearish"?Tt:"neutral",qt=Ne?.value,at=dbe(qt);return{title:bl(Ne?.title||Ne?.key||Ne?.name),value:at,signal:At,reason:Ne?.reason?bl(Ne.reason):Ne?.description?bl(Ne.description):void 0}}).filter(Ne=>Ne.title);return Ke.length===0?m.jsx(q_,{rows:[]}):m.jsx(q_,{rows:Ke})})():m.jsx(q_,{rows:[],emptyState:m.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[m.jsx(Sd,{className:"mx-auto mb-4 h-12 w-12 opacity-40"}),m.jsx("h4",{className:"text-lg font-medium text-white",children:"No analysis yet"}),m.jsx("p",{className:"mx-auto mt-1 max-w-xs text-sm",children:"Run a scan to unlock AI-enhanced technical breakdowns across all indicators."})]})})}),m.jsx("section",{className:"min-w-0 overflow-hidden",children:m.jsxs(lt,{className:"flex h-full flex-col border-border/70 bg-card/70",children:[m.jsx(Ur,{className:"pb-2",children:m.jsx(Br,{className:"text-lg font-semibold",children:"Price Action"})}),m.jsx(ct,{className:"p-0",children:m.jsx("div",{className:"h-[560px] min-w-0 overflow-hidden rounded-xl border border-slate-700/60 bg-slate-900/40 md:h-[620px]",children:m.jsx("div",{className:"h-full w-full",children:m.jsx(zpe,{symbol:M,timeframe:$},`${M}-${$}`)})})})]})}),m.jsx("section",{className:"min-w-0 overflow-hidden",children:m.jsx(gye,{symbol:C,tf:N,technicals:Q?.indicators,candles:Q?.candles})})]})})]})})}function Al(t){const e=parseFloat(t||"0");return Number.isNaN(e)?"$0.00":e>=1e3?`$${e.toLocaleString(void 0,{maximumFractionDigits:2})}`:e>=1?`$${e.toFixed(4)}`:`$${e.toFixed(8)}`}function C$(t){const e=parseFloat(t||"0");return Number.isNaN(e)?"$0.00":e>=1e9?`$${(e/1e9).toFixed(2)}B`:e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${(e/1e3).toFixed(2)}K`:`$${e.toFixed(2)}`}function pbe(t){const e=(t||"").toUpperCase();return e?e.endsWith("USDT")?`${e.slice(0,-4)}/USDT`:e:"BTC/USDT"}function mbe(t){if(!t&&t!==0)return null;const e=t instanceof Date?t:typeof t=="number"?new Date(t*1e3):new Date(t);return Number.isNaN(e.getTime())?null:mq(e,{addSuffix:!0})}function gbe(){const{isAuthenticated:t,isLoading:e}=zi(),r=On({queryKey:["watchlist-page",t],queryFn:async()=>{const o=await(await ld("GET","/api/watchlist")).json();return xa(o)},enabled:t}),n=S.useMemo(()=>r.data?xa(r.data):[],[r.data]),i=()=>{eT("#/account")},s=m.jsxs("div",{className:"rounded-xl border border-dashed border-border/60 bg-background/40 p-6 text-center",children:[m.jsx($H,{className:"mx-auto mb-3 h-10 w-10 text-primary"}),m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Build your first watchlist"}),m.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Add any market from the Analyse workspace to begin tracking live performance."}),m.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:justify-center",children:[m.jsx(Wt,{href:"/analyse/BTCUSDT",children:m.jsxs(it,{variant:"default",className:"w-full sm:w-auto",children:[m.jsx(eP,{className:"mr-2 h-4 w-4"}),"Browse analysis"]})}),m.jsx(Wt,{href:"/analyse/BTCUSDT",children:m.jsxs(it,{className:"w-full sm:w-auto",children:[m.jsx(mS,{className:"mr-2 h-4 w-4"}),"Open scanner"]})})]})]});return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground sm:text-3xl",children:"Watchlist"}),m.jsx("p",{className:"text-sm text-muted-foreground sm:text-base",children:"Keep your high-priority markets close and jump straight into analysis with a single tap."})]}),t?m.jsxs(it,{variant:"outline",onClick:()=>r.refetch(),disabled:r.isLoading||r.isRefetching,className:"w-full sm:w-auto",children:[m.jsx(GH,{className:"mr-2 h-4 w-4"})," Refresh"]}):null]}),m.jsxs(lt,{className:"border-border/70 bg-card/70",children:[m.jsxs(Ur,{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx(Br,{className:"text-xl font-semibold text-foreground",children:"Saved markets"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Markets you have marked from the Analyse workspace."})]}),n.length>0?m.jsxs(fi,{variant:"default",className:"w-fit",children:[n.length," ",n.length===1?"symbol":"symbols"]}):null]}),m.jsx(ct,{className:"space-y-4",children:t?r.isLoading||r.isRefetching?m.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((a,o)=>m.jsx(ZO,{className:"h-12 w-full rounded-xl"},o))}):r.error?m.jsxs("div",{className:"rounded-xl border border-destructive/30 bg-destructive/10 p-4 text-center",children:[m.jsx("p",{className:"text-sm font-medium text-destructive",children:"Unable to load watchlist right now."}),m.jsx("p",{className:"mt-2 text-xs text-destructive/80",children:"Please retry in a moment. If the problem persists, verify your network connection."}),m.jsx(it,{variant:"outline",className:"mt-4",onClick:()=>r.refetch(),disabled:r.isRefetching,children:"Try again"})]}):n.length===0?s:m.jsx("div",{className:"space-y-3",children:n.map(a=>{const o=mbe(a.createdAt),u=pbe(a.symbol),d=(a.symbol||"").toUpperCase();return m.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-border/60 bg-card/60 p-4 transition hover:border-primary/60 hover:bg-primary/5 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-base font-semibold text-foreground",children:u}),m.jsx("p",{className:"text-xs text-muted-foreground",children:o?`Added ${o}`:"Saved market"})]}),m.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[m.jsx(Wt,{href:`/analyse/${d}`,className:"w-full sm:w-auto",children:m.jsxs(it,{className:"w-full",children:[m.jsx(mS,{className:"mr-2 h-4 w-4"}),"Open in Analyse"]})}),m.jsx(Wt,{href:`/charts/${d}`,className:"w-full sm:w-auto",children:m.jsxs(it,{variant:"outline",className:"w-full",children:[m.jsx(eP,{className:"mr-2 h-4 w-4"}),"View chart"]})})]})]},a.id)})}):m.jsxs("div",{className:"rounded-xl border border-border/60 bg-card/60 p-6 text-center",children:[m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Sign in to sync your watchlist"}),m.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Log in to securely store markets across devices and unlock instant access from the dashboard."}),m.jsx(it,{onClick:i,className:"mt-4",disabled:e,children:"Start with Google"})]})})]})]})}function vbe(t){const e=(t||"").toUpperCase();return e?e.endsWith("USDT")?`${e.slice(0,-4)}/USDT`:e:"BTC/USDT"}const ybe=[{id:"breakout",title:"Breakout watcher",description:"Alert when price moves 5% within the selected timeframe.",badge:"Momentum"},{id:"reversal",title:"Trend reversal",description:"Get notified when RSI crosses bullish or bearish thresholds.",badge:"Technicals"},{id:"volume",title:"Volume spike",description:"Ping when 24h volume surges above the rolling average.",badge:"Liquidity"}];function bbe(){const{isAuthenticated:t,isLoading:e}=zi(),r=On({queryKey:["alerts-watchlist",t],queryFn:async()=>{const a=await(await ld("GET","/api/watchlist")).json();return xa(a)},enabled:t}),n=S.useMemo(()=>r.data?xa(r.data):[],[r.data]),i=()=>{eT("#/account")};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Smart alerts"}),m.jsx("p",{className:"text-muted-foreground",children:"Stay ahead of market swings with proactive notifications tied to your watchlist."})]}),t?m.jsxs(fi,{variant:"outline",className:"w-fit gap-2 px-3 py-1 text-sm",children:[m.jsx(DH,{className:"h-4 w-4"})," Synced with watchlist"]}):null]}),m.jsxs(lt,{className:"border-border/70 bg-card/70",children:[m.jsx(Ur,{children:m.jsx(Br,{className:"text-xl font-semibold text-foreground",children:"Active markets"})}),m.jsx(ct,{className:"space-y-4",children:t?r.isLoading||r.isRefetching?m.jsx("div",{className:"space-y-2",children:Array.from({length:4}).map((s,a)=>m.jsx(ZO,{className:"h-12 w-full rounded-xl"},a))}):r.error?m.jsxs("div",{className:"rounded-xl border border-destructive/30 bg-destructive/10 p-4 text-center",children:[m.jsx("p",{className:"text-sm font-medium text-destructive",children:"We couldn't fetch your saved markets."}),m.jsx("p",{className:"mt-2 text-xs text-destructive/80",children:"Refresh the page or try again in a few moments."}),m.jsx(it,{variant:"outline",className:"mt-4",onClick:()=>r.refetch(),disabled:r.isRefetching,children:"Retry"})]}):n.length===0?m.jsxs("div",{className:"rounded-xl border border-dashed border-border/60 bg-background/40 p-6 text-center",children:[m.jsx(KH,{className:"mx-auto mb-3 h-10 w-10 text-primary"}),m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No markets are being monitored yet"}),m.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Star at least one pair from the watchlist or charts to begin receiving price movement alerts."}),m.jsx(Wt,{href:"/watchlist",children:m.jsx(it,{variant:"default",className:"mt-4",children:"Manage watchlist"})})]}):m.jsx("div",{className:"space-y-3",children:n.map(s=>{const a=vbe(s.symbol),o=(s.symbol||"").toUpperCase();return m.jsxs("div",{className:`flex flex-col gap-3 rounded-xl border border-border/60 bg-card/60 p-4 transition hover:border-pri
mary/60 hover:bg-primary/5 sm:flex-row sm:items-center sm:justify-between`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs(fi,{variant:"default",className:"gap-1",children:[m.jsx(iF,{className:"h-3.5 w-3.5"}),"Priority"]}),m.jsx("p",{className:"text-base font-semibold text-foreground",children:a})]}),m.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[m.jsx(Wt,{href:`/analyse/${o}`,className:"w-full sm:w-auto",children:m.jsx(it,{className:"w-full",children:"Configure in Analyse"})}),m.jsx(Wt,{href:`/charts/${o}`,className:"w-full sm:w-auto",children:m.jsx(it,{variant:"outline",className:"w-full",children:"Monitor live chart"})})]})]},s.id)})}):m.jsxs("div",{className:"rounded-xl border border-border/60 bg-card/60 p-6 text-center",children:[m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Sign in to configure alerts"}),m.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Alerts follow the symbols you star. Connect your account to start receiving timely nudges."}),m.jsx(it,{onClick:i,className:"mt-4",disabled:e,children:"Start with Google"})]})})]}),m.jsxs(lt,{className:"border-border/70 bg-card/60",children:[m.jsx(Ur,{children:m.jsxs(Br,{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[m.jsx(sF,{className:"h-5 w-5 text-primary"})," Suggested triggers"]})}),m.jsx(ct,{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:ybe.map(s=>m.jsxs("div",{className:"rounded-xl border border-border/60 bg-card/80 p-4",children:[m.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[m.jsx("p",{className:"font-semibold text-foreground text-sm",children:s.title}),m.jsx(fi,{variant:"outline",className:"text-xs w-fit",children:s.badge})]}),m.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:s.description})]},s.id))})]}),m.jsxs(lt,{className:"border-border/70 bg-card/60",children:[m.jsx(Ur,{children:m.jsxs(Br,{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[m.jsx(YH,{className:"h-5 w-5 text-primary"})," Delivery preferences"]})}),m.jsxs(ct,{className:"space-y-3 text-sm text-muted-foreground",children:[m.jsx("p",{children:"Alerts arrive instantly on the device you're signed into. We'll surface urgent moves in-app and follow up with email summaries for anything you miss."}),m.jsx("p",{children:"Prefer quieter trading sessions? Toggle Do Not Disturb from the top navigation to pause alerts while keeping your watchlist intact."})]})]})]})}var vt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(vt||(vt={}));var k$;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(k$||(k$={}));const De=vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ua=t=>{switch(typeof t){case"undefined":return De.undefined;case"string":return De.string;case"number":return Number.isNaN(t)?De.nan:De.number;case"boolean":return De.boolean;case"function":return De.function;case"bigint":return De.bigint;case"symbol":return De.symbol;case"object":return Array.isArray(t)?De.array:t===null?De.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?De.promise:typeof Map<"u"&&t instanceof Map?De.map:typeof Set<"u"&&t instanceof Set?De.set:typeof Date<"u"&&t instanceof Date?De.date:De.object;default:return De.unknown}},_e=vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Cs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(r(a))):o[d]=o[d]||{_errors:[]},o=o[d],u++}}};return i(this),n}static assert(e){if(!(e instanceof Cs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Cs.create=t=>new Cs(t);const nE=(t,e)=>{let r;switch(t.code){case _e.invalid_type:t.received===De.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case _e.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,vt.jsonStringifyReplacer)}`;break;case _e.unrecognized_keys:r=`Unrecognized key(s) in object: ${vt.joinValues(t.keys,", ")}`;break;case _e.invalid_union:r="Invalid input";break;case _e.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${vt.joinValues(t.options)}`;break;case _e.invalid_enum_value:r=`Invalid enum value. Expected ${vt.joinValues(t.options)}, received '${t.received}'`;break;case _e.invalid_arguments:r="Invalid function arguments";break;case _e.invalid_return_type:r="Invalid function return type";break;case _e.invalid_date:r="Invalid date";break;case _e.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:vt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case _e.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case _e.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case _e.custom:r="Invalid input";break;case _e.invalid_intersection_types:r="Intersection results could not be merged";break;case _e.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case _e.not_finite:r="Number must be finite";break;default:r=e.defaultError,vt.assertNever(t)}return{message:r}};let wbe=nE;function xbe(){return wbe}const _be=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const u=n.filter(d=>!!d).slice().reverse();for(const d of u)o=d(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function Ce(t,e){const r=xbe(),n=_be({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===nE?void 0:nE].filter(i=>!!i)});t.common.issues.push(n)}class An{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Xe;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return An.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Xe;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}}const Xe=Object.freeze({status:"aborted"}),ed=t=>({status:"dirty",value:t}),Kn=t=>({status:"valid",value:t}),P$=t=>t.status==="aborted",j$=t=>t.status==="dirty",Tc=t=>t.status==="valid",sg=t=>typeof Promise<"u"&&t instanceof Promise;var Le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Le||(Le={}));class ka{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const N$=(t,e)=>{if(Tc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Cs(t.common.issues);return this._error=r,this._error}}};function st(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:u??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:u??r??o.defaultError}},description:i}}class pt{get description(){return this._def.description}_getType(e){return ua(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ua(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new An,ctx:{common:e.parent.common,data:e.data,parsedType:ua(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(sg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ua(e)},i=this._parseSync({data:e,path:n.path,parent:n});return N$(n,i)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ua(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return Tc(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>Tc(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ua(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(sg(i)?i:Promise.resolve(i));return N$(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:_e.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Cc({schema:this,typeName:Qe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Sa.create(this,this._def)}nullable(){return kc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fi.create(this)}promise(){return cg.create(this,this._def)}or(e){return og.create([this,e],this._def)}and(e){return lg.create(this,e,this._def)}transform(e){return new Cc({...st(this._def),schema:this,typeName:Qe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new sE({...st(this._def),innerType:this,defaultValue:r,typeName:Qe.ZodDefault})}brand(){return new Vbe({typeName:Qe.ZodBranded,type:this,...st(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new aE({...st(this._def),innerType:this,catchValue:r,typeName:Qe.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return fT.create(this,e)}readonly(){return oE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Sbe=/^c[^\s-]{8,}$/i,Ebe=/^[0-9a-z]+$/,Obe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Tbe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Abe=/^[a-z0-9_-]{21}$/i,Cbe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kbe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Pbe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jbe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let V_;const Nbe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ibe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Rbe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Mbe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Dbe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$be=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,gq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Lbe=new RegExp(`^${gq}$`);function vq(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Fbe(t){return new RegExp(`^${vq(t)}$`)}function Ube(t){let e=`${gq}T${vq(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Bbe(t,e){return!!((e==="v4"||!e)&&Nbe.test(t)||(e==="v6"||!e)&&Rbe.test(t))}function qbe(t,e){if(!Cbe.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function zbe(t,e){return!!((e==="v4"||!e)&&Ibe.test(t)||(e==="v6"||!e)&&Mbe.test(t))}class va extends pt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==De.string){const s=this._getOrReturnCtx(e);return Ce(s,{code:_e.invalid_type,expected:De.string,received:s.parsedType}),Xe}const n=new An;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ce(i,{code:_e.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ce(i,{code:_e.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?Ce(i,{code:_e.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&Ce(i,{code:_e.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Pbe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"email",code:_e.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")V_||(V_=new RegExp(jbe,"u")),V_.test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"emoji",code:_e.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Tbe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"uuid",code:_e.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")Abe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"nanoid",code:_e.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Sbe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"cuid",code:_e.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Ebe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"cuid2",code:_e.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Obe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"ulid",code:_e.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ce(i,{validation:"url",code:_e.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"regex",code:_e.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ce(i,{code:_e.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ce(i,{code:_e.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ce(i,{code:_e.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Ube(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{code:_e.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Lbe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{code:_e.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Fbe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{code:_e.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?kbe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"duration",code:_e.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?Bbe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"ip",code:_e.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?qbe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"jwt",code:_e.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?zbe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"cidr",code:_e.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?Dbe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"base64",code:_e.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?$be.test(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{validation:"base64url",code:_e.invalid_string,message:s.message}),n.dirty()):vt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:_e.invalid_string,...Le.errToObj(n)})}_addCheck(e){return new va({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Le.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Le.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Le.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Le.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Le.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Le.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Le.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Le.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Le.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Le.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Le.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Le.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Le.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Le.errToObj(r)})}nonempty(e){return this.min(1,Le.errToObj(e))}trim(){return new va({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new va({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new va({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}va.create=t=>new va({checks:[],typeName:Qe.ZodString,coerce:t?.coerce??!1,...st(t)});function Wbe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class hf extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==De.number){const s=this._getOrReturnCtx(e);return Ce(s,{code:_e.invalid_type,expected:De.number,received:s.parsedType}),Xe}let n;const i=new An;for(const s of this._def.checks)s.kind==="int"?vt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ce(n,{code:_e.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ce(n,{code:_e.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ce(n,{code:_e.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Wbe(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Ce(n,{code:_e.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ce(n,{code:_e.not_finite,message:s.message}),i.dirty()):vt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Le.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Le.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Le.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Le.toString(r))}setLimit(e,r,n,i){return new hf({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Le.toString(i)}]})}_addCheck(e){return new hf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&vt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}hf.create=t=>new hf({checks:[],typeName:Qe.ZodNumber,coerce:t?.coerce||!1,...st(t)});class pf extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==De.bigint)return this._getInvalidInput(e);let n;const i=new An;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ce(n,{code:_e.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ce(n,{code:_e.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ce(n,{code:_e.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):vt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Ce(r,{code:_e.invalid_type,expected:De.bigint,received:r.parsedType}),Xe}gte(e,r){return this.setLimit("min",e,!0,Le.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Le.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Le.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Le.toString(r))}setLimit(e,r,n,i){return new pf({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Le.toString(i)}]})}_addCheck(e){return new pf({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}pf.create=t=>new pf({checks:[],typeName:Qe.ZodBigInt,coerce:t?.coerce??!1,...st(t)});class I$ extends pt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==De.boolean){const n=this._getOrReturnCtx(e);return Ce(n,{code:_e.invalid_type,expected:De.boolean,received:n.parsedType}),Xe}return Kn(e.data)}}I$.create=t=>new I$({typeName:Qe.ZodBoolean,coerce:t?.coerce||!1,...st(t)});class ag extends pt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==De.date){const s=this._getOrReturnCtx(e);return Ce(s,{code:_e.invalid_type,expected:De.date,received:s.parsedType}),Xe}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ce(s,{code:_e.invalid_date}),Xe}const n=new An;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ce(i,{code:_e.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ce(i,{code:_e.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):vt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ag({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Le.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Le.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}ag.create=t=>new ag({checks:[],coerce:t?.coerce||!1,typeName:Qe.ZodDate,...st(t)});class R$ extends pt{_parse(e){if(this._getType(e)!==De.symbol){const n=this._getOrReturnCtx(e);return Ce(n,{code:_e.invalid_type,expected:De.symbol,received:n.parsedType}),Xe}return Kn(e.data)}}R$.create=t=>new R$({typeName:Qe.ZodSymbol,...st(t)});class M$ extends pt{_parse(e){if(this._getType(e)!==De.undefined){const n=this._getOrReturnCtx(e);return Ce(n,{code:_e.invalid_type,expected:De.undefined,received:n.parsedType}),Xe}return Kn(e.data)}}M$.create=t=>new M$({typeName:Qe.ZodUndefined,...st(t)});class D$ extends pt{_parse(e){if(this._getType(e)!==De.null){const n=this._getOrReturnCtx(e);return Ce(n,{code:_e.invalid_type,expected:De.null,received:n.parsedType}),Xe}return Kn(e.data)}}D$.create=t=>new D$({typeName:Qe.ZodNull,...st(t)});class $$ extends pt{constructor(){super(...arguments),this._any=!0}_parse(e){return Kn(e.data)}}$$.create=t=>new $$({typeName:Qe.ZodAny,...st(t)});class L$ extends pt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Kn(e.data)}}L$.create=t=>new L$({typeName:Qe.ZodUnknown,...st(t)});class Pa extends pt{_parse(e){const r=this._getOrReturnCtx(e);return Ce(r,{code:_e.invalid_type,expected:De.never,received:r.parsedType}),Xe}}Pa.create=t=>new Pa({typeName:Qe.ZodNever,...st(t)});class F$ extends pt{_parse(e){if(this._getType(e)!==De.undefined){const n=this._getOrReturnCtx(e);return Ce(n,{code:_e.invalid_type,expected:De.void,received:n.parsedType}),Xe}return Kn(e.data)}}F$.create=t=>new F$({typeName:Qe.ZodVoid,...st(t)});class Fi extends pt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==De.array)return Ce(r,{code:_e.invalid_type,expected:De.array,received:r.parsedType}),Xe;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(a||o)&&(Ce(r,{code:a?_e.too_big:_e.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ce(r,{code:_e.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ce(r,{code:_e.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>i.type._parseAsync(new ka(r,a,r.path,o)))).then(a=>An.mergeArray(n,a));const s=[...r.data].map((a,o)=>i.type._parseSync(new ka(r,a,r.path,o)));return An.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Fi({...this._def,minLength:{value:e,message:Le.toString(r)}})}max(e,r){return new Fi({...this._def,maxLength:{value:e,message:Le.toString(r)}})}length(e,r){return new Fi({...this._def,exactLength:{value:e,message:Le.toString(r)}})}nonempty(e){return this.min(1,e)}}Fi.create=(t,e)=>new Fi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Qe.ZodArray,...st(e)});function Nl(t){if(t instanceof or){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Sa.create(Nl(n))}return new or({...t._def,shape:()=>e})}else return t instanceof Fi?new Fi({...t._def,type:Nl(t.element)}):t instanceof Sa?Sa.create(Nl(t.unwrap())):t instanceof kc?kc.create(Nl(t.unwrap())):t instanceof No?No.create(t.items.map(e=>Nl(e))):t}class or extends pt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=vt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==De.object){const d=this._getOrReturnCtx(e);return Ce(d,{code:_e.invalid_type,expected:De.object,received:d.parsedType}),Xe}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Pa&&this._def.unknownKeys==="strip"))for(const d in i.data)a.includes(d)||o.push(d);const u=[];for(const d of a){const f=s[d],p=i.data[d];u.push({key:{status:"valid",value:d},value:f._parse(new ka(i,p,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Pa){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of o)u.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(d==="strict")o.length>0&&(Ce(i,{code:_e.unrecognized_keys,keys:o}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of o){const p=i.data[f];u.push({key:{status:"valid",value:f},value:d._parse(new ka(i,p,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of u){const p=await f.key,g=await f.value;d.push({key:p,value:g,alwaysSet:f.alwaysSet})}return d}).then(d=>An.mergeObjectSync(n,d)):An.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return Le.errToObj,new or({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Le.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new or({...this._def,unknownKeys:"strip"})}passthrough(){return new or({...this._def,unknownKeys:"passthrough"})}extend(e){return new or({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new or({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Qe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new or({...this._def,catchall:e})}pick(e){const r={};for(const n of vt.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new or({...this._def,shape:()=>r})}omit(e){const r={};for(const n of vt.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new or({...this._def,shape:()=>r})}deepPartial(){return Nl(this)}partial(e){const r={};for(const n of vt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new or({...this._def,shape:()=>r})}required(e){const r={};for(const n of vt.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Sa;)s=s._def.innerType;r[n]=s}return new or({...this._def,shape:()=>r})}keyof(){return yq(vt.objectKeys(this.shape))}}or.create=(t,e)=>new or({shape:()=>t,unknownKeys:"strip",catchall:Pa.create(),typeName:Qe.ZodObject,...st(e)});or.strictCreate=(t,e)=>new or({shape:()=>t,unknownKeys:"strict",catchall:Pa.create(),typeName:Qe.ZodObject,...st(e)});or.lazycreate=(t,e)=>new or({shape:t,unknownKeys:"strip",catchall:Pa.create(),typeName:Qe.ZodObject,...st(e)});class og extends pt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Cs(o.ctx.common.issues));return Ce(r,{code:_e.invalid_union,unionErrors:a}),Xe}if(r.common.async)return Promise.all(n.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const u of n){const d={...r,common:{...r.common,issues:[]},parent:null},f=u._parseSync({data:r.data,path:r.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(u=>new Cs(u));return Ce(r,{code:_e.invalid_union,unionErrors:o}),Xe}}get options(){return this._def.options}}og.create=(t,e)=>new og({options:t,typeName:Qe.ZodUnion,...st(e)});function iE(t,e){const r=ua(t),n=ua(e);if(t===e)return{valid:!0,data:t};if(r===De.object&&n===De.object){const i=vt.objectKeys(e),s=vt.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const u=iE(t[o],e[o]);if(!u.valid)return{valid:!1};a[o]=u.data}return{valid:!0,data:a}}else if(r===De.array&&n===De.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],u=iE(a,o);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===De.date&&n===De.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class lg extends pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,a)=>{if(P$(s)||P$(a))return Xe;const o=iE(s.value,a.value);return o.valid?((j$(s)||j$(a))&&r.dirty(),{status:r.value,value:o.data}):(Ce(n,{code:_e.invalid_intersection_types}),Xe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}lg.create=(t,e,r)=>new lg({left:t,right:e,typeName:Qe.ZodIntersection,...st(r)});class No extends pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.array)return Ce(n,{code:_e.invalid_type,expected:De.array,received:n.parsedType}),Xe;if(n.data.length<this._def.items.length)return Ce(n,{code:_e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xe;!this._def.rest&&n.data.length>this._def.items.length&&(Ce(n,{code:_e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((a,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new ka(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>An.mergeArray(r,a)):An.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new No({...this._def,rest:e})}}No.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new No({items:t,typeName:Qe.ZodTuple,rest:null,...st(e)})};class U$ extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.map)return Ce(n,{code:_e.invalid_type,expected:De.map,received:n.parsedType}),Xe;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([o,u],d)=>({key:i._parse(new ka(n,o,n.path,[d,"key"])),value:s._parse(new ka(n,u,n.path,[d,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,f=await u.value;if(d.status==="aborted"||f.status==="aborted")return Xe;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),o.set(d.value,f.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const u of a){const d=u.key,f=u.value;if(d.status==="aborted"||f.status==="aborted")return Xe;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),o.set(d.value,f.value)}return{status:r.value,value:o}}}}U$.create=(t,e,r)=>new U$({valueType:e,keyType:t,typeName:Qe.ZodMap,...st(r)});class mf extends pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.set)return Ce(n,{code:_e.invalid_type,expected:De.set,received:n.parsedType}),Xe;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ce(n,{code:_e.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ce(n,{code:_e.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function a(u){const d=new Set;for(const f of u){if(f.status==="aborted")return Xe;f.status==="dirty"&&r.dirty(),d.add(f.value)}return{status:r.value,value:d}}const o=[...n.data.values()].map((u,d)=>s._parse(new ka(n,u,n.path,d)));return n.common.async?Promise.all(o).then(u=>a(u)):a(o)}min(e,r){return new mf({...this._def,minSize:{value:e,message:Le.toString(r)}})}max(e,r){return new mf({...this._def,maxSize:{value:e,message:Le.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}mf.create=(t,e)=>new mf({valueType:t,minSize:null,maxSize:null,typeName:Qe.ZodSet,...st(e)});class B$ extends pt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}B$.create=(t,e)=>new B$({getter:t,typeName:Qe.ZodLazy,...st(e)});class q$ extends pt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ce(r,{received:r.data,code:_e.invalid_literal,expected:this._def.value}),Xe}return{status:"valid",value:e.data}}get value(){return this._def.value}}q$.create=(t,e)=>new q$({value:t,typeName:Qe.ZodLiteral,...st(e)});function yq(t,e){return new Ac({values:t,typeName:Qe.ZodEnum,...st(e)})}class Ac extends pt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ce(r,{expected:vt.joinValues(n),received:r.parsedType,code:_e.invalid_type}),Xe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Ce(r,{received:r.data,code:_e.invalid_enum_value,options:n}),Xe}return Kn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ac.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ac.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Ac.create=yq;class z$ extends pt{_parse(e){const r=vt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==De.string&&n.parsedType!==De.number){const i=vt.objectValues(r);return Ce(n,{expected:vt.joinValues(i),received:n.parsedType,code:_e.invalid_type}),Xe}if(this._cache||(this._cache=new Set(vt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=vt.objectValues(r);return Ce(n,{received:n.data,code:_e.invalid_enum_value,options:i}),Xe}return Kn(e.data)}get enum(){return this._def.values}}z$.create=(t,e)=>new z$({values:t,typeName:Qe.ZodNativeEnum,...st(e)});class cg extends pt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==De.promise&&r.common.async===!1)return Ce(r,{code:_e.invalid_type,expected:De.promise,received:r.parsedType}),Xe;const n=r.parsedType===De.promise?r.data:Promise.resolve(r.data);return Kn(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}cg.create=(t,e)=>new cg({type:t,typeName:Qe.ZodPromise,...st(e)});class Cc extends pt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Ce(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return Xe;const u=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return u.status==="aborted"?Xe:u.status==="dirty"||r.value==="dirty"?ed(u.value):u});{if(r.value==="aborted")return Xe;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?Xe:o.status==="dirty"||r.value==="dirty"?ed(o.value):o}}if(i.type==="refinement"){const a=o=>{const u=i.refinement(o,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Xe:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Xe:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Tc(a))return Xe;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Tc(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:r.value,value:o})):Xe);vt.assertNever(i)}}Cc.create=(t,e,r)=>new Cc({schema:t,typeName:Qe.ZodEffects,effect:e,...st(r)});Cc.createWithPreprocess=(t,e,r)=>new Cc({schema:e,effect:{type:"preprocess",transform:t},typeName:Qe.ZodEffects,...st(r)});class Sa extends pt{_parse(e){return this._getType(e)===De.undefined?Kn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sa.create=(t,e)=>new Sa({innerType:t,typeName:Qe.ZodOptional,...st(e)});class kc extends pt{_parse(e){return this._getType(e)===De.null?Kn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kc.create=(t,e)=>new kc({innerType:t,typeName:Qe.ZodNullable,...st(e)});class sE extends pt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===De.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}sE.create=(t,e)=>new sE({innerType:t,typeName:Qe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...st(e)});class aE extends pt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return sg(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Cs(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Cs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}aE.create=(t,e)=>new aE({innerType:t,typeName:Qe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...st(e)});class W$ extends pt{_parse(e){if(this._getType(e)!==De.nan){const n=this._getOrReturnCtx(e);return Ce(n,{code:_e.invalid_type,expected:De.nan,received:n.parsedType}),Xe}return{status:"valid",value:e.data}}}W$.create=t=>new W$({typeName:Qe.ZodNaN,...st(t)});class Vbe extends pt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class fT extends pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Xe:s.status==="dirty"?(r.dirty(),ed(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Xe:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new fT({in:e,out:r,typeName:Qe.ZodPipeline})}}class oE extends pt{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Tc(i)&&(i.value=Object.freeze(i.value)),i);return sg(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}oE.create=(t,e)=>new oE({innerType:t,typeName:Qe.ZodReadonly,...st(e)});var Qe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Qe||(Qe={}));const Jl=va.create;Pa.create;Fi.create;const hT=or.create;og.create;lg.create;No.create;Ac.create;cg.create;Sa.create;kc.create;var Uf=t=>t.type==="checkbox",bo=t=>t instanceof Date,Kr=t=>t==null;const bq=t=>typeof t=="object";var ur=t=>!Kr(t)&&!Array.isArray(t)&&bq(t)&&!bo(t),Hbe=t=>ur(t)&&t.target?Uf(t.target)?t.target.checked:t.target.value:t,Kbe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Gbe=(t,e)=>t.has(Kbe(e)),Ybe=t=>{const e=t.constructor&&t.constructor.prototype;return ur(e)&&e.hasOwnProperty("isPrototypeOf")},pT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Tr(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(pT&&(t instanceof Blob||n))&&(r||ur(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!Ybe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Tr(t[i]));else return t;return e}var gv=t=>/^\w*$/.test(t),lr=t=>t===void 0,mT=t=>Array.isArray(t)?t.filter(Boolean):[],gT=t=>mT(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Re=(t,e,r)=>{if(!e||!ur(t))return r;const n=(gv(e)?[e]:gT(e)).reduce((i,s)=>Kr(i)?i:i[s],t);return lr(n)||n===t?lr(t[e])?r:t[e]:n},ki=t=>typeof t=="boolean",Ct=(t,e,r)=>{let n=-1;const i=gv(e)?[e]:gT(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let u=r;if(n!==a){const d=t[o];u=ur(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=u,t=t[o]}};const V$={BLUR:"blur",FOCUS_OUT:"focusout"},ci={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},os={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Xbe=W.createContext(null);Xbe.displayName="HookFormContext";var Qbe=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==ci.all&&(e._proxyFormState[a]=!n||ci.all),t[a]}});return i};const Jbe=typeof window<"u"?W.useLayoutEffect:W.useEffect;var En=t=>typeof t=="string",Zbe=(t,e,r,n,i)=>En(t)?(n&&e.watch.add(t),Re(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Re(r,s))):(n&&(e.watchAll=!0),r),lE=t=>Kr(t)||!bq(t);function ga(t,e,r=new WeakSet){if(lE(t)||lE(e))return t===e;if(bo(t)&&bo(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(bo(a)&&bo(o)||ur(a)&&ur(o)||Array.isArray(a)&&Array.isArray(o)?!ga(a,o,r):a!==o)return!1}}return!0}var wq=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},yd=t=>Array.isArray(t)?t:[t],H$=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function xq(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&ur(i)&&s){const a=xq(i,s);ur(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var ln=t=>ur(t)&&!Object.keys(t).length,vT=t=>t.type==="file",ui=t=>typeof t=="function",ug=t=>{if(!pT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},_q=t=>t.type==="select-multiple",yT=t=>t.type==="radio",e0e=t=>yT(t)||Uf(t),H_=t=>ug(t)&&t.isConnected;function t0e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=lr(t)?n++:t[e[n++]];return t}function r0e(t){for(const e in t)if(t.hasOwnProperty(e)&&!lr(t[e]))return!1;return!0}function ir(t,e){const r=Array.isArray(e)?e:gv(e)?[e]:gT(e),n=r.length===1?t:t0e(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(ur(n)&&ln(n)||Array.isArray(n)&&r0e(n))&&ir(t,r.slice(0,-1)),t}var n0e=t=>{for(const e in t)if(ui(t[e]))return!0;return!1};function Sq(t){return Array.isArray(t)||ur(t)&&!n0e(t)}function cE(t,e={}){for(const r in t)Sq(t[r])?(e[r]=Array.isArray(t[r])?[]:{},cE(t[r],e[r])):Kr(t[r])||(e[r]=!0);return e}function Il(t,e,r){r||(r=cE(e));for(const n in t)Sq(t[n])?lr(e)||lE(r[n])?r[n]=cE(t[n],Array.isArray(t[n])?[]:{}):Il(t[n],Kr(e)?{}:e[n],r[n]):r[n]=!ga(t[n],e[n]);return r}const K$={value:!1,isValid:!1},G$={value:!0,isValid:!0};var Eq=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!lr(t[0].attributes.value)?lr(t[0].value)||t[0].value===""?G$:{value:t[0].value,isValid:!0}:G$:K$}return K$},Oq=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>lr(t)?t:e?t===""?NaN:t&&+t:r&&En(t)?new Date(t):n?n(t):t;const Y$={isValid:!1,value:null};var Tq=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Y$):Y$;function X$(t){const e=t.ref;return vT(e)?e.files:yT(e)?Tq(t.refs).value:_q(e)?[...e.selectedOptions].map(({value:r})=>r):Uf(e)?Eq(t.refs).value:Oq(lr(e.value)?t.ref.value:e.value,t)}var i0e=(t,e,r,n)=>{const i={};for(const s of t){const a=Re(e,s);a&&Ct(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},dg=t=>t instanceof RegExp,zu=t=>lr(t)?t:dg(t)?t.source:ur(t)?dg(t.value)?t.value.source:t.value:t,Q$=t=>({isOnSubmit:!t||t===ci.onSubmit,isOnBlur:t===ci.onBlur,isOnChange:t===ci.onChange,isOnAll:t===ci.all,isOnTouch:t===ci.onTouched});const J$="AsyncFunction";var s0e=t=>!!t&&!!t.validate&&!!(ui(t.validate)&&t.validate.constructor.name===J$||ur(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===J$)),a0e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Z$=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const bd=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=Re(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(bd(o,e))break}else if(ur(o)&&bd(o,e))break}}};function eL(t,e,r){const n=Re(t,r);if(n||gv(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=Re(e,s),o=Re(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var o0e=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return ln(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||ci.all))},l0e=(t,e,r)=>!t||!e||t===e||yd(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),c0e=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,u0e=(t,e)=>!mT(Re(t,e)).length&&ir(t,e),d0e=(t,e,r)=>{const n=yd(Re(t,r));return Ct(n,"root",e[r]),Ct(t,r,n),t};function tL(t,e,r="validate"){if(En(t)||Array.isArray(t)&&t.every(En)||ki(t)&&!t)return{type:r,message:En(t)?t:"",ref:e}}var Cl=t=>ur(t)&&!dg(t)?t:{value:t,message:""},rL=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:u,maxLength:d,minLength:f,min:p,max:g,pattern:w,validate:x,name:y,valueAsNumber:b,mount:E}=t._f,O=Re(r,y);if(!E||e.has(y))return{};const A=o?o[0]:a,P=$=>{i&&A.reportValidity&&(A.setCustomValidity(ki($)?"":$||""),A.reportValidity())},T={},C=yT(a),j=Uf(a),N=C||j,D=(b||vT(a))&&lr(a.value)&&lr(O)||ug(a)&&a.value===""||O===""||Array.isArray(O)&&!O.length,M=wq.bind(null,y,n,T),R=($,F,K,G=os.maxLength,V=os.minLength)=>{const Q=$?F:K;T[y]={type:$?G:V,message:Q,ref:a,...M($?G:V,Q)}};if(s?!Array.isArray(O)||!O.length:u&&(!N&&(D||Kr(O))||ki(O)&&!O||j&&!Eq(o).isValid||C&&!Tq(o).isValid)){const{value:$,message:F}=En(u)?{value:!!u,message:u}:Cl(u);if($&&(T[y]={type:os.required,message:F,ref:A,...M(os.required,F)},!n))return P(F),T}if(!D&&(!Kr(p)||!Kr(g))){let $,F;const K=Cl(g),G=Cl(p);if(!Kr(O)&&!isNaN(O)){const V=a.valueAsNumber||O&&+O;Kr(K.value)||($=V>K.value),Kr(G.value)||(F=V<G.value)}else{const V=a.valueAsDate||new Date(O),Q=ie=>new Date(new Date().toDateString()+" "+ie),z=a.type=="time",J=a.type=="week";En(K.value)&&O&&($=z?Q(O)>Q(K.value):J?O>K.value:V>new Date(K.value)),En(G.value)&&O&&(F=z?Q(O)<Q(G.value):J?O<G.value:V<new Date(G.value))}if(($||F)&&(R(!!$,K.message,G.message,os.max,os.min),!n))return P(T[y].message),T}if((d||f)&&!D&&(En(O)||s&&Array.isArray(O))){const $=Cl(d),F=Cl(f),K=!Kr($.value)&&O.length>+$.value,G=!Kr(F.value)&&O.length<+F.value;if((K||G)&&(R(K,$.message,F.message),!n))return P(T[y].message),T}if(w&&!D&&En(O)){const{value:$,message:F}=Cl(w);if(dg($)&&!O.match($)&&(T[y]={type:os.pattern,message:F,ref:a,...M(os.pattern,F)},!n))return P(F),T}if(x){if(ui(x)){const $=await x(O,r),F=tL($,A);if(F&&(T[y]={...F,...M(os.validate,F.message)},!n))return P(F.message),T}else if(ur(x)){let $={};for(const F in x){if(!ln($)&&!n)break;const K=tL(await x[F](O,r),A,F);K&&($={...K,...M(F,K.message)},P(K.message),n&&(T[y]=$))}if(!ln($)&&(T[y]={ref:A,...$},!n))return T}}return P(!0),T};const f0e={mode:ci.onSubmit,reValidateMode:ci.onChange,shouldFocusError:!0};function h0e(t={}){let e={...f0e,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ui(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=ur(e.defaultValues)||ur(e.values)?Tr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Tr(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...f};const g={array:H$(),state:H$()},w=e.criteriaMode===ci.all,x=B=>q=>{clearTimeout(d),d=setTimeout(B,q)},y=async B=>{if(!e.disabled&&(f.isValid||p.isValid||B)){const q=e.resolver?ln((await j()).errors):await D(n,!0);q!==r.isValid&&g.state.next({isValid:q})}},b=(B,q)=>{!e.disabled&&(f.isValidating||f.validatingFields||p.isValidating||p.validatingFields)&&((B||Array.from(o.mount)).forEach(Z=>{Z&&(q?Ct(r.validatingFields,Z,q):ir(r.validatingFields,Z))}),g.state.next({validatingFields:r.validatingFields,isValidating:!ln(r.validatingFields)}))},E=(B,q=[],Z,pe,fe=!0,ue=!0)=>{if(pe&&Z&&!e.disabled){if(a.action=!0,ue&&Array.isArray(Re(n,B))){const Oe=Z(Re(n,B),pe.argA,pe.argB);fe&&Ct(n,B,Oe)}if(ue&&Array.isArray(Re(r.errors,B))){const Oe=Z(Re(r.errors,B),pe.argA,pe.argB);fe&&Ct(r.errors,B,Oe),u0e(r.errors,B)}if((f.touchedFields||p.touchedFields)&&ue&&Array.isArray(Re(r.touchedFields,B))){const Oe=Z(Re(r.touchedFields,B),pe.argA,pe.argB);fe&&Ct(r.touchedFields,B,Oe)}(f.dirtyFields||p.dirtyFields)&&(r.dirtyFields=Il(i,s)),g.state.next({name:B,isDirty:R(B,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ct(s,B,q)},O=(B,q)=>{Ct(r.errors,B,q),g.state.next({errors:r.errors})},A=B=>{r.errors=B,g.state.next({errors:r.errors,isValid:!1})},P=(B,q,Z,pe)=>{const fe=Re(n,B);if(fe){const ue=Re(s,B,lr(Z)?Re(i,B):Z);lr(ue)||pe&&pe.defaultChecked||q?Ct(s,B,q?ue:X$(fe._f)):K(B,ue),a.mount&&y()}},T=(B,q,Z,pe,fe)=>{let ue=!1,Oe=!1;const ze={name:B};if(!e.disabled){if(!Z||pe){(f.isDirty||p.isDirty)&&(Oe=r.isDirty,r.isDirty=ze.isDirty=R(),ue=Oe!==ze.isDirty);const ye=ga(Re(i,B),q);Oe=!!Re(r.dirtyFields,B),ye?ir(r.dirtyFields,B):Ct(r.dirtyFields,B,!0),ze.dirtyFields=r.dirtyFields,ue=ue||(f.dirtyFields||p.dirtyFields)&&Oe!==!ye}if(Z){const ye=Re(r.touchedFields,B);ye||(Ct(r.touchedFields,B,Z),ze.touchedFields=r.touchedFields,ue=ue||(f.touchedFields||p.touchedFields)&&ye!==Z)}ue&&fe&&g.state.next(ze)}return ue?ze:{}},C=(B,q,Z,pe)=>{const fe=Re(r.errors,B),ue=(f.isValid||p.isValid)&&ki(q)&&r.isValid!==q;if(e.delayError&&Z?(u=x(()=>O(B,Z)),u(e.delayError)):(clearTimeout(d),u=null,Z?Ct(r.errors,B,Z):ir(r.errors,B)),(Z?!ga(fe,Z):fe)||!ln(pe)||ue){const Oe={...pe,...ue&&ki(q)?{isValid:q}:{},errors:r.errors,name:B};r={...r,...Oe},g.state.next(Oe)}},j=async B=>{b(B,!0);const q=await e.resolver(s,e.context,i0e(B||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return b(B),q},N=async B=>{const{errors:q}=await j(B);if(B)for(const Z of B){const pe=Re(q,Z);pe?Ct(r.errors,Z,pe):ir(r.errors,Z)}else r.errors=q;return q},D=async(B,q,Z={valid:!0})=>{for(const pe in B){const fe=B[pe];if(fe){const{_f:ue,...Oe}=fe;if(ue){const ze=o.array.has(ue.name),ye=fe._f&&s0e(fe._f);ye&&f.validatingFields&&b([ue.name],!0);const Ee=await rL(fe,o.disabled,s,w,e.shouldUseNativeValidation&&!q,ze);if(ye&&f.validatingFields&&b([ue.name]),Ee[ue.name]&&(Z.valid=!1,q))break;!q&&(Re(Ee,ue.name)?ze?d0e(r.errors,Ee,ue.name):Ct(r.errors,ue.name,Ee[ue.name]):ir(r.errors,ue.name))}!ln(Oe)&&await D(Oe,q,Z)}}return Z.valid},M=()=>{for(const B of o.unMount){const q=Re(n,B);q&&(q._f.refs?q._f.refs.every(Z=>!H_(Z)):!H_(q._f.ref))&&le(B)}o.unMount=new Set},R=(B,q)=>!e.disabled&&(B&&q&&Ct(s,B,q),!ga(ie(),i)),$=(B,q,Z)=>Zbe(B,o,{...a.mount?s:lr(q)?i:En(B)?{[B]:q}:q},Z,q),F=B=>mT(Re(a.mount?s:i,B,e.shouldUnregister?Re(i,B,[]):[])),K=(B,q,Z={})=>{const pe=Re(n,B);let fe=q;if(pe){const ue=pe._f;ue&&(!ue.disabled&&Ct(s,B,Oq(q,ue)),fe=ug(ue.ref)&&Kr(q)?"":q,_q(ue.ref)?[...ue.ref.options].forEach(Oe=>Oe.selected=fe.includes(Oe.value)):ue.refs?Uf(ue.ref)?ue.refs.forEach(Oe=>{(!Oe.defaultChecked||!Oe.disabled)&&(Array.isArray(fe)?Oe.checked=!!fe.find(ze=>ze===Oe.value):Oe.checked=fe===Oe.value||!!fe)}):ue.refs.forEach(Oe=>Oe.checked=Oe.value===fe):vT(ue.ref)?ue.ref.value="":(ue.ref.value=fe,ue.ref.type||g.state.next({name:B,values:Tr(s)})))}(Z.shouldDirty||Z.shouldTouch)&&T(B,fe,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&J(B)},G=(B,q,Z)=>{for(const pe in q){if(!q.hasOwnProperty(pe))return;const fe=q[pe],ue=B+"."+pe,Oe=Re(n,ue);(o.array.has(B)||ur(fe)||Oe&&!Oe._f)&&!bo(fe)?G(ue,fe,Z):K(ue,fe,Z)}},V=(B,q,Z={})=>{const pe=Re(n,B),fe=o.array.has(B),ue=Tr(q);Ct(s,B,ue),fe?(g.array.next({name:B,values:Tr(s)}),(f.isDirty||f.dirtyFields||p.isDirty||p.dirtyFields)&&Z.shouldDirty&&g.state.next({name:B,dirtyFields:Il(i,s),isDirty:R(B,ue)})):pe&&!pe._f&&!Kr(ue)?G(B,ue,Z):K(B,ue,Z),Z$(B,o)&&g.state.next({...r,name:B}),g.state.next({name:a.mount?B:void 0,values:Tr(s)})},Q=async B=>{a.mount=!0;const q=B.target;let Z=q.name,pe=!0;const fe=Re(n,Z),ue=ye=>{pe=Number.isNaN(ye)||bo(ye)&&isNaN(ye.getTime())||ga(ye,Re(s,Z,ye))},Oe=Q$(e.mode),ze=Q$(e.reValidateMode);if(fe){let ye,Ee;const Ke=q.type?X$(fe._f):Hbe(B),Ne=B.type===V$.BLUR||B.type===V$.FOCUS_OUT,Tt=!a0e(fe._f)&&!e.resolver&&!Re(r.errors,Z)&&!fe._f.deps||c0e(Ne,Re(r.touchedFields,Z),r.isSubmitted,ze,Oe),At=Z$(Z,o,Ne);Ct(s,Z,Ke),Ne?(!q||!q.readOnly)&&(fe._f.onBlur&&fe._f.onBlur(B),u&&u(0)):fe._f.onChange&&fe._f.onChange(B);const qt=T(Z,Ke,Ne),at=!ln(qt)||At;if(!Ne&&g.state.next({name:Z,type:B.type,values:Tr(s)}),Tt)return(f.isValid||p.isValid)&&(e.mode==="onBlur"?Ne&&y():Ne||y()),at&&g.state.next({name:Z,...At?{}:qt});if(!Ne&&At&&g.state.next({...r}),e.resolver){const{errors:dr}=await j([Z]);if(ue(Ke),pe){const Gn=eL(r.errors,n,Z),Qr=eL(dr,n,Gn.name||Z);ye=Qr.error,Z=Qr.name,Ee=ln(dr)}}else b([Z],!0),ye=(await rL(fe,o.disabled,s,w,e.shouldUseNativeValidation))[Z],b([Z]),ue(Ke),pe&&(ye?Ee=!1:(f.isValid||p.isValid)&&(Ee=await D(n,!0)));pe&&(fe._f.deps&&(!Array.isArray(fe._f.deps)||fe._f.deps.length>0)&&J(fe._f.deps),C(Z,Ee,ye,qt))}},z=(B,q)=>{if(Re(r.errors,q)&&B.focus)return B.focus(),1},J=async(B,q={})=>{let Z,pe;const fe=yd(B);if(e.resolver){const ue=await N(lr(B)?B:fe);Z=ln(ue),pe=B?!fe.some(Oe=>Re(ue,Oe)):Z}else B?(pe=(await Promise.all(fe.map(async ue=>{const Oe=Re(n,ue);return await D(Oe&&Oe._f?{[ue]:Oe}:Oe)}))).every(Boolean),!(!pe&&!r.isValid)&&y()):pe=Z=await D(n);return g.state.next({...!En(B)||(f.isValid||p.isValid)&&Z!==r.isValid?{}:{name:B},...e.resolver||!B?{isValid:Z}:{},errors:r.errors}),q.shouldFocus&&!pe&&bd(n,z,B?fe:o.mount),pe},ie=(B,q)=>{let Z={...a.mount?s:i};return q&&(Z=xq(q.dirtyFields?r.dirtyFields:r.touchedFields,Z)),lr(B)?Z:En(B)?Re(Z,B):B.map(pe=>Re(Z,pe))},U=(B,q)=>({invalid:!!Re((q||r).errors,B),isDirty:!!Re((q||r).dirtyFields,B),error:Re((q||r).errors,B),isValidating:!!Re(r.validatingFields,B),isTouched:!!Re((q||r).touchedFields,B)}),Y=B=>{B&&yd(B).forEach(q=>ir(r.errors,q)),g.state.next({errors:B?r.errors:{}})},he=(B,q,Z)=>{const pe=(Re(n,B,{_f:{}})._f||{}).ref,fe=Re(r.errors,B)||{},{ref:ue,message:Oe,type:ze,...ye}=fe;Ct(r.errors,B,{...ye,...q,ref:pe}),g.state.next({name:B,errors:r.errors,isValid:!1}),Z&&Z.shouldFocus&&pe&&pe.focus&&pe.focus()},we=(B,q)=>ui(B)?g.state.subscribe({next:Z=>"values"in Z&&B($(void 0,q),Z)}):$(B,q,!0),Se=B=>g.state.subscribe({next:q=>{l0e(B.name,q.name,B.exact)&&o0e(q,B.formState||f,mt,B.reRenderRoot)&&B.callback({values:{...s},...r,...q,defaultValues:i})}}).unsubscribe,de=B=>(a.mount=!0,p={...p,...B.formState},Se({...B,formState:p})),le=(B,q={})=>{for(const Z of B?yd(B):o.mount)o.mount.delete(Z),o.array.delete(Z),q.keepValue||(ir(n,Z),ir(s,Z)),!q.keepError&&ir(r.errors,Z),!q.keepDirty&&ir(r.dirtyFields,Z),!q.keepTouched&&ir(r.touchedFields,Z),!q.keepIsValidating&&ir(r.validatingFields,Z),!e.shouldUnregister&&!q.keepDefaultValue&&ir(i,Z);g.state.next({values:Tr(s)}),g.state.next({...r,...q.keepDirty?{isDirty:R()}:{}}),!q.keepIsValid&&y()},ce=({disabled:B,name:q})=>{(ki(B)&&a.mount||B||o.disabled.has(q))&&(B?o.disabled.add(q):o.disabled.delete(q))},ee=(B,q={})=>{let Z=Re(n,B);const pe=ki(q.disabled)||ki(e.disabled);return Ct(n,B,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:B}},name:B,mount:!0,...q}}),o.mount.add(B),Z?ce({disabled:ki(q.disabled)?q.disabled:e.disabled,name:B}):P(B,!0,q.value),{...pe?{disabled:q.disabled||e.disabled}:{},...e.progressive?{required:!!q.required,min:zu(q.min),max:zu(q.max),minLength:zu(q.minLength),maxLength:zu(q.maxLength),pattern:zu(q.pattern)}:{},name:B,onChange:Q,onBlur:Q,ref:fe=>{if(fe){ee(B,q),Z=Re(n,B);const ue=lr(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,Oe=e0e(ue),ze=Z._f.refs||[];if(Oe?ze.find(ye=>ye===ue):ue===Z._f.ref)return;Ct(n,B,{_f:{...Z._f,...Oe?{refs:[...ze.filter(H_),ue,...Array.isArray(Re(i,B))?[{}]:[]],ref:{type:ue.type,name:B}}:{ref:ue}}}),P(B,!1,void 0,ue)}else Z=Re(n,B,{}),Z._f&&(Z._f.mount=!1),(e.shouldUnregister||q.shouldUnregister)&&!(Gbe(o.array,B)&&a.action)&&o.unMount.add(B)}}},ae=()=>e.shouldFocusError&&bd(n,z,o.mount),ge=B=>{ki(B)&&(g.state.next({disabled:B}),bd(n,(q,Z)=>{const pe=Re(n,Z);pe&&(q.disabled=pe._f.disabled||B,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(fe=>{fe.disabled=pe._f.disabled||B}))},0,!1))},ne=(B,q)=>async Z=>{let pe;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let fe=Tr(s);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:Oe}=await j();r.errors=ue,fe=Tr(Oe)}else await D(n);if(o.disabled.size)for(const ue of o.disabled)ir(fe,ue);if(ir(r.errors,"root"),ln(r.errors)){g.state.next({errors:{}});try{await B(fe,Z)}catch(ue){pe=ue}}else q&&await q({...r.errors},Z),ae(),setTimeout(ae);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ln(r.errors)&&!pe,submitCount:r.submitCount+1,errors:r.errors}),pe)throw pe},Fe=(B,q={})=>{Re(n,B)&&(lr(q.defaultValue)?V(B,Tr(Re(i,B))):(V(B,q.defaultValue),Ct(i,B,Tr(q.defaultValue))),q.keepTouched||ir(r.touchedFields,B),q.keepDirty||(ir(r.dirtyFields,B),r.isDirty=q.defaultValue?R(B,Tr(Re(i,B))):R()),q.keepError||(ir(r.errors,B),f.isValid&&y()),g.state.next({...r}))},Te=(B,q={})=>{const Z=B?Tr(B):i,pe=Tr(Z),fe=ln(B),ue=fe?i:pe;if(q.keepDefaultValues||(i=Z),!q.keepValues){if(q.keepDirtyValues){const Oe=new Set([...o.mount,...Object.keys(Il(i,s))]);for(const ze of Array.from(Oe))Re(r.dirtyFields,ze)?Ct(ue,ze,Re(s,ze)):V(ze,Re(ue,ze))}else{if(pT&&lr(B))for(const Oe of o.mount){const ze=Re(n,Oe);if(ze&&ze._f){const ye=Array.isArray(ze._f.refs)?ze._f.refs[0]:ze._f.ref;if(ug(ye)){const Ee=ye.closest("form");if(Ee){Ee.reset();break}}}}if(q.keepFieldsRef)for(const Oe of o.mount)V(Oe,Re(ue,Oe));else n={}}s=e.shouldUnregister?q.keepDefaultValues?Tr(i):{}:Tr(ue),g.array.next({values:{...ue}}),g.state.next({values:{...ue}})}o={mount:q.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!f.isValid||!!q.keepIsValid||!!q.keepDirtyValues,a.watch=!!e.shouldUnregister,g.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:fe?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!ga(B,i)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:fe?{}:q.keepDirtyValues?q.keepDefaultValues&&s?Il(i,s):r.dirtyFields:q.keepDefaultValues&&B?Il(i,B):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Je=(B,q)=>Te(ui(B)?B(s):B,q),Ge=(B,q={})=>{const Z=Re(n,B),pe=Z&&Z._f;if(pe){const fe=pe.refs?pe.refs[0]:pe.ref;fe.focus&&(fe.focus(),q.shouldSelect&&ui(fe.select)&&fe.select())}},mt=B=>{r={...r,...B}},Nt={control:{register:ee,unregister:le,getFieldState:U,handleSubmit:ne,setError:he,_subscribe:Se,_runSchema:j,_focusError:ae,_getWatch:$,_getDirty:R,_setValid:y,_setFieldArray:E,_setDisabledField:ce,_setErrors:A,_getFieldArray:F,_reset:Te,_resetDefaultValues:()=>ui(e.defaultValues)&&e.defaultValues().then(B=>{Je(B,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:ge,_subjects:g,_proxyFormState:f,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(B){a=B},get _defaultValues(){return i},get _names(){return o},set _names(B){o=B},get _formState(){return r},get _options(){return e},set _options(B){e={...e,...B}}},subscribe:de,trigger:J,register:ee,handleSubmit:ne,watch:we,setValue:V,getValues:ie,reset:Je,resetField:Fe,clearErrors:Y,unregister:le,setError:he,setFocus:Ge,getFieldState:U};return{...Nt,formControl:Nt}}function bT(t={}){const e=W.useRef(void 0),r=W.useRef(void 0),[n,i]=W.useState({isDirty:!1,isValidating:!1,isLoading:ui(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ui(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!ui(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=h0e(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,Jbe(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),W.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),W.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),W.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),W.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),W.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),W.useEffect(()=>{t.values&&!ga(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),W.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=Qbe(n,s),e.current}const nL=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Re(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Aq=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?nL(n.ref,r,t):n.refs&&n.refs.forEach(i=>nL(i,r,t))}},p0e=(t,e)=>{e.shouldUseNativeValidation&&Aq(t,e);const r={};for(const n in t){const i=Re(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(m0e(e.names||Object.keys(t),n)){const a=Object.assign({},Re(r,n));Ct(a,"root",s),Ct(r,n,a)}else Ct(r,n,s)}return r},m0e=(t,e)=>t.some(r=>r.startsWith(e+"."));var g0e=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return t.push(p)})}),e){var u=r[a].types,d=u&&u[n.code];r[a]=wq(a,e,r,i,d?[].concat(d,n.message):n.message)}t.shift()}return r},wT=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve((function(a,o){try{var u=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return s.shouldUseNativeValidation&&Aq({},s),{errors:{},values:r.raw?n:d}})}catch(d){return o(d)}return u&&u.then?u.then(void 0,o):u})(0,function(a){if((function(o){return Array.isArray(o?.errors)})(a))return{values:{},errors:p0e(g0e(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}};const v0e=hT({email:Jl().email(),password:Jl().min(6)});function y0e({onSwitchToSignup:t}){const[e,r]=Ps(),n=e.includes("?")?e.split("?")[1]:"",i=new URLSearchParams(n).get("redirect")||"/dashboard",{user:s,loading:a}=ks();S.useEffect(()=>{!a&&s&&r("/account")},[s,a,r]);const{register:o,handleSubmit:u,formState:{errors:d,isSubmitting:f}}=bT({resolver:wT(v0e)});async function p(g){const{error:w}=await hi.auth.signInWithPassword(g);if(w)return alert(w.message);r(i)}return m.jsxs("form",{onSubmit:u(p),className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),m.jsx("input",{...o("email"),type:"email",className:"mt-1 w-full rounded-xl bg-input border border-border px-3 py-2 outline-none focus:border-ring text-foreground"}),d.email&&m.jsx("p",{className:"text-xs text-red-400 mt-1",children:d.email.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Password"}),m.jsx("input",{...o("password"),type:"password",className:"mt-1 w-full rounded-xl bg-input border border-border px-3 py-2 outline-none focus:border-ring text-foreground"}),d.password&&m.jsx("p",{className:"text-xs text-red-400 mt-1",children:d.password.message})]}),m.jsx("div",{className:"text-sm -mt-1",children:m.jsx(Wt,{className:"text-primary hover:underline",to:"/reset-password",children:"Forgot password?"})}),m.jsx("button",{disabled:f,className:"w-full rounded-xl border border-primary px-3 py-2 text-primary hover:bg-primary hover:text-primary-foreground border border-border py-2 text-foreground",children:f?"Signing in":"Sign in"}),m.jsxs("div",{className:"text-sm text-foreground",children:["Dont have an account?"," ",m.jsx("button",{type:"button",onClick:t,className:"text-primary/90 hover:underline",children:"Sign Up Now"})]})]})}const b0e=hT({email:Jl().email(),password:Jl().min(8,"Min 8 chars").regex(/[0-9]/,"Include a number").regex(/[^A-Za-z0-9]/,"Include a symbol"),confirm:Jl()}).refine(t=>t.password===t.confirm,{path:["confirm"],message:"Passwords do not match"});function w0e({onSwitchToLogin:t}){const[e]=Ps(),r=e.includes("?")?e.split("?")[1]:"",n=new URLSearchParams(r).get("redirect")||"/dashboard",{register:i,handleSubmit:s,formState:{errors:a,isSubmitting:o}}=bT({resolver:wT(b0e)});async function u(d){const{error:f}=await hi.auth.signUp({email:d.email,password:d.password,options:{emailRedirectTo:`${location.origin}/#/login?redirect=${encodeURIComponent(n)}`}});if(f)return alert(f.message);alert("Check your email to verify your account.")}return m.jsxs("form",{onSubmit:s(u),className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),m.jsx("input",{...i("email"),type:"email",className:"mt-1 w-full rounded-xl bg-input border border-border px-3 py-2 outline-none focus:border-ring text-foreground"}),a.email&&m.jsx("p",{className:"text-xs text-destructive mt-1",children:a.email.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Password"}),m.jsx("input",{...i("password"),type:"password",className:"mt-1 w-full rounded-xl bg-input border border-border px-3 py-2 outline-none focus:border-ring text-foreground"}),a.password&&m.jsx("p",{className:"text-xs text-destructive mt-1",children:a.password.message}),m.jsx("p",{className:"text-[11px] text-muted-foreground/60 mt-1",children:"Min 8 chars, include a number & a symbol."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirm password"}),m.jsx("input",{...i("confirm"),type:"password",className:"mt-1 w-full rounded-xl bg-input border border-border px-3 py-2 outline-none focus:border-ring text-foreground"}),a.confirm&&m.jsx("p",{className:"text-xs text-destructive mt-1",children:a.confirm.message})]}),m.jsx("button",{disabled:o,className:"w-full rounded-xl border border-primary px-3 py-2 text-primary hover:bg-primary hover:text-primary-foreground border border-border py-2 text-foreground",children:o?"Creating":"Sign up"}),m.jsxs("div",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",m.jsx("button",{type:"button",onClick:t,className:"text-primary/90 hover:underline",children:"Sign in"})]}),m.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Well email a confirmation link to finish setting up your account."})]})}function x0e(){const{user:t,signOut:e,loading:r}=ks(),[n,i]=S.useState({username:null,avatar_url:null}),[s,a]=S.useState(!1),[o,u]=S.useState(!1),[d,f]=S.useState("login");if(S.useEffect(()=>{new URLSearchParams(location.hash.split("?")[1]||"").get("mode")==="signup"&&f("signup")},[]),S.useEffect(()=>{async function g(){if(!t)return;const{data:w,error:x}=await hi.from("profiles").select("username, avatar_url").eq("id",t.id).maybeSingle();!x&&w&&(i(w),u(!!w.username))}g()},[t]),r)return m.jsx("div",{className:"p-6 text-muted-foreground",children:"Loading"});if(!t){const g=d==="login"?"Sign in":"Create account";return m.jsxs("div",{className:"px-4 pt-8",children:[m.jsx("h1",{className:"text-3xl font-semibold text-white mb-1",children:"Access your account"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"Sign in if you already have an account or create a new one to track your portfolio."}),m.jsx("div",{className:"max-w-[540px]",children:m.jsxs("div",{className:"rounded-2xl border border-border bg-card text-white shadow-2xl",children:[m.jsx("div",{className:"px-5 py-4 border-b border-border text-lg font-medium text-foreground",children:g}),m.jsx("div",{className:"p-5",children:d==="login"?m.jsx(y0e,{onSwitchToSignup:()=>f("signup")}):m.jsx(w0e,{onSwitchToLogin:()=>f("login")})})]})})]})}async function p(){if(!t)return;a(!0);const{error:g}=await hi.from("profiles").upsert({id:t.id,username:n.username,avatar_url:n.avatar_url});if(a(!1),g)return console.error(g),alert("Couldnt save profile. "+g.message);u(!0),console.log("Profile saved")}return m.jsx("div",{className:"p-6 text-white",children:m.jsxs("div",{className:"max-w-3xl space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"h-12 w-12 rounded-full bg-white/10 flex items-center justify-center",children:m.jsx("span",{className:"text-lg",children:t?.email?.[0]?.toUpperCase()||"U"})}),m.jsx("div",{className:"text-white/90 font-medium",children:t?.email})]}),m.jsxs("div",{className:"rounded-2xl border border-border bg-card",children:[m.jsx("div",{className:"px-4 py-3 border-b border-border text-muted-foreground",children:"Profile"}),m.jsxs("div",{className:"p-4 space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"text-sm text-muted-foreground",children:["Username ",o&&m.jsx("span",{className:"text-xs text-accent",children:"(locked)"})]}),m.jsx("input",{value:n.username??"",onChange:g=>!o&&i(w=>({...w,username:g.target.value})),disabled:o,className:`mt-1 w-full rounded-xl bg-input border border-border px-3 py-2 outline-none focus:border-ring text-foreground ${o?"opacity-60 cursor-not-allowed":""}`})]}),!o&&m.jsx("button",{onClick:p,disabled:s,className:"rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 active:bg-primary/80 px-3 py-2 font-medium transition-all disabled:opacity-50",children:s?"Saving":"Save changes"}),o&&m.jsx("p",{className:"text-xs text-accent",children:"Username saved and locked. Cannot be changed."})]})]}),m.jsxs("div",{className:"rounded-2xl border border-border bg-card",children:[m.jsx("div",{className:"px-4 py-3 border-b border-border text-muted-foreground",children:"Security"}),m.jsx("div",{className:"p-4 space-y-3 text-muted-foreground",children:m.jsx("a",{className:"text-primary hover:underline",href:"/#/reset-password",children:"Change/Reset password"})})]}),m.jsx("div",{className:"pt-2",children:m.jsx("button",{onClick:e,className:"rounded-xl border border-primary px-3 py-2 text-primary hover:bg-primary hover:text-primary-foreground border border-border px-4 py-2 text-foreground",children:"Sign out"})})]})})}function Wu(t,e=0){const r=typeof t=="number"?t:Number(t);return Number.isFinite(r)?r:e}function uE(t,e=0,r=1){return Math.min(r,Math.max(e,t))}const Op=new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1});async function _0e(){const t={lastUpdated:new Date().toISOString(),marketOverview:null,symbolInsights:[],heuristicHighlights:[]};try{const e=await fetch("https://api.binance.com/api/v3/ticker/24hr");if(!e.ok)return t;const i=(await e.json()).filter(M=>M.symbol.endsWith("USDT")).map(M=>{const R=Wu(M.lastPrice),$=Wu(M.highPrice),F=Wu(M.lowPrice),K=Wu(M.priceChangePercent),G=Math.max(1e-8,$-F),V=Math.max(0,Math.min(1,(R-F)/G));return{...M,_pos:V,_chg:K,_qv:Wu(M.quoteVolume)}}),s=[...i].sort((M,R)=>R._chg-M._chg),a=[...i].sort((M,R)=>R._pos-M._pos),o=[...i].sort((M,R)=>R._qv-M._qv),u=a.filter(M=>M._chg>3&&M._pos>.7).slice(0,5),d=s.slice(0,5),f=o.slice(0,5),p=i.filter(M=>M._chg>15&&M._pos>.9).slice(0,5),g=u.map(M=>M.symbol.replace("USDT","")),w=d.map(M=>M.symbol.replace("USDT","")),x=f.map(M=>M.symbol.replace("USDT","")),y=p.map(M=>M.symbol.replace("USDT","")),b=u.length?[{label:"Avg 24h %",value:`${(u.reduce((M,R)=>M+R._chg,0)/u.length).toFixed(1)}%`},{label:"Avg range pos",value:`${(u.reduce((M,R)=>M+R._pos,0)/u.length*100).toFixed(0)}%`}]:void 0,E=d.length?[{label:"Top change",value:`${d[0]._chg.toFixed(1)}%`},{label:"Median change",value:`${d[Math.min(d.length-1,Math.floor(d.length/2))]._chg.toFixed(1)}%`}]:void 0,O=f.length?[{label:"Top volume",value:`${Op.format(f[0]._qv)} USDT`},{label:"Avg volume",value:`${Op.format(f.reduce((M,R)=>M+R._qv,0)/f.length)} USDT`}]:void 0,A=p.length?[{label:"Max 24h %",value:`${Math.max(...p.map(M=>M._chg)).toFixed(1)}%`},{label:"Count",value:`${p.length}`}]:void 0,P=[{title:"Breakout candidates near 24h highs",detail:g.length?g.join(", "):"No clear breakouts right now.",tags:["breakout","price-action"],metrics:b},{title:"Top momentum leaders (24h %)",detail:w.length?w.join(", "):"No strong momentum standouts.",tags:["momentum"],metrics:E},{title:"Highest liquidity (quote volume)",detail:x.length?x.join(", "):"Low liquidity market.",tags:["liquidity"],metrics:O},{title:"Potentially overheated (extended move)",detail:y.length?y.join(", "):"No overheated clusters.",tags:["risk","overextension"],metrics:A}],T=i.length===0?0:i.reduce((M,R)=>M+R._chg,0)/i.length,C=i.filter(M=>M._chg>0).length,j=i.reduce((M,R)=>M+R._qv,0),N={overallSentiment:T>2?"bullish - broad upside momentum":T<-2?"bearish - downside pressure dominating":"neutral - mixed 24h performance",keyInsights:P.slice(0,3).map(M=>M.detail),tradingRecommendations:T>2?["Consider momentum continuation setups","Use trailing stops to protect gains"]:T<-2?["Prioritize downside protection","Size positions conservatively"]:["Wait for confirmation before new entries","Monitor liquidity leaders for breakouts"],riskAssessment:j>0?`Market breadth: ${C}/${i.length} advancers. Quote volume ${Op.format(j)} USDT indicates ${j>5e9?"healthy":"muted"} participation.`:"Limited data available for risk assessment."},D=d.slice(0,4).map(M=>{const R=M._chg>0?"bullish":M._chg<0?"bearish":"neutral",$=M._qv>1e9?"institutional":M._qv>2e8?"elevated":"steady",F=R==="bullish"?"Monitor for continuation if volume stays elevated.":R==="bearish"?"Consider defensive positioning or wait for stabilization.":"Wait for confirmation before taking action.";return{symbol:M.symbol.replace("USDT",""),analysisType:"quant-screen",signal:R,confidence:uE((Math.abs(M._chg)/12+M._pos)/2),recommendation:F,reasoning:`24h change ${M._chg.toFixed(2)}%, range position ${(M._pos*100).toFixed(0)}%, quote volume ${Op.format(M._qv)} USDT.`,timeframe:"24h",metadata:{technicalScore:Math.round(uE(50+M._chg,0,100)),volumeAnalysis:`${$} volume`,marketCondition:M._pos>.7?"pressing highs":M._pos<.3?"near lows":"mid-range",riskLevel:Math.abs(M._chg)>10?"high":Math.abs(M._chg)>6?"medium":"balanced"}}});return{lastUpdated:new Date().toISOString(),marketOverview:N,symbolInsights:D,heuristicHighlights:P}}catch{return t}}async function S0e(){try{const t=await Ia("/api/ai/insights");if(t.ok)return await t.json()}catch{}return await _0e()}function E0e(){const{isAuthenticated:t}=zi(),{toast:e}=JF(),[r,n]=S.useState({lastUpdated:null,marketOverview:null,symbolInsights:[],heuristicHighlights:[]}),i=a=>({lastUpdated:a.lastUpdated&&typeof a.lastUpdated=="string"?a.lastUpdated:new Date().toISOString(),marketOverview:a.marketOverview&&typeof a.marketOverview=="object"?a.marketOverview:null,symbolInsights:Array.isArray(a.symbolInsights)?a.symbolInsights:[],heuristicHighlights:Array.isArray(a.heuristicHighlights)?a.heuristicHighlights:[]}),s=On({queryKey:["ai-insights"],queryFn:S0e,enabled:!1,retry:!1,refetchOnWindowFocus:!1,onSuccess:a=>{n(i(a)),e({title:"Insights updated"})},onError:()=>{e({title:"Failed to load insights",variant:"destructive"})}});return S.useEffect(()=>{t&&!r.marketOverview&&r.symbolInsights.length===0&&r.heuristicHighlights.length===0&&!s.isFetching&&s.refetch()},[t]),m.jsx("div",{className:"flex-1 overflow-hidden",children:m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsxs("h1",{className:"flex min-w-0 items-center gap-2 break-keep whitespace-normal text-2xl font-bold text-foreground",children:[m.jsx(Bl,{className:"w-6 h-6"}),m.jsx("span",{className:"min-w-0 overflow-hidden text-ellipsis whitespace-nowrap",children:"AI Insights"})]}),m.jsx("p",{className:"text-muted-foreground",children:"Market themes & signals, refreshed on demand."}),r.lastUpdated&&(()=>{const a=new Date(r.lastUpdated);return Number.isNaN(a.getTime())?null:m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated ",mq(a,{addSuffix:!0})]})})()]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(it,{variant:"link",asChild:!0,className:"whitespace-nowrap",children:m.jsx(Wt,{href:"/gainers",children:"View full gainers table"})}),m.jsxs(it,{variant:"outline",size:"sm",onClick:()=>void s.refetch(),disabled:!t||s.isFetching,className:"min-h-[44px]","data-testid":"button-refresh-insights",children:[m.jsx(hg,{className:`w-4 h-4 sm:mr-2 ${s.isFetching?"animate-spin":""}`}),m.jsx("span",{className:"hidden sm:inline",children:s.isFetching?"Refreshing...":"Refresh"})]})]})]}),m.jsxs("div",{className:"grid gap-6",children:[m.jsxs(lt,{className:"border-border",children:[m.jsxs(Ur,{className:"space-y-1",children:[m.jsxs(Br,{className:"flex items-center gap-2",children:[m.jsx(Bl,{className:"w-5 h-5 text-accent"}),m.jsx("span",{children:"Market Overview"})]}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Sentiment snapshot, key narratives, and risk context for the broader market."})]}),m.jsx(ct,{className:"space-y-6",children:r.marketOverview?m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Overall sentiment"}),m.jsx("p",{className:"mt-2 text-lg font-semibold text-foreground",children:r.marketOverview.overallSentiment})]}),r.marketOverview.keyInsights?.length?m.jsxs("div",{children:[m.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Key insights"}),m.jsx("ul",{className:"mt-2 space-y-2 text-sm text-foreground/90 list-disc list-inside",children:r.marketOverview.keyInsights.map((a,o)=>m.jsx("li",{children:a},o))})]}):null,r.marketOverview.tradingRecommendations?.length?m.jsxs("div",{children:[m.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Trading notes"}),m.jsx("ul",{className:"mt-2 space-y-2 text-sm text-foreground/90 list-disc list-inside",children:r.marketOverview.tradingRecommendations.map((a,o)=>m.jsx("li",{children:a},o))})]}):null,r.marketOverview.riskAssessment?m.jsxs("div",{children:[m.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Risk assessment"}),m.jsx("p",{className:"mt-2 text-sm text-foreground/90",children:r.marketOverview.riskAssessment})]}):null]}):m.jsx("p",{className:"text-sm text-muted-foreground",children:"No market overview available yet. Refresh to generate the latest summary."})})]}),m.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[m.jsxs(lt,{className:"border-border",children:[m.jsxs(Ur,{className:"space-y-1",children:[m.jsxs(Br,{className:"flex items-center gap-2",children:[m.jsx(iF,{className:"w-5 h-5 text-accent"}),m.jsx("span",{children:"Featured Signals"})]}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-ranked opportunities with confidence scores and supporting context."})]}),m.jsx(ct,{className:"space-y-4",children:r.symbolInsights.length?r.symbolInsights.slice(0,4).map(a=>{const o=a.confidence?Math.round(uE(a.confidence)*100):null,u=[a.metadata?.technicalScore!==void 0?{label:"Tech score",value:`${a.metadata.technicalScore}`}:null,a.metadata?.volumeAnalysis?{label:"Volume",value:a.metadata.volumeAnalysis}:null,a.metadata?.marketCondition?{label:"Market",value:a.metadata.marketCondition}:null,a.metadata?.riskLevel?{label:"Risk",value:a.metadata.riskLevel}:null].filter(Boolean),d=a.signal==="bullish"?"bg-emerald-500/15 text-emerald-400 border-emerald-500/30":a.signal==="bearish"?"bg-red-500/15 text-red-400 border-red-500/30":"bg-muted text-muted-foreground border-border";return m.jsxs("div",{className:"rounded-xl border border-border/80 bg-background/40 p-4 shadow-sm",children:[m.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("span",{className:"text-lg font-semibold tracking-tight text-foreground",children:a.symbol}),a.signal?m.jsx(fi,{variant:"outline",className:d,children:a.signal}):null,a.timeframe?m.jsx(fi,{variant:"default",className:"bg-muted text-muted-foreground",children:a.timeframe}):null]}),a.recommendation?m.jsx("p",{className:"mt-1 text-sm text-foreground/90",children:a.recommendation}):null]}),m.jsx("div",{className:"flex items-center gap-2",children:o!==null?m.jsxs(fi,{variant:"default",className:"bg-accent/10 text-accent",children:["Confidence ",o,"%"]}):null})]}),u.length?m.jsx("dl",{className:"mt-3 grid grid-cols-2 gap-x-4 gap-y-2 text-xs text-muted-foreground sm:text-sm",children:u.map(f=>m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("dt",{className:"capitalize",children:f.label}),m.jsx("dd",{className:"font-medium text-foreground",children:f.value})]},`${a.symbol}-${f.label}`))}):null,a.reasoning?m.jsx("p",{className:"mt-3 text-sm leading-relaxed text-muted-foreground",children:a.reasoning}):null]},`${a.symbol}-${a.timeframe??""}`)}):m.jsx("p",{className:"text-sm text-muted-foreground",children:"No featured signals right now. Refresh to pull the latest AI rankings."})})]}),m.jsxs(lt,{className:"border-border",children:[m.jsxs(Ur,{className:"space-y-1",children:[m.jsxs(Br,{className:"flex items-center gap-2",children:[m.jsx(OE,{className:"w-5 h-5 text-accent"}),m.jsx("span",{children:"Quant Highlights"})]}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Breakout, momentum, and liquidity heuristics with supporting stats."})]}),m.jsx(ct,{className:"grid gap-4",children:r.heuristicHighlights.length?r.heuristicHighlights.map((a,o)=>{const u=a.tags.includes("breakout")?m.jsx(sF,{className:"w-5 h-5 text-accent"}):a.tags.includes("momentum")?m.jsx(fs,{className:"w-5 h-5 text-accent"}):a.tags.includes("risk")?m.jsx(rF,{className:"w-5 h-5 text-destructive"}):m.jsx(Bl,{className:"w-5 h-5 text-foreground"});return m.jsxs("div",{className:"rounded-xl border border-border/80 bg-background/40 p-4",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[u,m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-sm font-semibold text-foreground",children:a.title}),m.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:a.detail})]})]}),a.metrics?.length?m.jsx("dl",{className:"mt-3 grid grid-cols-2 gap-x-4 gap-y-2 text-xs text-muted-foreground sm:text-sm",children:a.metrics.map(d=>m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("dt",{children:d.label}),m.jsx("dd",{className:"font-medium text-foreground",children:d.value})]},`${a.title}-${d.label}`))}):null,m.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:a.tags.map(d=>m.jsx(fi,{variant:"default",className:"text-xs",children:d},d))})]},`${a.title}-${o}`)}):m.jsx("p",{className:"text-sm text-muted-foreground",children:"Quant heuristics are unavailable. Refresh to regenerate the analytics snapshot."})})]})]})]})]})})}const O0e={};var T0e={};function A0e(){const t=typeof import.meta<"u"?O0e?.VITE_API_BASE:void 0,e=typeof process<"u"?T0e?.NEXT_PUBLIC_API_BASE:void 0,r=(t??e??"").trim();return r?r.replace(/\/+$/,""):""}function C0e({filter:t="latest",kind:e="all",currencies:r="",search:n="",q:i="",page:s=1}={}){const a=r.trim().toUpperCase(),o=A0e(),u=new URLSearchParams({kind:e,page:String(s)});t!=="latest"&&u.set("filter",t),a&&u.set("currencies",a);const f=(n!==""?n:i).trim();f&&u.set("search",f);const g=`${o?`${o}`:""}/api/news?${u.toString()}`;return On({queryKey:["news",{filter:t,kind:e,currencies:a,search:f,page:s}],queryFn:async()=>{const w=await fetch(g);if(!w.ok){const y=await w.text();throw console.error("[News Hook] API Error:",w.status,y),new Error(y)}const x=await w.json();return console.log("[News Hook] Success, articles:",x.data?.length||0),x},staleTime:300*1e3,gcTime:300*1e3,retry:3,retryDelay:w=>Math.min(1e3*2**w,1e4)})}var K_="rovingFocusGroup.onEntryFocus",k0e={bubbles:!1,cancelable:!0},Bf="RovingFocusGroup",[dE,Cq,P0e]=FB(Bf),[j0e,kq]=$f(Bf,[P0e]),[N0e,I0e]=j0e(Bf),Pq=S.forwardRef((t,e)=>m.jsx(dE.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(dE.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(R0e,{...t,ref:e})})}));Pq.displayName=Bf;var R0e=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...p}=t,g=S.useRef(null),w=br(e,g),x=rT(s),[y,b]=tg({prop:a,defaultProp:o??null,onChange:u,caller:Bf}),[E,O]=S.useState(!1),A=Ta(d),P=Cq(r),T=S.useRef(!1),[C,j]=S.useState(0);return S.useEffect(()=>{const N=g.current;if(N)return N.addEventListener(K_,A),()=>N.removeEventListener(K_,A)},[A]),m.jsx(N0e,{scope:r,orientation:n,dir:x,loop:i,currentTabStopId:y,onItemFocus:S.useCallback(N=>b(N),[b]),onItemShiftTab:S.useCallback(()=>O(!0),[]),onFocusableItemAdd:S.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:S.useCallback(()=>j(N=>N-1),[]),children:m.jsx(jt.div,{tabIndex:E||C===0?-1:0,"data-orientation":n,...p,ref:w,style:{outline:"none",...t.style},onMouseDown:Et(t.onMouseDown,()=>{T.current=!0}),onFocus:Et(t.onFocus,N=>{const D=!T.current;if(N.target===N.currentTarget&&D&&!E){const M=new CustomEvent(K_,k0e);if(N.currentTarget.dispatchEvent(M),!M.defaultPrevented){const R=P().filter(V=>V.focusable),$=R.find(V=>V.active),F=R.find(V=>V.id===y),G=[$,F,...R].filter(Boolean).map(V=>V.ref.current);Iq(G,f)}}T.current=!1}),onBlur:Et(t.onBlur,()=>O(!1))})})}),jq="RovingFocusGroupItem",Nq=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:a,...o}=t,u=Lf(),d=s||u,f=I0e(jq,r),p=f.currentTabStopId===d,g=Cq(r),{onFocusableItemAdd:w,onFocusableItemRemove:x,currentTabStopId:y}=f;return S.useEffect(()=>{if(n)return w(),()=>x()},[n,w,x]),m.jsx(dE.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:m.jsx(jt.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...o,ref:e,onMouseDown:Et(t.onMouseDown,b=>{n?f.onItemFocus(d):b.preventDefault()}),onFocus:Et(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Et(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const E=$0e(b,f.orientation,f.dir);if(E!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let A=g().filter(P=>P.focusable).map(P=>P.ref.current);if(E==="last")A.reverse();else if(E==="prev"||E==="next"){E==="prev"&&A.reverse();const P=A.indexOf(b.currentTarget);A=f.loop?L0e(A,P+1):A.slice(P+1)}setTimeout(()=>Iq(A))}}),children:typeof a=="function"?a({isCurrentTabStop:p,hasTabStop:y!=null}):a})})});Nq.displayName=jq;var M0e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D0e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $0e(t,e,r){const n=D0e(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return M0e[n]}function Iq(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function L0e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var F0e=Pq,U0e=Nq;function B0e(t,e){return S.useReducer((r,n)=>e[r][n]??r,t)}var Rq=t=>{const{present:e,children:r}=t,n=q0e(e),i=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),s=br(n.ref,z0e(i));return typeof r=="function"||n.isPresent?S.cloneElement(i,{ref:s}):null};Rq.displayName="Presence";function q0e(t){const[e,r]=S.useState(),n=S.useRef(null),i=S.useRef(t),s=S.useRef("none"),a=t?"mounted":"unmounted",[o,u]=B0e(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const d=Tp(n.current);s.current=o==="mounted"?d:"none"},[o]),qr(()=>{const d=n.current,f=i.current;if(f!==t){const g=s.current,w=Tp(d);t?u("MOUNT"):w==="none"||d?.display==="none"?u("UNMOUNT"):u(f&&g!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),qr(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,p=w=>{const y=Tp(n.current).includes(CSS.escape(w.animationName));if(w.target===e&&y&&(u("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},g=w=>{w.target===e&&(s.current=Tp(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:S.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Tp(t){return t?.animationName||"none"}function z0e(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var vv="Tabs",[W0e]=$f(vv,[kq]),Mq=kq(),[V0e,xT]=W0e(vv),Dq=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:u="automatic",...d}=t,f=rT(o),[p,g]=tg({prop:n,onChange:i,defaultProp:s??"",caller:vv});return m.jsx(V0e,{scope:r,baseId:Lf(),value:p,onValueChange:g,orientation:a,dir:f,activationMode:u,children:m.jsx(jt.div,{dir:f,"data-orientation":a,...d,ref:e})})});Dq.displayName=vv;var $q="TabsList",Lq=S.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=xT($q,r),a=Mq(r);return m.jsx(F0e,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:m.jsx(jt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Lq.displayName=$q;var Fq="TabsTrigger",Uq=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,a=xT(Fq,r),o=Mq(r),u=zq(a.baseId,n),d=Wq(a.baseId,n),f=n===a.value;return m.jsx(U0e,{asChild:!0,...o,focusable:!i,active:f,children:m.jsx(jt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:e,onMouseDown:Et(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?a.onValueChange(n):p.preventDefault()}),onKeyDown:Et(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(n)}),onFocus:Et(t.onFocus,()=>{const p=a.activationMode!=="manual";!f&&!i&&p&&a.onValueChange(n)})})})});Uq.displayName=Fq;var Bq="TabsContent",qq=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...a}=t,o=xT(Bq,r),u=zq(o.baseId,n),d=Wq(o.baseId,n),f=n===o.value,p=S.useRef(f);return S.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),m.jsx(Rq,{present:i||f,children:({present:g})=>m.jsx(jt.div,{"data-state":f?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:g&&s})})});qq.displayName=Bq;function zq(t,e){return`${t}-trigger-${e}`}function Wq(t,e){return`${t}-content-${e}`}var H0e=Dq,Vq=Lq,Hq=Uq,Kq=qq;const K0e=H0e,Gq=S.forwardRef(({className:t,...e},r)=>m.jsx(Vq,{ref:r,className:ht("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Gq.displayName=Vq.displayName;const Yq=S.forwardRef(({className:t,...e},r)=>m.jsx(Hq,{ref:r,className:ht("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Yq.displayName=Hq.displayName;const G0e=S.forwardRef(({className:t,...e},r)=>m.jsx(Kq,{ref:r,className:ht("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));G0e.displayName=Kq.displayName;const Y0e=[{value:"latest",label:"Latest"},{value:"hot",label:"Hot"},{value:"rising",label:"Rising"},{value:"bullish",label:"Bullish"},{value:"bearish",label:"Bearish"},{value:"important",label:"Important"}],G_=["","BTC","ETH","SOL","XRP","DASH"];function X0e({article:t}){const e=S.useMemo(()=>{try{return abe(new Date(t.publishedAt),{addSuffix:!0})}catch{return"recently"}},[t.publishedAt]);return m.jsxs("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"block rounded-xl border border-border bg-card p-4 transition hover:border-primary/50 hover:bg-card/80",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[m.jsx(fi,{variant:"default",className:"bg-muted text-foreground",children:t.source.name}),t.source.domain&&m.jsx("span",{className:"truncate text-muted-foreground/80",children:t.source.domain}),m.jsx("span",{"aria-hidden":"true",children:""}),m.jsx("span",{children:e}),t.currencies.length>0&&m.jsx("div",{className:"ml-auto flex flex-wrap gap-2",children:t.currencies.map(r=>m.jsx(fi,{variant:"outline",className:"text-foreground",children:r},r))})]}),m.jsxs("div",{className:"mt-3 flex items-start gap-3",children:[m.jsx("h3",{className:"flex-1 text-base font-semibold leading-6 text-foreground",children:t.title}),m.jsx(mS,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":"true"})]})]})}function Q0e(){const[t,e]=S.useState("latest"),[r,n]=S.useState("news"),[i,s]=S.useState(""),[a,o]=S.useState(1),[u,d]=S.useState(""),[f,p]=S.useState("");S.useEffect(()=>{const C=setTimeout(()=>{o(1),p(u.trim())},400);return()=>clearTimeout(C)},[u]);const{data:g,isLoading:w,isFetching:x,isError:y,error:b}=C0e({filter:t,kind:r,currencies:i,q:f,page:a}),E=qi(),O=g?.data??[],A=!!g?.paging?.next,P=async()=>{await E.invalidateQueries({queryKey:["news"]})},T=y&&b instanceof Error?b.message:null;return m.jsx("div",{className:"flex-1 overflow-hidden",children:m.jsxs("div",{className:"p-3 sm:p-4 md:p-6 space-y-6",children:[m.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-semibold text-foreground sm:text-2xl",children:"News & Insights"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Stay ahead with curated headlines and sentiment straight from CryptoPanic."})]}),m.jsxs(it,{variant:"outline",size:"sm",onClick:P,disabled:x,className:"min-h-[44px]",children:[m.jsx(hg,{className:ht("w-4 h-4 sm:mr-2",x&&"animate-spin")}),m.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(K0e,{value:t,onValueChange:C=>{e(C),o(1)},children:m.jsx(Gq,{className:"w-full justify-start overflow-x-auto bg-muted/60",children:Y0e.map(C=>m.jsx(Yq,{value:C.value,className:"capitalize text-xs sm:text-sm",children:C.label},C.value))})}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx(it,{size:"sm",variant:r==="news"?"default":"outline",onClick:()=>{n("news"),o(1)},className:"text-xs",children:"News"}),m.jsx(it,{size:"sm",variant:r==="media"?"default":"outline",onClick:()=>{n("media"),o(1)},className:"text-xs",children:"Media"})]}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[G_.slice(0,5).map(C=>{const j=i===C||!C&&i==="",N=C||"All";return m.jsx(it,{size:"sm",variant:j?"default":"outline",onClick:()=>{s(C),o(1)},className:"text-xs",children:N},N)}),G_.length>5&&m.jsxs(it,{size:"sm",variant:"outline",onClick:()=>s(""),className:"text-xs",children:["+",G_.length-5]})]}),m.jsx(tT,{value:u,onChange:C=>d(C.target.value),placeholder:"Search headlines",className:"w-full text-sm"})]}),m.jsxs("div",{className:"grid gap-3",children:[w&&m.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading news"}),y&&m.jsxs("div",{className:"rounded-md border border-destructive/40 bg-destructive/10 p-3 text-sm text-destructive",children:["Failed to load news",T?`: ${T}`:"."]}),!w&&!x&&!y&&O.length===0&&m.jsx("div",{className:"rounded-md border border-border bg-card/60 p-6 text-center text-sm text-muted-foreground",children:"No articles found for the current filters."}),O.map(C=>m.jsx(X0e,{article:C},C.id)),x&&!w&&m.jsx("div",{className:"text-xs text-muted-foreground",children:"Refreshing"})]}),m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-border pt-4 text-xs text-muted-foreground",children:[m.jsx("span",{children:"Source: CryptoPanic"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(it,{size:"sm",variant:"outline",disabled:a<=1,onClick:()=>o(C=>Math.max(1,C-1)),children:"Previous"}),m.jsx(it,{size:"sm",variant:"outline",disabled:!A,onClick:()=>o(C=>C+1),children:"Next"})]})]})]})})}function J0e({title:t,children:e}){return m.jsx("div",{className:"min-h-[calc(100vh-56px)] flex items-center justify-center px-4 py-8",children:m.jsxs("div",{className:"w-full max-w-[420px] rounded-2xl border border-border bg-card text-white shadow-2xl",children:[m.jsx("div",{className:"px-5 sm:px-6 py-4 border-b border-border text-lg sm:text-xl font-medium text-foreground",children:t}),m.jsx("div",{className:"p-5 sm:p-6",children:e})]})})}const Z0e=hT({email:Jl().email()});function ewe(){const{register:t,handleSubmit:e,formState:{errors:r,isSubmitting:n}}=bT({resolver:wT(Z0e)});async function i(s){const{error:a}=await hi.auth.resetPasswordForEmail(s.email,{redirectTo:`${location.origin}/#/account`});if(a)return alert(a.message);alert("If that email exists, we sent a reset link.")}return m.jsx(J0e,{title:"Reset password",children:m.jsxs("form",{onSubmit:e(i),className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),m.jsx("input",{...t("email"),type:"email",className:"mt-1 w-full rounded-xl bg-card border border-white/10 px-3 py-2 outline-none focus:border-white/20"}),r.email&&m.jsx("p",{className:"text-xs text-red-400 mt-1",children:r.email.message})]}),m.jsx("button",{disabled:n,className:"w-full rounded-xl bg-white/10 hover:bg-white/15 border border-white/15 py-2",children:n?"Sending":"Send reset link"}),m.jsx("div",{className:"text-sm",children:m.jsx(Wt,{className:"text-primary/90 hover:underline",to:"/account",children:"Back to account"})})]})})}function ls({children:t}){const[e,r]=S.useState(!1);return m.jsxs("div",{className:"flex h-screen bg-background text-white",children:[m.jsx(n9,{isOpen:e,onClose:()=>r(!1)}),m.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[m.jsx(s9,{onMenuClick:()=>r(!e)}),m.jsx("main",{className:"flex-1 overflow-y-auto bg-background text-foreground",children:t})]})]})}function twe(){return m.jsxs(OH,{children:[m.jsx(on,{path:"/",children:m.jsx(Hu,{to:"/dashboard"})}),m.jsx(on,{path:"/login",children:m.jsx(Hu,{to:"/account"})}),m.jsx(on,{path:"/signup",children:m.jsx(Hu,{to:"/account"})}),m.jsx(on,{path:"/reset-password",component:ewe}),m.jsx(on,{path:"/dashboard",children:m.jsx(ls,{children:m.jsx(_J,{})})}),m.jsx(on,{path:"/portfolio",children:m.jsx(ls,{children:m.jsx($pe,{})})}),m.jsx(on,{path:"/gainers",children:m.jsx(ls,{children:m.jsx(Bpe,{})})}),m.jsx(on,{path:"/analyse/:symbol?",children:m.jsx(ls,{children:m.jsx(hbe,{})})}),m.jsx(on,{path:"/watchlist",children:m.jsx(ls,{children:m.jsx(Zk,{children:m.jsx(gbe,{})})})}),m.jsx(on,{path:"/alerts",children:m.jsx(ls,{children:m.jsx(Zk,{children:m.jsx(bbe,{})})})}),m.jsx(on,{path:"/account",children:m.jsx(ls,{children:m.jsx(x0e,{})})}),m.jsx(on,{path:"/ai-insights",children:m.jsx(ls,{children:m.jsx(E0e,{})})}),m.jsx(on,{path:"/news",children:m.jsx(ls,{children:m.jsx(Q0e,{})})}),m.jsx(on,{children:m.jsx(Hu,{to:"/dashboard"})})]})}if(typeof window<"u"){const t=document.createElement("script");t.src="https://s3.tradingview.com/tv.js",t.async=!0,document.head.appendChild(t)}const Xq=new pL({defaultOptions:{queries:{staleTime:2e4,refetchOnWindowFocus:!1,retry:1}}}),Qq=document.getElementById("root");if(!Qq)throw new Error("Root element not found");let Y_=null;function rwe(){const t=m.jsx(W.StrictMode,{children:m.jsxs(_8,{client:Xq,children:[m.jsx(PH,{children:m.jsx(GL,{hook:XL,children:m.jsx(iH,{children:m.jsx(kH,{children:m.jsx(twe,{})})})})}),m.jsx(D8,{initialIsOpen:!1})]})});Y_||(Y_=Zz.createRoot(Qq)),Y_.render(t)}rwe();export{Nge as A,Ps as B,Ige as C,BB as D,hi as E,zB as F,Xq as G,U0e as I,Rq as P,jge as R,$f as a,i5 as b,tt as c,rT as d,FB as e,kq as f,h5 as g,br as h,Et as i,m as j,Vge as k,jt as l,Kpe as m,rme as n,S5 as o,Ad as p,F0e as q,S as r,Rge as s,iU as t,Ta as u,tg as v,Lf as w,ht as x,FH as y,ks as z};
