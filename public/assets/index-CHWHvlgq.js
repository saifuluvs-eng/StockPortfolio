function JE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Up(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ZE(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Gf={exports:{}},Aa={},Qf={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function YE(){if(_v)return We;_v=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=v&&A[v]||A["@@iterator"],typeof A=="function"?A:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,x={};function _(A,q,ye){this.props=A,this.context=q,this.refs=x,this.updater=ye||k}_.prototype.isReactComponent={},_.prototype.setState=function(A,q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,q,"setState")},_.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function N(){}N.prototype=_.prototype;function C(A,q,ye){this.props=A,this.context=q,this.refs=x,this.updater=ye||k}var T=C.prototype=new N;T.constructor=C,E(T,_.prototype),T.isPureReactComponent=!0;var I=Array.isArray,U=Object.prototype.hasOwnProperty,L={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function z(A,q,ye){var ve,Ne={},Te=null,ce=null;if(q!=null)for(ve in q.ref!==void 0&&(ce=q.ref),q.key!==void 0&&(Te=""+q.key),q)U.call(q,ve)&&!D.hasOwnProperty(ve)&&(Ne[ve]=q[ve]);var we=arguments.length-2;if(we===1)Ne.children=ye;else if(1<we){for(var Re=Array(we),Ae=0;Ae<we;Ae++)Re[Ae]=arguments[Ae+2];Ne.children=Re}if(A&&A.defaultProps)for(ve in we=A.defaultProps,we)Ne[ve]===void 0&&(Ne[ve]=we[ve]);return{$$typeof:t,type:A,key:Te,ref:ce,props:Ne,_owner:L.current}}function Q(A,q){return{$$typeof:t,type:A.type,key:q,ref:A.ref,props:A.props,_owner:A._owner}}function V(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function re(A){var q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ye){return q[ye]})}var J=/\/+/g;function se(A,q){return typeof A=="object"&&A!==null&&A.key!=null?re(""+A.key):q.toString(36)}function X(A,q,ye,ve,Ne){var Te=typeof A;(Te==="undefined"||Te==="boolean")&&(A=null);var ce=!1;if(A===null)ce=!0;else switch(Te){case"string":case"number":ce=!0;break;case"object":switch(A.$$typeof){case t:case e:ce=!0}}if(ce)return ce=A,Ne=Ne(ce),A=ve===""?"."+se(ce,0):ve,I(Ne)?(ye="",A!=null&&(ye=A.replace(J,"$&/")+"/"),X(Ne,q,ye,"",function(Ae){return Ae})):Ne!=null&&(V(Ne)&&(Ne=Q(Ne,ye+(!Ne.key||ce&&ce.key===Ne.key?"":(""+Ne.key).replace(J,"$&/")+"/")+A)),q.push(Ne)),1;if(ce=0,ve=ve===""?".":ve+":",I(A))for(var we=0;we<A.length;we++){Te=A[we];var Re=ve+se(Te,we);ce+=X(Te,q,ye,Re,Ne)}else if(Re=w(A),typeof Re=="function")for(A=Re.call(A),we=0;!(Te=A.next()).done;)Te=Te.value,Re=ve+se(Te,we++),ce+=X(Te,q,ye,Re,Ne);else if(Te==="object")throw q=String(A),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return ce}function de(A,q,ye){if(A==null)return A;var ve=[],Ne=0;return X(A,ve,"","",function(Te){return q.call(ye,Te,Ne++)}),ve}function ie(A){if(A._status===-1){var q=A._result;q=q(),q.then(function(ye){(A._status===0||A._status===-1)&&(A._status=1,A._result=ye)},function(ye){(A._status===0||A._status===-1)&&(A._status=2,A._result=ye)}),A._status===-1&&(A._status=0,A._result=q)}if(A._status===1)return A._result.default;throw A._result}var ue={current:null},H={transition:null},K={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:H,ReactCurrentOwner:L};function G(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:de,forEach:function(A,q,ye){de(A,function(){q.apply(this,arguments)},ye)},count:function(A){var q=0;return de(A,function(){q++}),q},toArray:function(A){return de(A,function(q){return q})||[]},only:function(A){if(!V(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},We.Component=_,We.Fragment=n,We.Profiler=i,We.PureComponent=C,We.StrictMode=r,We.Suspense=h,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,We.act=G,We.cloneElement=function(A,q,ye){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ve=E({},A.props),Ne=A.key,Te=A.ref,ce=A._owner;if(q!=null){if(q.ref!==void 0&&(Te=q.ref,ce=L.current),q.key!==void 0&&(Ne=""+q.key),A.type&&A.type.defaultProps)var we=A.type.defaultProps;for(Re in q)U.call(q,Re)&&!D.hasOwnProperty(Re)&&(ve[Re]=q[Re]===void 0&&we!==void 0?we[Re]:q[Re])}var Re=arguments.length-2;if(Re===1)ve.children=ye;else if(1<Re){we=Array(Re);for(var Ae=0;Ae<Re;Ae++)we[Ae]=arguments[Ae+2];ve.children=we}return{$$typeof:t,type:A.type,key:Ne,ref:Te,props:ve,_owner:ce}},We.createContext=function(A){return A={$$typeof:l,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:a,_context:A},A.Consumer=A},We.createElement=z,We.createFactory=function(A){var q=z.bind(null,A);return q.type=A,q},We.createRef=function(){return{current:null}},We.forwardRef=function(A){return{$$typeof:u,render:A}},We.isValidElement=V,We.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:ie}},We.memo=function(A,q){return{$$typeof:p,type:A,compare:q===void 0?null:q}},We.startTransition=function(A){var q=H.transition;H.transition={};try{A()}finally{H.transition=q}},We.unstable_act=G,We.useCallback=function(A,q){return ue.current.useCallback(A,q)},We.useContext=function(A){return ue.current.useContext(A)},We.useDebugValue=function(){},We.useDeferredValue=function(A){return ue.current.useDeferredValue(A)},We.useEffect=function(A,q){return ue.current.useEffect(A,q)},We.useId=function(){return ue.current.useId()},We.useImperativeHandle=function(A,q,ye){return ue.current.useImperativeHandle(A,q,ye)},We.useInsertionEffect=function(A,q){return ue.current.useInsertionEffect(A,q)},We.useLayoutEffect=function(A,q){return ue.current.useLayoutEffect(A,q)},We.useMemo=function(A,q){return ue.current.useMemo(A,q)},We.useReducer=function(A,q,ye){return ue.current.useReducer(A,q,ye)},We.useRef=function(A){return ue.current.useRef(A)},We.useState=function(A){return ue.current.useState(A)},We.useSyncExternalStore=function(A,q,ye){return ue.current.useSyncExternalStore(A,q,ye)},We.useTransition=function(){return ue.current.useTransition()},We.version="18.3.1",We}var Sv;function qu(){return Sv||(Sv=1,Qf.exports=YE()),Qf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function XE(){if(kv)return Aa;kv=1;var t=qu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var g,v={},w=null,k=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(k=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(v[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:u,key:w,ref:k,props:v,_owner:i.current}}return Aa.Fragment=n,Aa.jsx=l,Aa.jsxs=l,Aa}var Ev;function eC(){return Ev||(Ev=1,Gf.exports=XE()),Gf.exports}var d=eC();(()=>{if(typeof window>"u"||window.__localWsPatched)return;window.__localWsPatched=!0;const t=window.WebSocket;function e(n,r){try{const i=typeof n=="string"?n:n.toString(),a=window.location.host;if(i==="/ws"||i===`ws://${a}/ws`||i===`wss://${a}/ws`){console.warn("Blocking local /ws WebSocket on Vercel:",i);const u={readyState:3,close(){},send(){},addEventListener(){},removeEventListener(){},onopen:null,onmessage:null,onerror:null,onclose:null};return setTimeout(()=>u.onclose?.({code:1006,reason:"blocked /ws"}),0),u}}catch{}return new t(n,r)}e.prototype=t.prototype,window.WebSocket=e})();var b=qu();const lt=Up(b),Fp=JE({__proto__:null,default:lt},[b]);var Bc={},Jf={exports:{}},un={},Zf={exports:{}},Yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function tC(){return Cv||(Cv=1,(function(t){function e(H,K){var G=H.length;H.push(K);e:for(;0<G;){var A=G-1>>>1,q=H[A];if(0<i(q,K))H[A]=K,H[G]=q,G=A;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var K=H[0],G=H.pop();if(G!==K){H[0]=G;e:for(var A=0,q=H.length,ye=q>>>1;A<ye;){var ve=2*(A+1)-1,Ne=H[ve],Te=ve+1,ce=H[Te];if(0>i(Ne,G))Te<q&&0>i(ce,Ne)?(H[A]=ce,H[Te]=G,A=Te):(H[A]=Ne,H[ve]=G,A=ve);else if(Te<q&&0>i(ce,G))H[A]=ce,H[Te]=G,A=Te;else break e}}return K}function i(H,K){var G=H.sortIndex-K.sortIndex;return G!==0?G:H.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],p=[],g=1,v=null,w=3,k=!1,E=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(H){for(var K=n(p);K!==null;){if(K.callback===null)r(p);else if(K.startTime<=H)r(p),K.sortIndex=K.expirationTime,e(h,K);else break;K=n(p)}}function I(H){if(x=!1,T(H),!E)if(n(h)!==null)E=!0,ie(U);else{var K=n(p);K!==null&&ue(I,K.startTime-H)}}function U(H,K){E=!1,x&&(x=!1,N(z),z=-1),k=!0;var G=w;try{for(T(K),v=n(h);v!==null&&(!(v.expirationTime>K)||H&&!re());){var A=v.callback;if(typeof A=="function"){v.callback=null,w=v.priorityLevel;var q=A(v.expirationTime<=K);K=t.unstable_now(),typeof q=="function"?v.callback=q:v===n(h)&&r(h),T(K)}else r(h);v=n(h)}if(v!==null)var ye=!0;else{var ve=n(p);ve!==null&&ue(I,ve.startTime-K),ye=!1}return ye}finally{v=null,w=G,k=!1}}var L=!1,D=null,z=-1,Q=5,V=-1;function re(){return!(t.unstable_now()-V<Q)}function J(){if(D!==null){var H=t.unstable_now();V=H;var K=!0;try{K=D(!0,H)}finally{K?se():(L=!1,D=null)}}else L=!1}var se;if(typeof C=="function")se=function(){C(J)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,de=X.port2;X.port1.onmessage=J,se=function(){de.postMessage(null)}}else se=function(){_(J,0)};function ie(H){D=H,L||(L=!0,se())}function ue(H,K){z=_(function(){H(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){E||k||(E=!0,ie(U))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(H){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var G=w;w=K;try{return H()}finally{w=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=w;w=H;try{return K()}finally{w=G}},t.unstable_scheduleCallback=function(H,K,G){var A=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?A+G:A):G=A,H){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=G+q,H={id:g++,callback:K,priorityLevel:H,startTime:G,expirationTime:q,sortIndex:-1},G>A?(H.sortIndex=G,e(p,H),n(h)===null&&H===n(p)&&(x?(N(z),z=-1):x=!0,ue(I,G-A))):(H.sortIndex=q,e(h,H),E||k||(E=!0,ie(U))),H},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(H){var K=w;return function(){var G=w;w=K;try{return H.apply(this,arguments)}finally{w=G}}}})(Yf)),Yf}var Nv;function nC(){return Nv||(Nv=1,Zf.exports=tC()),Zf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function rC(){if(Tv)return un;Tv=1;var t=qu(),e=nC();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(s){return h.call(v,s)?!0:h.call(g,s)?!1:p.test(s)?v[s]=!0:(g[s]=!0,!1)}function k(s,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,o,c,f){if(o===null||typeof o>"u"||k(s,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(s,o,c,f,m,y,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=S}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){_[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];_[o]=new x(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){_[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){_[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){_[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){_[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){_[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){_[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){_[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(N,C);_[o]=new x(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(N,C);_[o]=new x(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(N,C);_[o]=new x(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){_[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),_.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){_[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,o,c,f){var m=_.hasOwnProperty(o)?_[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(E(o,c,m,f)&&(c=null),f||m===null?w(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):m.mustUseProperty?s[m.propertyName]=c===null?m.type===3?!1:"":c:(o=m.attributeName,f=m.attributeNamespace,c===null?s.removeAttribute(o):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,f?s.setAttributeNS(f,o,c):s.setAttribute(o,c))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),L=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),re=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),H=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var G=Object.assign,A;function q(s){if(A===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);A=o&&o[1]||""}return`
`+A+s}var ye=!1;function ve(s,o){if(!s||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(W){var f=W}Reflect.construct(s,[],o)}else{try{o.call()}catch(W){f=W}s.call(o.prototype)}else{try{throw Error()}catch(W){f=W}s()}}catch(W){if(W&&f&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),y=f.stack.split(`
`),S=m.length-1,j=y.length-1;1<=S&&0<=j&&m[S]!==y[j];)j--;for(;1<=S&&0<=j;S--,j--)if(m[S]!==y[j]){if(S!==1||j!==1)do if(S--,j--,0>j||m[S]!==y[j]){var O=`
`+m[S].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=S&&0<=j);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?q(s):""}function Ne(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function Te(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case L:return"Portal";case Q:return"Profiler";case z:return"StrictMode";case se:return"Suspense";case X:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case re:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case J:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case de:return o=s.displayName||null,o!==null?o:Te(s.type)||"Memo";case ie:o=s._payload,s=s._init;try{return Te(s(o))}catch{}}return null}function ce(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(o);case 8:return o===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function we(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Re(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ae(s){var o=Re(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){f=""+S,y.call(this,S)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Oe(s){s._valueTracker||(s._valueTracker=Ae(s))}function Be(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=Re(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function Ye(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function xt(s,o){var c=o.checked;return G({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Et(s,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=we(o.value!=null?o.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function mn(s,o){o=o.checked,o!=null&&T(s,"checked",o,!1)}function Ut(s,o){mn(s,o);var c=we(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?rn(s,o.type,c):o.hasOwnProperty("defaultValue")&&rn(s,o.type,we(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Ln(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function rn(s,o,c){(o!=="number"||Ye(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var P=Array.isArray;function R(s,o,c,f){if(s=s.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=o.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&f&&(s[c].defaultSelected=!0)}else{for(c=""+we(c),o=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function $(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Y(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(P(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:we(c)}}function ne(s,o){var c=we(o.value),f=we(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function Z(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function fe(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?fe(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ge,me=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,m){MSApp.execUnsafeLocalFunction(function(){return s(o,c,f,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Ge=Ge||document.createElement("div"),Ge.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ge.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ke(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qe=["Webkit","ms","Moz","O"];Object.keys(qe).forEach(function(s){Qe.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),qe[o]=qe[s]})});function mt(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||qe.hasOwnProperty(s)&&qe[s]?(""+o).trim():o+"px"}function Wt(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,m=mt(c,o[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,m):s[c]=m}}var rr=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nn(s,o){if(o){if(rr[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function _r(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Un=null;function qr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Pi=null,Fn=null,Kr=null;function Ii(s){if(s=va(s)){if(typeof Pi!="function")throw Error(n(280));var o=s.stateNode;o&&(o=nc(o),Pi(s.stateNode,s.type,o))}}function Rl(s){Fn?Kr?Kr.push(s):Kr=[s]:Fn=s}function Al(){if(Fn){var s=Fn,o=Kr;if(Kr=Fn=null,Ii(s),o)for(s=0;s<o.length;s++)Ii(o[s])}}function Vm(s,o){return s(o)}function zm(){}var ud=!1;function Wm(s,o,c){if(ud)return s(o,c);ud=!0;try{return Vm(s,o,c)}finally{ud=!1,(Fn!==null||Kr!==null)&&(zm(),Al())}}function Zo(s,o){var c=s.stateNode;if(c===null)return null;var f=nc(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var dd=!1;if(u)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){dd=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{dd=!1}function n1(s,o,c,f,m,y,S,j,O){var W=Array.prototype.slice.call(arguments,3);try{o.apply(c,W)}catch(te){this.onError(te)}}var Xo=!1,Ol=null,Dl=!1,fd=null,r1={onError:function(s){Xo=!0,Ol=s}};function s1(s,o,c,f,m,y,S,j,O){Xo=!1,Ol=null,n1.apply(r1,arguments)}function i1(s,o,c,f,m,y,S,j,O){if(s1.apply(this,arguments),Xo){if(Xo){var W=Ol;Xo=!1,Ol=null}else throw Error(n(198));Dl||(Dl=!0,fd=W)}}function zs(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Hm(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function qm(s){if(zs(s)!==s)throw Error(n(188))}function o1(s){var o=s.alternate;if(!o){if(o=zs(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,f=o;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return qm(m),s;if(y===f)return qm(m),o;y=y.sibling}throw Error(n(188))}if(c.return!==f.return)c=m,f=y;else{for(var S=!1,j=m.child;j;){if(j===c){S=!0,c=m,f=y;break}if(j===f){S=!0,f=m,c=y;break}j=j.sibling}if(!S){for(j=y.child;j;){if(j===c){S=!0,c=y,f=m;break}if(j===f){S=!0,f=y,c=m;break}j=j.sibling}if(!S)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function Km(s){return s=o1(s),s!==null?Gm(s):null}function Gm(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Gm(s);if(o!==null)return o;s=s.sibling}return null}var Qm=e.unstable_scheduleCallback,Jm=e.unstable_cancelCallback,a1=e.unstable_shouldYield,l1=e.unstable_requestPaint,_t=e.unstable_now,c1=e.unstable_getCurrentPriorityLevel,hd=e.unstable_ImmediatePriority,Zm=e.unstable_UserBlockingPriority,Ml=e.unstable_NormalPriority,u1=e.unstable_LowPriority,Ym=e.unstable_IdlePriority,Ll=null,sr=null;function d1(s){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(Ll,s,void 0,(s.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:p1,f1=Math.log,h1=Math.LN2;function p1(s){return s>>>=0,s===0?32:31-(f1(s)/h1|0)|0}var Ul=64,Fl=4194304;function ea(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function $l(s,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,m=s.suspendedLanes,y=s.pingedLanes,S=c&268435455;if(S!==0){var j=S&~m;j!==0?f=ea(j):(y&=S,y!==0&&(f=ea(y)))}else S=c&~m,S!==0?f=ea(S):y!==0&&(f=ea(y));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)c=31-$n(o),m=1<<c,f|=s[c],o&=~m;return f}function m1(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g1(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var S=31-$n(y),j=1<<S,O=m[S];O===-1?((j&c)===0||(j&f)!==0)&&(m[S]=m1(j,o)):O<=o&&(s.expiredLanes|=j),y&=~j}}function pd(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Xm(){var s=Ul;return Ul<<=1,(Ul&4194240)===0&&(Ul=64),s}function md(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function ta(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-$n(o),s[o]=c}function y1(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var m=31-$n(c),y=1<<m;o[m]=0,f[m]=-1,s[m]=-1,c&=~y}}function gd(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-$n(c),m=1<<f;m&o|s[f]&o&&(s[f]|=o),c&=~m}}var st=0;function eg(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var tg,yd,ng,rg,sg,vd=!1,Bl=[],Gr=null,Qr=null,Jr=null,na=new Map,ra=new Map,Zr=[],v1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ig(s,o){switch(s){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":na.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ra.delete(o.pointerId)}}function sa(s,o,c,f,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},o!==null&&(o=va(o),o!==null&&yd(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function w1(s,o,c,f,m){switch(o){case"focusin":return Gr=sa(Gr,s,o,c,f,m),!0;case"dragenter":return Qr=sa(Qr,s,o,c,f,m),!0;case"mouseover":return Jr=sa(Jr,s,o,c,f,m),!0;case"pointerover":var y=m.pointerId;return na.set(y,sa(na.get(y)||null,s,o,c,f,m)),!0;case"gotpointercapture":return y=m.pointerId,ra.set(y,sa(ra.get(y)||null,s,o,c,f,m)),!0}return!1}function og(s){var o=Ws(s.target);if(o!==null){var c=zs(o);if(c!==null){if(o=c.tag,o===13){if(o=Hm(c),o!==null){s.blockedOn=o,sg(s.priority,function(){ng(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vl(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=xd(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Un=f,c.target.dispatchEvent(f),Un=null}else return o=va(c),o!==null&&yd(o),s.blockedOn=c,!1;o.shift()}return!0}function ag(s,o,c){Vl(s)&&c.delete(o)}function x1(){vd=!1,Gr!==null&&Vl(Gr)&&(Gr=null),Qr!==null&&Vl(Qr)&&(Qr=null),Jr!==null&&Vl(Jr)&&(Jr=null),na.forEach(ag),ra.forEach(ag)}function ia(s,o){s.blockedOn===o&&(s.blockedOn=null,vd||(vd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,x1)))}function oa(s){function o(m){return ia(m,s)}if(0<Bl.length){ia(Bl[0],s);for(var c=1;c<Bl.length;c++){var f=Bl[c];f.blockedOn===s&&(f.blockedOn=null)}}for(Gr!==null&&ia(Gr,s),Qr!==null&&ia(Qr,s),Jr!==null&&ia(Jr,s),na.forEach(o),ra.forEach(o),c=0;c<Zr.length;c++)f=Zr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Zr.length&&(c=Zr[0],c.blockedOn===null);)og(c),c.blockedOn===null&&Zr.shift()}var Ri=I.ReactCurrentBatchConfig,zl=!0;function b1(s,o,c,f){var m=st,y=Ri.transition;Ri.transition=null;try{st=1,wd(s,o,c,f)}finally{st=m,Ri.transition=y}}function _1(s,o,c,f){var m=st,y=Ri.transition;Ri.transition=null;try{st=4,wd(s,o,c,f)}finally{st=m,Ri.transition=y}}function wd(s,o,c,f){if(zl){var m=xd(s,o,c,f);if(m===null)Ld(s,o,f,Wl,c),ig(s,f);else if(w1(m,s,o,c,f))f.stopPropagation();else if(ig(s,f),o&4&&-1<v1.indexOf(s)){for(;m!==null;){var y=va(m);if(y!==null&&tg(y),y=xd(s,o,c,f),y===null&&Ld(s,o,f,Wl,c),y===m)break;m=y}m!==null&&f.stopPropagation()}else Ld(s,o,f,null,c)}}var Wl=null;function xd(s,o,c,f){if(Wl=null,s=qr(f),s=Ws(s),s!==null)if(o=zs(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Hm(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Wl=s,null}function lg(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c1()){case hd:return 1;case Zm:return 4;case Ml:case u1:return 16;case Ym:return 536870912;default:return 16}default:return 16}}var Yr=null,bd=null,Hl=null;function cg(){if(Hl)return Hl;var s,o=bd,c=o.length,f,m="value"in Yr?Yr.value:Yr.textContent,y=m.length;for(s=0;s<c&&o[s]===m[s];s++);var S=c-s;for(f=1;f<=S&&o[c-f]===m[y-f];f++);return Hl=m.slice(s,1<f?1-f:void 0)}function ql(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Kl(){return!0}function ug(){return!1}function gn(s){function o(c,f,m,y,S){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(c=s[j],this[j]=c?c(y):y[j]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Kl:ug,this.isPropagationStopped=ug,this}return G(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),o}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_d=gn(Ai),aa=G({},Ai,{view:0,detail:0}),S1=gn(aa),Sd,kd,la,Gl=G({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==la&&(la&&s.type==="mousemove"?(Sd=s.screenX-la.screenX,kd=s.screenY-la.screenY):kd=Sd=0,la=s),Sd)},movementY:function(s){return"movementY"in s?s.movementY:kd}}),dg=gn(Gl),k1=G({},Gl,{dataTransfer:0}),E1=gn(k1),C1=G({},aa,{relatedTarget:0}),Ed=gn(C1),N1=G({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),T1=gn(N1),j1=G({},Ai,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),P1=gn(j1),I1=G({},Ai,{data:0}),fg=gn(I1),R1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D1(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=O1[s])?!!o[s]:!1}function Cd(){return D1}var M1=G({},aa,{key:function(s){if(s.key){var o=R1[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ql(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?A1[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cd,charCode:function(s){return s.type==="keypress"?ql(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ql(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),L1=gn(M1),U1=G({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hg=gn(U1),F1=G({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cd}),$1=gn(F1),B1=G({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),V1=gn(B1),z1=G({},Gl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),W1=gn(z1),H1=[9,13,27,32],Nd=u&&"CompositionEvent"in window,ca=null;u&&"documentMode"in document&&(ca=document.documentMode);var q1=u&&"TextEvent"in window&&!ca,pg=u&&(!Nd||ca&&8<ca&&11>=ca),mg=" ",gg=!1;function yg(s,o){switch(s){case"keyup":return H1.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Oi=!1;function K1(s,o){switch(s){case"compositionend":return vg(o);case"keypress":return o.which!==32?null:(gg=!0,mg);case"textInput":return s=o.data,s===mg&&gg?null:s;default:return null}}function G1(s,o){if(Oi)return s==="compositionend"||!Nd&&yg(s,o)?(s=cg(),Hl=bd=Yr=null,Oi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return pg&&o.locale!=="ko"?null:o.data;default:return null}}var Q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Q1[s.type]:o==="textarea"}function xg(s,o,c,f){Rl(f),o=Xl(o,"onChange"),0<o.length&&(c=new _d("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var ua=null,da=null;function J1(s){Ug(s,0)}function Ql(s){var o=Fi(s);if(Be(o))return s}function Z1(s,o){if(s==="change")return o}var bg=!1;if(u){var Td;if(u){var jd="oninput"in document;if(!jd){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),jd=typeof _g.oninput=="function"}Td=jd}else Td=!1;bg=Td&&(!document.documentMode||9<document.documentMode)}function Sg(){ua&&(ua.detachEvent("onpropertychange",kg),da=ua=null)}function kg(s){if(s.propertyName==="value"&&Ql(da)){var o=[];xg(o,da,s,qr(s)),Wm(J1,o)}}function Y1(s,o,c){s==="focusin"?(Sg(),ua=o,da=c,ua.attachEvent("onpropertychange",kg)):s==="focusout"&&Sg()}function X1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ql(da)}function eE(s,o){if(s==="click")return Ql(o)}function tE(s,o){if(s==="input"||s==="change")return Ql(o)}function nE(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Bn=typeof Object.is=="function"?Object.is:nE;function fa(s,o){if(Bn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!h.call(o,m)||!Bn(s[m],o[m]))return!1}return!0}function Eg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Cg(s,o){var c=Eg(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Eg(c)}}function Ng(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ng(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Tg(){for(var s=window,o=Ye();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Ye(s.document)}return o}function Pd(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function rE(s){var o=Tg(),c=s.focusedElem,f=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&Ng(c.ownerDocument.documentElement,c)){if(f!==null&&Pd(c)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=c.textContent.length,y=Math.min(f.start,m);f=f.end===void 0?y:Math.min(f.end,m),!s.extend&&y>f&&(m=f,f=y,y=m),m=Cg(c,y);var S=Cg(c,f);m&&S&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),y>f?(s.addRange(o),s.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var sE=u&&"documentMode"in document&&11>=document.documentMode,Di=null,Id=null,ha=null,Rd=!1;function jg(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Rd||Di==null||Di!==Ye(f)||(f=Di,"selectionStart"in f&&Pd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ha&&fa(ha,f)||(ha=f,f=Xl(Id,"onSelect"),0<f.length&&(o=new _d("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=Di)))}function Jl(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Mi={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionend:Jl("Transition","TransitionEnd")},Ad={},Pg={};u&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function Zl(s){if(Ad[s])return Ad[s];if(!Mi[s])return s;var o=Mi[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Pg)return Ad[s]=o[c];return s}var Ig=Zl("animationend"),Rg=Zl("animationiteration"),Ag=Zl("animationstart"),Og=Zl("transitionend"),Dg=new Map,Mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(s,o){Dg.set(s,o),a(o,[s])}for(var Od=0;Od<Mg.length;Od++){var Dd=Mg[Od],iE=Dd.toLowerCase(),oE=Dd[0].toUpperCase()+Dd.slice(1);Xr(iE,"on"+oE)}Xr(Ig,"onAnimationEnd"),Xr(Rg,"onAnimationIteration"),Xr(Ag,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(Og,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function Lg(s,o,c){var f=s.type||"unknown-event";s.currentTarget=c,i1(f,o,void 0,s),s.currentTarget=null}function Ug(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],m=f.event;f=f.listeners;e:{var y=void 0;if(o)for(var S=f.length-1;0<=S;S--){var j=f[S],O=j.instance,W=j.currentTarget;if(j=j.listener,O!==y&&m.isPropagationStopped())break e;Lg(m,j,W),y=O}else for(S=0;S<f.length;S++){if(j=f[S],O=j.instance,W=j.currentTarget,j=j.listener,O!==y&&m.isPropagationStopped())break e;Lg(m,j,W),y=O}}}if(Dl)throw s=fd,Dl=!1,fd=null,s}function ft(s,o){var c=o[zd];c===void 0&&(c=o[zd]=new Set);var f=s+"__bubble";c.has(f)||(Fg(o,s,2,!1),c.add(f))}function Md(s,o,c){var f=0;o&&(f|=4),Fg(c,s,f,o)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function ma(s){if(!s[Yl]){s[Yl]=!0,r.forEach(function(c){c!=="selectionchange"&&(aE.has(c)||Md(c,!1,s),Md(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Yl]||(o[Yl]=!0,Md("selectionchange",!1,o))}}function Fg(s,o,c,f){switch(lg(o)){case 1:var m=b1;break;case 4:m=_1;break;default:m=wd}c=m.bind(null,o,c,s),m=void 0,!dd||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(o,c,{capture:!0,passive:m}):s.addEventListener(o,c,!0):m!==void 0?s.addEventListener(o,c,{passive:m}):s.addEventListener(o,c,!1)}function Ld(s,o,c,f,m){var y=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var j=f.stateNode.containerInfo;if(j===m||j.nodeType===8&&j.parentNode===m)break;if(S===4)for(S=f.return;S!==null;){var O=S.tag;if((O===3||O===4)&&(O=S.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;S=S.return}for(;j!==null;){if(S=Ws(j),S===null)return;if(O=S.tag,O===5||O===6){f=y=S;continue e}j=j.parentNode}}f=f.return}Wm(function(){var W=y,te=qr(c),oe=[];e:{var ee=Dg.get(s);if(ee!==void 0){var he=_d,xe=s;switch(s){case"keypress":if(ql(c)===0)break e;case"keydown":case"keyup":he=L1;break;case"focusin":xe="focus",he=Ed;break;case"focusout":xe="blur",he=Ed;break;case"beforeblur":case"afterblur":he=Ed;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=E1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=$1;break;case Ig:case Rg:case Ag:he=T1;break;case Og:he=V1;break;case"scroll":he=S1;break;case"wheel":he=W1;break;case"copy":case"cut":case"paste":he=P1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=hg}var _e=(o&4)!==0,St=!_e&&s==="scroll",F=_e?ee!==null?ee+"Capture":null:ee;_e=[];for(var M=W,B;M!==null;){B=M;var ae=B.stateNode;if(B.tag===5&&ae!==null&&(B=ae,F!==null&&(ae=Zo(M,F),ae!=null&&_e.push(ga(M,ae,B)))),St)break;M=M.return}0<_e.length&&(ee=new he(ee,xe,null,c,te),oe.push({event:ee,listeners:_e}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",ee&&c!==Un&&(xe=c.relatedTarget||c.fromElement)&&(Ws(xe)||xe[Sr]))break e;if((he||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,he?(xe=c.relatedTarget||c.toElement,he=W,xe=xe?Ws(xe):null,xe!==null&&(St=zs(xe),xe!==St||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(he=null,xe=W),he!==xe)){if(_e=dg,ae="onMouseLeave",F="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(_e=hg,ae="onPointerLeave",F="onPointerEnter",M="pointer"),St=he==null?ee:Fi(he),B=xe==null?ee:Fi(xe),ee=new _e(ae,M+"leave",he,c,te),ee.target=St,ee.relatedTarget=B,ae=null,Ws(te)===W&&(_e=new _e(F,M+"enter",xe,c,te),_e.target=B,_e.relatedTarget=St,ae=_e),St=ae,he&&xe)t:{for(_e=he,F=xe,M=0,B=_e;B;B=Li(B))M++;for(B=0,ae=F;ae;ae=Li(ae))B++;for(;0<M-B;)_e=Li(_e),M--;for(;0<B-M;)F=Li(F),B--;for(;M--;){if(_e===F||F!==null&&_e===F.alternate)break t;_e=Li(_e),F=Li(F)}_e=null}else _e=null;he!==null&&$g(oe,ee,he,_e,!1),xe!==null&&St!==null&&$g(oe,St,xe,_e,!0)}}e:{if(ee=W?Fi(W):window,he=ee.nodeName&&ee.nodeName.toLowerCase(),he==="select"||he==="input"&&ee.type==="file")var Ee=Z1;else if(wg(ee))if(bg)Ee=tE;else{Ee=X1;var je=Y1}else(he=ee.nodeName)&&he.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Ee=eE);if(Ee&&(Ee=Ee(s,W))){xg(oe,Ee,c,te);break e}je&&je(s,ee,W),s==="focusout"&&(je=ee._wrapperState)&&je.controlled&&ee.type==="number"&&rn(ee,"number",ee.value)}switch(je=W?Fi(W):window,s){case"focusin":(wg(je)||je.contentEditable==="true")&&(Di=je,Id=W,ha=null);break;case"focusout":ha=Id=Di=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,jg(oe,c,te);break;case"selectionchange":if(sE)break;case"keydown":case"keyup":jg(oe,c,te)}var Pe;if(Nd)e:{switch(s){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Oi?yg(s,c)&&(De="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(De="onCompositionStart");De&&(pg&&c.locale!=="ko"&&(Oi||De!=="onCompositionStart"?De==="onCompositionEnd"&&Oi&&(Pe=cg()):(Yr=te,bd="value"in Yr?Yr.value:Yr.textContent,Oi=!0)),je=Xl(W,De),0<je.length&&(De=new fg(De,s,null,c,te),oe.push({event:De,listeners:je}),Pe?De.data=Pe:(Pe=vg(c),Pe!==null&&(De.data=Pe)))),(Pe=q1?K1(s,c):G1(s,c))&&(W=Xl(W,"onBeforeInput"),0<W.length&&(te=new fg("onBeforeInput","beforeinput",null,c,te),oe.push({event:te,listeners:W}),te.data=Pe))}Ug(oe,o)})}function ga(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Xl(s,o){for(var c=o+"Capture",f=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Zo(s,c),y!=null&&f.unshift(ga(s,y,m)),y=Zo(s,o),y!=null&&f.push(ga(s,y,m))),s=s.return}return f}function Li(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function $g(s,o,c,f,m){for(var y=o._reactName,S=[];c!==null&&c!==f;){var j=c,O=j.alternate,W=j.stateNode;if(O!==null&&O===f)break;j.tag===5&&W!==null&&(j=W,m?(O=Zo(c,y),O!=null&&S.unshift(ga(c,O,j))):m||(O=Zo(c,y),O!=null&&S.push(ga(c,O,j)))),c=c.return}S.length!==0&&s.push({event:o,listeners:S})}var lE=/\r\n?/g,cE=/\u0000|\uFFFD/g;function Bg(s){return(typeof s=="string"?s:""+s).replace(lE,`
`).replace(cE,"")}function ec(s,o,c){if(o=Bg(o),Bg(s)!==o&&c)throw Error(n(425))}function tc(){}var Ud=null,Fd=null;function $d(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Bd=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,Vg=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof Vg<"u"?function(s){return Vg.resolve(null).then(s).catch(fE)}:Bd;function fE(s){setTimeout(function(){throw s})}function Vd(s,o){var c=o,f=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(f===0){s.removeChild(m),oa(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=m}while(c);oa(o)}function es(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function zg(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),ir="__reactFiber$"+Ui,ya="__reactProps$"+Ui,Sr="__reactContainer$"+Ui,zd="__reactEvents$"+Ui,hE="__reactListeners$"+Ui,pE="__reactHandles$"+Ui;function Ws(s){var o=s[ir];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Sr]||c[ir]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=zg(s);s!==null;){if(c=s[ir])return c;s=zg(s)}return o}s=c,c=s.parentNode}return null}function va(s){return s=s[ir]||s[Sr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Fi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function nc(s){return s[ya]||null}var Wd=[],$i=-1;function ts(s){return{current:s}}function ht(s){0>$i||(s.current=Wd[$i],Wd[$i]=null,$i--)}function ut(s,o){$i++,Wd[$i]=s.current,s.current=o}var ns={},Kt=ts(ns),sn=ts(!1),Hs=ns;function Bi(s,o){var c=s.type.contextTypes;if(!c)return ns;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in c)m[y]=o[y];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function on(s){return s=s.childContextTypes,s!=null}function rc(){ht(sn),ht(Kt)}function Wg(s,o,c){if(Kt.current!==ns)throw Error(n(168));ut(Kt,o),ut(sn,c)}function Hg(s,o,c){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(n(108,ce(s)||"Unknown",m));return G({},c,f)}function sc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ns,Hs=Kt.current,ut(Kt,s),ut(sn,sn.current),!0}function qg(s,o,c){var f=s.stateNode;if(!f)throw Error(n(169));c?(s=Hg(s,o,Hs),f.__reactInternalMemoizedMergedChildContext=s,ht(sn),ht(Kt),ut(Kt,s)):ht(sn),ut(sn,c)}var kr=null,ic=!1,Hd=!1;function Kg(s){kr===null?kr=[s]:kr.push(s)}function mE(s){ic=!0,Kg(s)}function rs(){if(!Hd&&kr!==null){Hd=!0;var s=0,o=st;try{var c=kr;for(st=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}kr=null,ic=!1}catch(m){throw kr!==null&&(kr=kr.slice(s+1)),Qm(hd,rs),m}finally{st=o,Hd=!1}}return null}var Vi=[],zi=0,oc=null,ac=0,Tn=[],jn=0,qs=null,Er=1,Cr="";function Ks(s,o){Vi[zi++]=ac,Vi[zi++]=oc,oc=s,ac=o}function Gg(s,o,c){Tn[jn++]=Er,Tn[jn++]=Cr,Tn[jn++]=qs,qs=s;var f=Er;s=Cr;var m=32-$n(f)-1;f&=~(1<<m),c+=1;var y=32-$n(o)+m;if(30<y){var S=m-m%5;y=(f&(1<<S)-1).toString(32),f>>=S,m-=S,Er=1<<32-$n(o)+m|c<<m|f,Cr=y+s}else Er=1<<y|c<<m|f,Cr=s}function qd(s){s.return!==null&&(Ks(s,1),Gg(s,1,0))}function Kd(s){for(;s===oc;)oc=Vi[--zi],Vi[zi]=null,ac=Vi[--zi],Vi[zi]=null;for(;s===qs;)qs=Tn[--jn],Tn[jn]=null,Cr=Tn[--jn],Tn[jn]=null,Er=Tn[--jn],Tn[jn]=null}var yn=null,vn=null,gt=!1,Vn=null;function Qg(s,o){var c=An(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function Jg(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,yn=s,vn=es(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,yn=s,vn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=qs!==null?{id:Er,overflow:Cr}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=An(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,yn=s,vn=null,!0):!1;default:return!1}}function Gd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Qd(s){if(gt){var o=vn;if(o){var c=o;if(!Jg(s,o)){if(Gd(s))throw Error(n(418));o=es(c.nextSibling);var f=yn;o&&Jg(s,o)?Qg(f,c):(s.flags=s.flags&-4097|2,gt=!1,yn=s)}}else{if(Gd(s))throw Error(n(418));s.flags=s.flags&-4097|2,gt=!1,yn=s}}}function Zg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;yn=s}function lc(s){if(s!==yn)return!1;if(!gt)return Zg(s),gt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!$d(s.type,s.memoizedProps)),o&&(o=vn)){if(Gd(s))throw Yg(),Error(n(418));for(;o;)Qg(s,o),o=es(o.nextSibling)}if(Zg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){vn=es(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}vn=null}}else vn=yn?es(s.stateNode.nextSibling):null;return!0}function Yg(){for(var s=vn;s;)s=es(s.nextSibling)}function Wi(){vn=yn=null,gt=!1}function Jd(s){Vn===null?Vn=[s]:Vn.push(s)}var gE=I.ReactCurrentBatchConfig;function wa(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,s));var m=f,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(S){var j=m.refs;S===null?delete j[y]:j[y]=S},o._stringRef=y,o)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function cc(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Xg(s){var o=s._init;return o(s._payload)}function ey(s){function o(F,M){if(s){var B=F.deletions;B===null?(F.deletions=[M],F.flags|=16):B.push(M)}}function c(F,M){if(!s)return null;for(;M!==null;)o(F,M),M=M.sibling;return null}function f(F,M){for(F=new Map;M!==null;)M.key!==null?F.set(M.key,M):F.set(M.index,M),M=M.sibling;return F}function m(F,M){return F=ds(F,M),F.index=0,F.sibling=null,F}function y(F,M,B){return F.index=B,s?(B=F.alternate,B!==null?(B=B.index,B<M?(F.flags|=2,M):B):(F.flags|=2,M)):(F.flags|=1048576,M)}function S(F){return s&&F.alternate===null&&(F.flags|=2),F}function j(F,M,B,ae){return M===null||M.tag!==6?(M=Vf(B,F.mode,ae),M.return=F,M):(M=m(M,B),M.return=F,M)}function O(F,M,B,ae){var Ee=B.type;return Ee===D?te(F,M,B.props.children,ae,B.key):M!==null&&(M.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ie&&Xg(Ee)===M.type)?(ae=m(M,B.props),ae.ref=wa(F,M,B),ae.return=F,ae):(ae=Ac(B.type,B.key,B.props,null,F.mode,ae),ae.ref=wa(F,M,B),ae.return=F,ae)}function W(F,M,B,ae){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=zf(B,F.mode,ae),M.return=F,M):(M=m(M,B.children||[]),M.return=F,M)}function te(F,M,B,ae,Ee){return M===null||M.tag!==7?(M=ti(B,F.mode,ae,Ee),M.return=F,M):(M=m(M,B),M.return=F,M)}function oe(F,M,B){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Vf(""+M,F.mode,B),M.return=F,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return B=Ac(M.type,M.key,M.props,null,F.mode,B),B.ref=wa(F,null,M),B.return=F,B;case L:return M=zf(M,F.mode,B),M.return=F,M;case ie:var ae=M._init;return oe(F,ae(M._payload),B)}if(P(M)||K(M))return M=ti(M,F.mode,B,null),M.return=F,M;cc(F,M)}return null}function ee(F,M,B,ae){var Ee=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return Ee!==null?null:j(F,M,""+B,ae);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case U:return B.key===Ee?O(F,M,B,ae):null;case L:return B.key===Ee?W(F,M,B,ae):null;case ie:return Ee=B._init,ee(F,M,Ee(B._payload),ae)}if(P(B)||K(B))return Ee!==null?null:te(F,M,B,ae,null);cc(F,B)}return null}function he(F,M,B,ae,Ee){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return F=F.get(B)||null,j(M,F,""+ae,Ee);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case U:return F=F.get(ae.key===null?B:ae.key)||null,O(M,F,ae,Ee);case L:return F=F.get(ae.key===null?B:ae.key)||null,W(M,F,ae,Ee);case ie:var je=ae._init;return he(F,M,B,je(ae._payload),Ee)}if(P(ae)||K(ae))return F=F.get(B)||null,te(M,F,ae,Ee,null);cc(M,ae)}return null}function xe(F,M,B,ae){for(var Ee=null,je=null,Pe=M,De=M=0,Bt=null;Pe!==null&&De<B.length;De++){Pe.index>De?(Bt=Pe,Pe=null):Bt=Pe.sibling;var Xe=ee(F,Pe,B[De],ae);if(Xe===null){Pe===null&&(Pe=Bt);break}s&&Pe&&Xe.alternate===null&&o(F,Pe),M=y(Xe,M,De),je===null?Ee=Xe:je.sibling=Xe,je=Xe,Pe=Bt}if(De===B.length)return c(F,Pe),gt&&Ks(F,De),Ee;if(Pe===null){for(;De<B.length;De++)Pe=oe(F,B[De],ae),Pe!==null&&(M=y(Pe,M,De),je===null?Ee=Pe:je.sibling=Pe,je=Pe);return gt&&Ks(F,De),Ee}for(Pe=f(F,Pe);De<B.length;De++)Bt=he(Pe,F,De,B[De],ae),Bt!==null&&(s&&Bt.alternate!==null&&Pe.delete(Bt.key===null?De:Bt.key),M=y(Bt,M,De),je===null?Ee=Bt:je.sibling=Bt,je=Bt);return s&&Pe.forEach(function(fs){return o(F,fs)}),gt&&Ks(F,De),Ee}function _e(F,M,B,ae){var Ee=K(B);if(typeof Ee!="function")throw Error(n(150));if(B=Ee.call(B),B==null)throw Error(n(151));for(var je=Ee=null,Pe=M,De=M=0,Bt=null,Xe=B.next();Pe!==null&&!Xe.done;De++,Xe=B.next()){Pe.index>De?(Bt=Pe,Pe=null):Bt=Pe.sibling;var fs=ee(F,Pe,Xe.value,ae);if(fs===null){Pe===null&&(Pe=Bt);break}s&&Pe&&fs.alternate===null&&o(F,Pe),M=y(fs,M,De),je===null?Ee=fs:je.sibling=fs,je=fs,Pe=Bt}if(Xe.done)return c(F,Pe),gt&&Ks(F,De),Ee;if(Pe===null){for(;!Xe.done;De++,Xe=B.next())Xe=oe(F,Xe.value,ae),Xe!==null&&(M=y(Xe,M,De),je===null?Ee=Xe:je.sibling=Xe,je=Xe);return gt&&Ks(F,De),Ee}for(Pe=f(F,Pe);!Xe.done;De++,Xe=B.next())Xe=he(Pe,F,De,Xe.value,ae),Xe!==null&&(s&&Xe.alternate!==null&&Pe.delete(Xe.key===null?De:Xe.key),M=y(Xe,M,De),je===null?Ee=Xe:je.sibling=Xe,je=Xe);return s&&Pe.forEach(function(QE){return o(F,QE)}),gt&&Ks(F,De),Ee}function St(F,M,B,ae){if(typeof B=="object"&&B!==null&&B.type===D&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case U:e:{for(var Ee=B.key,je=M;je!==null;){if(je.key===Ee){if(Ee=B.type,Ee===D){if(je.tag===7){c(F,je.sibling),M=m(je,B.props.children),M.return=F,F=M;break e}}else if(je.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ie&&Xg(Ee)===je.type){c(F,je.sibling),M=m(je,B.props),M.ref=wa(F,je,B),M.return=F,F=M;break e}c(F,je);break}else o(F,je);je=je.sibling}B.type===D?(M=ti(B.props.children,F.mode,ae,B.key),M.return=F,F=M):(ae=Ac(B.type,B.key,B.props,null,F.mode,ae),ae.ref=wa(F,M,B),ae.return=F,F=ae)}return S(F);case L:e:{for(je=B.key;M!==null;){if(M.key===je)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){c(F,M.sibling),M=m(M,B.children||[]),M.return=F,F=M;break e}else{c(F,M);break}else o(F,M);M=M.sibling}M=zf(B,F.mode,ae),M.return=F,F=M}return S(F);case ie:return je=B._init,St(F,M,je(B._payload),ae)}if(P(B))return xe(F,M,B,ae);if(K(B))return _e(F,M,B,ae);cc(F,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,M!==null&&M.tag===6?(c(F,M.sibling),M=m(M,B),M.return=F,F=M):(c(F,M),M=Vf(B,F.mode,ae),M.return=F,F=M),S(F)):c(F,M)}return St}var Hi=ey(!0),ty=ey(!1),uc=ts(null),dc=null,qi=null,Zd=null;function Yd(){Zd=qi=dc=null}function Xd(s){var o=uc.current;ht(uc),s._currentValue=o}function ef(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function Ki(s,o){dc=s,Zd=qi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(an=!0),s.firstContext=null)}function Pn(s){var o=s._currentValue;if(Zd!==s)if(s={context:s,memoizedValue:o,next:null},qi===null){if(dc===null)throw Error(n(308));qi=s,dc.dependencies={lanes:0,firstContext:s}}else qi=qi.next=s;return o}var Gs=null;function tf(s){Gs===null?Gs=[s]:Gs.push(s)}function ny(s,o,c,f){var m=o.interleaved;return m===null?(c.next=c,tf(o)):(c.next=m.next,m.next=c),o.interleaved=c,Nr(s,f)}function Nr(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var ss=!1;function nf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ry(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Tr(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function is(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Je&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Nr(s,c)}return m=f.interleaved,m===null?(o.next=o,tf(f)):(o.next=m.next,m.next=o),f.interleaved=o,Nr(s,c)}function fc(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,gd(s,c)}}function sy(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?m=y=S:y=y.next=S,c=c.next}while(c!==null);y===null?m=y=o:y=y.next=o}else m=y=o;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function hc(s,o,c,f){var m=s.updateQueue;ss=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var O=j,W=O.next;O.next=null,S===null?y=W:S.next=W,S=O;var te=s.alternate;te!==null&&(te=te.updateQueue,j=te.lastBaseUpdate,j!==S&&(j===null?te.firstBaseUpdate=W:j.next=W,te.lastBaseUpdate=O))}if(y!==null){var oe=m.baseState;S=0,te=W=O=null,j=y;do{var ee=j.lane,he=j.eventTime;if((f&ee)===ee){te!==null&&(te=te.next={eventTime:he,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var xe=s,_e=j;switch(ee=o,he=c,_e.tag){case 1:if(xe=_e.payload,typeof xe=="function"){oe=xe.call(he,oe,ee);break e}oe=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=_e.payload,ee=typeof xe=="function"?xe.call(he,oe,ee):xe,ee==null)break e;oe=G({},oe,ee);break e;case 2:ss=!0}}j.callback!==null&&j.lane!==0&&(s.flags|=64,ee=m.effects,ee===null?m.effects=[j]:ee.push(j))}else he={eventTime:he,lane:ee,tag:j.tag,payload:j.payload,callback:j.callback,next:null},te===null?(W=te=he,O=oe):te=te.next=he,S|=ee;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;ee=j,j=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(O=oe),m.baseState=O,m.firstBaseUpdate=W,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);Zs|=S,s.lanes=S,s.memoizedState=oe}}function iy(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],m=f.callback;if(m!==null){if(f.callback=null,f=c,typeof m!="function")throw Error(n(191,m));m.call(f)}}}var xa={},or=ts(xa),ba=ts(xa),_a=ts(xa);function Qs(s){if(s===xa)throw Error(n(174));return s}function rf(s,o){switch(ut(_a,o),ut(ba,s),ut(or,xa),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:$e(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=$e(o,s)}ht(or),ut(or,o)}function Gi(){ht(or),ht(ba),ht(_a)}function oy(s){Qs(_a.current);var o=Qs(or.current),c=$e(o,s.type);o!==c&&(ut(ba,s),ut(or,c))}function sf(s){ba.current===s&&(ht(or),ht(ba))}var vt=ts(0);function pc(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var of=[];function af(){for(var s=0;s<of.length;s++)of[s]._workInProgressVersionPrimary=null;of.length=0}var mc=I.ReactCurrentDispatcher,lf=I.ReactCurrentBatchConfig,Js=0,wt=null,At=null,Ft=null,gc=!1,Sa=!1,ka=0,yE=0;function Gt(){throw Error(n(321))}function cf(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Bn(s[c],o[c]))return!1;return!0}function uf(s,o,c,f,m,y){if(Js=y,wt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,mc.current=s===null||s.memoizedState===null?bE:_E,s=c(f,m),Sa){y=0;do{if(Sa=!1,ka=0,25<=y)throw Error(n(301));y+=1,Ft=At=null,o.updateQueue=null,mc.current=SE,s=c(f,m)}while(Sa)}if(mc.current=wc,o=At!==null&&At.next!==null,Js=0,Ft=At=wt=null,gc=!1,o)throw Error(n(300));return s}function df(){var s=ka!==0;return ka=0,s}function ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?wt.memoizedState=Ft=s:Ft=Ft.next=s,Ft}function In(){if(At===null){var s=wt.alternate;s=s!==null?s.memoizedState:null}else s=At.next;var o=Ft===null?wt.memoizedState:Ft.next;if(o!==null)Ft=o,At=s;else{if(s===null)throw Error(n(310));At=s,s={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ft===null?wt.memoizedState=Ft=s:Ft=Ft.next=s}return Ft}function Ea(s,o){return typeof o=="function"?o(s):o}function ff(s){var o=In(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=At,m=f.baseQueue,y=c.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}f.baseQueue=m=y,c.pending=null}if(m!==null){y=m.next,f=f.baseState;var j=S=null,O=null,W=y;do{var te=W.lane;if((Js&te)===te)O!==null&&(O=O.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),f=W.hasEagerState?W.eagerState:s(f,W.action);else{var oe={lane:te,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};O===null?(j=O=oe,S=f):O=O.next=oe,wt.lanes|=te,Zs|=te}W=W.next}while(W!==null&&W!==y);O===null?S=f:O.next=j,Bn(f,o.memoizedState)||(an=!0),o.memoizedState=f,o.baseState=S,o.baseQueue=O,c.lastRenderedState=f}if(s=c.interleaved,s!==null){m=s;do y=m.lane,wt.lanes|=y,Zs|=y,m=m.next;while(m!==s)}else m===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function hf(s){var o=In(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=c.dispatch,m=c.pending,y=o.memoizedState;if(m!==null){c.pending=null;var S=m=m.next;do y=s(y,S.action),S=S.next;while(S!==m);Bn(y,o.memoizedState)||(an=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,f]}function ay(){}function ly(s,o){var c=wt,f=In(),m=o(),y=!Bn(f.memoizedState,m);if(y&&(f.memoizedState=m,an=!0),f=f.queue,pf(dy.bind(null,c,f,s),[s]),f.getSnapshot!==o||y||Ft!==null&&Ft.memoizedState.tag&1){if(c.flags|=2048,Ca(9,uy.bind(null,c,f,m,o),void 0,null),$t===null)throw Error(n(349));(Js&30)!==0||cy(c,o,m)}return m}function cy(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=wt.updateQueue,o===null?(o={lastEffect:null,stores:null},wt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function uy(s,o,c,f){o.value=c,o.getSnapshot=f,fy(o)&&hy(s)}function dy(s,o,c){return c(function(){fy(o)&&hy(s)})}function fy(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Bn(s,c)}catch{return!0}}function hy(s){var o=Nr(s,1);o!==null&&qn(o,s,1,-1)}function py(s){var o=ar();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:s},o.queue=s,s=s.dispatch=xE.bind(null,wt,s),[o.memoizedState,s]}function Ca(s,o,c,f){return s={tag:s,create:o,destroy:c,deps:f,next:null},o=wt.updateQueue,o===null?(o={lastEffect:null,stores:null},wt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s)),s}function my(){return In().memoizedState}function yc(s,o,c,f){var m=ar();wt.flags|=s,m.memoizedState=Ca(1|o,c,void 0,f===void 0?null:f)}function vc(s,o,c,f){var m=In();f=f===void 0?null:f;var y=void 0;if(At!==null){var S=At.memoizedState;if(y=S.destroy,f!==null&&cf(f,S.deps)){m.memoizedState=Ca(o,c,y,f);return}}wt.flags|=s,m.memoizedState=Ca(1|o,c,y,f)}function gy(s,o){return yc(8390656,8,s,o)}function pf(s,o){return vc(2048,8,s,o)}function yy(s,o){return vc(4,2,s,o)}function vy(s,o){return vc(4,4,s,o)}function wy(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function xy(s,o,c){return c=c!=null?c.concat([s]):null,vc(4,4,wy.bind(null,o,s),c)}function mf(){}function by(s,o){var c=In();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&cf(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function _y(s,o){var c=In();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&cf(o,f[1])?f[0]:(s=s(),c.memoizedState=[s,o],s)}function Sy(s,o,c){return(Js&21)===0?(s.baseState&&(s.baseState=!1,an=!0),s.memoizedState=c):(Bn(c,o)||(c=Xm(),wt.lanes|=c,Zs|=c,s.baseState=!0),o)}function vE(s,o){var c=st;st=c!==0&&4>c?c:4,s(!0);var f=lf.transition;lf.transition={};try{s(!1),o()}finally{st=c,lf.transition=f}}function ky(){return In().memoizedState}function wE(s,o,c){var f=cs(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},Ey(s))Cy(o,c);else if(c=ny(s,o,c,f),c!==null){var m=Xt();qn(c,s,f,m),Ny(c,o,f)}}function xE(s,o,c){var f=cs(s),m={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ey(s))Cy(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,j=y(S,c);if(m.hasEagerState=!0,m.eagerState=j,Bn(j,S)){var O=o.interleaved;O===null?(m.next=m,tf(o)):(m.next=O.next,O.next=m),o.interleaved=m;return}}catch{}finally{}c=ny(s,o,m,f),c!==null&&(m=Xt(),qn(c,s,f,m),Ny(c,o,f))}}function Ey(s){var o=s.alternate;return s===wt||o!==null&&o===wt}function Cy(s,o){Sa=gc=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Ny(s,o,c){if((c&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,gd(s,c)}}var wc={readContext:Pn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},bE={readContext:Pn,useCallback:function(s,o){return ar().memoizedState=[s,o===void 0?null:o],s},useContext:Pn,useEffect:gy,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,yc(4194308,4,wy.bind(null,o,s),c)},useLayoutEffect:function(s,o){return yc(4194308,4,s,o)},useInsertionEffect:function(s,o){return yc(4,2,s,o)},useMemo:function(s,o){var c=ar();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var f=ar();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=wE.bind(null,wt,s),[f.memoizedState,s]},useRef:function(s){var o=ar();return s={current:s},o.memoizedState=s},useState:py,useDebugValue:mf,useDeferredValue:function(s){return ar().memoizedState=s},useTransition:function(){var s=py(!1),o=s[0];return s=vE.bind(null,s[1]),ar().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var f=wt,m=ar();if(gt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),$t===null)throw Error(n(349));(Js&30)!==0||cy(f,o,c)}m.memoizedState=c;var y={value:c,getSnapshot:o};return m.queue=y,gy(dy.bind(null,f,y,s),[s]),f.flags|=2048,Ca(9,uy.bind(null,f,y,c,o),void 0,null),c},useId:function(){var s=ar(),o=$t.identifierPrefix;if(gt){var c=Cr,f=Er;c=(f&~(1<<32-$n(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=ka++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=yE++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},_E={readContext:Pn,useCallback:by,useContext:Pn,useEffect:pf,useImperativeHandle:xy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:_y,useReducer:ff,useRef:my,useState:function(){return ff(Ea)},useDebugValue:mf,useDeferredValue:function(s){var o=In();return Sy(o,At.memoizedState,s)},useTransition:function(){var s=ff(Ea)[0],o=In().memoizedState;return[s,o]},useMutableSource:ay,useSyncExternalStore:ly,useId:ky,unstable_isNewReconciler:!1},SE={readContext:Pn,useCallback:by,useContext:Pn,useEffect:pf,useImperativeHandle:xy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:_y,useReducer:hf,useRef:my,useState:function(){return hf(Ea)},useDebugValue:mf,useDeferredValue:function(s){var o=In();return At===null?o.memoizedState=s:Sy(o,At.memoizedState,s)},useTransition:function(){var s=hf(Ea)[0],o=In().memoizedState;return[s,o]},useMutableSource:ay,useSyncExternalStore:ly,useId:ky,unstable_isNewReconciler:!1};function zn(s,o){if(s&&s.defaultProps){o=G({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function gf(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:G({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var xc={isMounted:function(s){return(s=s._reactInternals)?zs(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var f=Xt(),m=cs(s),y=Tr(f,m);y.payload=o,c!=null&&(y.callback=c),o=is(s,y,m),o!==null&&(qn(o,s,m,f),fc(o,s,m))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=Xt(),m=cs(s),y=Tr(f,m);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=is(s,y,m),o!==null&&(qn(o,s,m,f),fc(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Xt(),f=cs(s),m=Tr(c,f);m.tag=2,o!=null&&(m.callback=o),o=is(s,m,f),o!==null&&(qn(o,s,f,c),fc(o,s,f))}};function Ty(s,o,c,f,m,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,y,S):o.prototype&&o.prototype.isPureReactComponent?!fa(c,f)||!fa(m,y):!0}function jy(s,o,c){var f=!1,m=ns,y=o.contextType;return typeof y=="object"&&y!==null?y=Pn(y):(m=on(o)?Hs:Kt.current,f=o.contextTypes,y=(f=f!=null)?Bi(s,m):ns),o=new o(c,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=xc,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),o}function Py(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&xc.enqueueReplaceState(o,o.state,null)}function yf(s,o,c,f){var m=s.stateNode;m.props=c,m.state=s.memoizedState,m.refs={},nf(s);var y=o.contextType;typeof y=="object"&&y!==null?m.context=Pn(y):(y=on(o)?Hs:Kt.current,m.context=Bi(s,y)),m.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(gf(s,o,y,c),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&xc.enqueueReplaceState(m,m.state,null),hc(s,c,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Qi(s,o){try{var c="",f=o;do c+=Ne(f),f=f.return;while(f);var m=c}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:m,digest:null}}function vf(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function wf(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var kE=typeof WeakMap=="function"?WeakMap:Map;function Iy(s,o,c){c=Tr(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){Nc||(Nc=!0,Of=f),wf(s,o)},c}function Ry(s,o,c){c=Tr(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;c.payload=function(){return f(m)},c.callback=function(){wf(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){wf(s,o),typeof f!="function"&&(as===null?as=new Set([this]):as.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),c}function Ay(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new kE;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(c)||(m.add(c),s=UE.bind(null,s,o,c),o.then(s,s))}function Oy(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Dy(s,o,c,f,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Tr(-1,1),o.tag=2,is(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var EE=I.ReactCurrentOwner,an=!1;function Yt(s,o,c,f){o.child=s===null?ty(o,null,c,f):Hi(o,s.child,c,f)}function My(s,o,c,f,m){c=c.render;var y=o.ref;return Ki(o,m),f=uf(s,o,c,f,y,m),c=df(),s!==null&&!an?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,jr(s,o,m)):(gt&&c&&qd(o),o.flags|=1,Yt(s,o,f,m),o.child)}function Ly(s,o,c,f,m){if(s===null){var y=c.type;return typeof y=="function"&&!Bf(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=y,Uy(s,o,y,f,m)):(s=Ac(c.type,null,f,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&m)===0){var S=y.memoizedProps;if(c=c.compare,c=c!==null?c:fa,c(S,f)&&s.ref===o.ref)return jr(s,o,m)}return o.flags|=1,s=ds(y,f),s.ref=o.ref,s.return=o,o.child=s}function Uy(s,o,c,f,m){if(s!==null){var y=s.memoizedProps;if(fa(y,f)&&s.ref===o.ref)if(an=!1,o.pendingProps=f=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(an=!0);else return o.lanes=s.lanes,jr(s,o,m)}return xf(s,o,c,f,m)}function Fy(s,o,c){var f=o.pendingProps,m=f.children,y=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Zi,wn),wn|=c;else{if((c&1073741824)===0)return s=y!==null?y.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,ut(Zi,wn),wn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:c,ut(Zi,wn),wn|=f}else y!==null?(f=y.baseLanes|c,o.memoizedState=null):f=c,ut(Zi,wn),wn|=f;return Yt(s,o,m,c),o.child}function $y(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function xf(s,o,c,f,m){var y=on(c)?Hs:Kt.current;return y=Bi(o,y),Ki(o,m),c=uf(s,o,c,f,y,m),f=df(),s!==null&&!an?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,jr(s,o,m)):(gt&&f&&qd(o),o.flags|=1,Yt(s,o,c,m),o.child)}function By(s,o,c,f,m){if(on(c)){var y=!0;sc(o)}else y=!1;if(Ki(o,m),o.stateNode===null)_c(s,o),jy(o,c,f),yf(o,c,f,m),f=!0;else if(s===null){var S=o.stateNode,j=o.memoizedProps;S.props=j;var O=S.context,W=c.contextType;typeof W=="object"&&W!==null?W=Pn(W):(W=on(c)?Hs:Kt.current,W=Bi(o,W));var te=c.getDerivedStateFromProps,oe=typeof te=="function"||typeof S.getSnapshotBeforeUpdate=="function";oe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j!==f||O!==W)&&Py(o,S,f,W),ss=!1;var ee=o.memoizedState;S.state=ee,hc(o,f,S,m),O=o.memoizedState,j!==f||ee!==O||sn.current||ss?(typeof te=="function"&&(gf(o,c,te,f),O=o.memoizedState),(j=ss||Ty(o,c,j,f,ee,O,W))?(oe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=O),S.props=f,S.state=O,S.context=W,f=j):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{S=o.stateNode,ry(s,o),j=o.memoizedProps,W=o.type===o.elementType?j:zn(o.type,j),S.props=W,oe=o.pendingProps,ee=S.context,O=c.contextType,typeof O=="object"&&O!==null?O=Pn(O):(O=on(c)?Hs:Kt.current,O=Bi(o,O));var he=c.getDerivedStateFromProps;(te=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j!==oe||ee!==O)&&Py(o,S,f,O),ss=!1,ee=o.memoizedState,S.state=ee,hc(o,f,S,m);var xe=o.memoizedState;j!==oe||ee!==xe||sn.current||ss?(typeof he=="function"&&(gf(o,c,he,f),xe=o.memoizedState),(W=ss||Ty(o,c,W,f,ee,xe,O)||!1)?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,xe,O),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,xe,O)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||j===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=xe),S.props=f,S.state=xe,S.context=O,f=W):(typeof S.componentDidUpdate!="function"||j===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),f=!1)}return bf(s,o,c,f,y,m)}function bf(s,o,c,f,m,y){$y(s,o);var S=(o.flags&128)!==0;if(!f&&!S)return m&&qg(o,c,!1),jr(s,o,y);f=o.stateNode,EE.current=o;var j=S&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&S?(o.child=Hi(o,s.child,null,y),o.child=Hi(o,null,j,y)):Yt(s,o,j,y),o.memoizedState=f.state,m&&qg(o,c,!0),o.child}function Vy(s){var o=s.stateNode;o.pendingContext?Wg(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Wg(s,o.context,!1),rf(s,o.containerInfo)}function zy(s,o,c,f,m){return Wi(),Jd(m),o.flags|=256,Yt(s,o,c,f),o.child}var _f={dehydrated:null,treeContext:null,retryLane:0};function Sf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Wy(s,o,c){var f=o.pendingProps,m=vt.current,y=!1,S=(o.flags&128)!==0,j;if((j=S)||(j=s!==null&&s.memoizedState===null?!1:(m&2)!==0),j?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),ut(vt,m&1),s===null)return Qd(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=f.children,s=f.fallback,y?(f=o.mode,y=o.child,S={mode:"hidden",children:S},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=Oc(S,f,0,null),s=ti(s,f,c,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=Sf(c),o.memoizedState=_f,s):kf(o,S));if(m=s.memoizedState,m!==null&&(j=m.dehydrated,j!==null))return CE(s,o,S,f,j,m,c);if(y){y=f.fallback,S=o.mode,m=s.child,j=m.sibling;var O={mode:"hidden",children:f.children};return(S&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=O,o.deletions=null):(f=ds(m,O),f.subtreeFlags=m.subtreeFlags&14680064),j!==null?y=ds(j,y):(y=ti(y,S,c,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,S=s.child.memoizedState,S=S===null?Sf(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=s.childLanes&~c,o.memoizedState=_f,f}return y=s.child,s=y.sibling,f=ds(y,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=f,o.memoizedState=null,f}function kf(s,o){return o=Oc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function bc(s,o,c,f){return f!==null&&Jd(f),Hi(o,s.child,null,c),s=kf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function CE(s,o,c,f,m,y,S){if(c)return o.flags&256?(o.flags&=-257,f=vf(Error(n(422))),bc(s,o,S,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=f.fallback,m=o.mode,f=Oc({mode:"visible",children:f.children},m,0,null),y=ti(y,m,S,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,(o.mode&1)!==0&&Hi(o,s.child,null,S),o.child.memoizedState=Sf(S),o.memoizedState=_f,y);if((o.mode&1)===0)return bc(s,o,S,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var j=f.dgst;return f=j,y=Error(n(419)),f=vf(y,f,void 0),bc(s,o,S,f)}if(j=(S&s.childLanes)!==0,an||j){if(f=$t,f!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|S))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Nr(s,m),qn(f,s,m,-1))}return $f(),f=vf(Error(n(421))),bc(s,o,S,f)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=FE.bind(null,s),m._reactRetry=o,null):(s=y.treeContext,vn=es(m.nextSibling),yn=o,gt=!0,Vn=null,s!==null&&(Tn[jn++]=Er,Tn[jn++]=Cr,Tn[jn++]=qs,Er=s.id,Cr=s.overflow,qs=o),o=kf(o,f.children),o.flags|=4096,o)}function Hy(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),ef(s.return,o,c)}function Ef(s,o,c,f,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=m)}function qy(s,o,c){var f=o.pendingProps,m=f.revealOrder,y=f.tail;if(Yt(s,o,f.children,c),f=vt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Hy(s,c,o);else if(s.tag===19)Hy(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(ut(vt,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(c=o.child,m=null;c!==null;)s=c.alternate,s!==null&&pc(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),Ef(o,!1,m,c,y);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&pc(s)===null){o.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Ef(o,!0,c,null,y);break;case"together":Ef(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function _c(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function jr(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Zs|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=ds(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ds(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function NE(s,o,c){switch(o.tag){case 3:Vy(o),Wi();break;case 5:oy(o);break;case 1:on(o.type)&&sc(o);break;case 4:rf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;ut(uc,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(ut(vt,vt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Wy(s,o,c):(ut(vt,vt.current&1),s=jr(s,o,c),s!==null?s.sibling:null);ut(vt,vt.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(s.flags&128)!==0){if(f)return qy(s,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ut(vt,vt.current),f)break;return null;case 22:case 23:return o.lanes=0,Fy(s,o,c)}return jr(s,o,c)}var Ky,Cf,Gy,Qy;Ky=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Cf=function(){},Gy=function(s,o,c,f){var m=s.memoizedProps;if(m!==f){s=o.stateNode,Qs(or.current);var y=null;switch(c){case"input":m=xt(s,m),f=xt(s,f),y=[];break;case"select":m=G({},m,{value:void 0}),f=G({},f,{value:void 0}),y=[];break;case"textarea":m=$(s,m),f=$(s,f),y=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=tc)}Nn(c,f);var S;c=null;for(W in m)if(!f.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var j=m[W];for(S in j)j.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in f){var O=f[W];if(j=m?.[W],f.hasOwnProperty(W)&&O!==j&&(O!=null||j!=null))if(W==="style")if(j){for(S in j)!j.hasOwnProperty(S)||O&&O.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in O)O.hasOwnProperty(S)&&j[S]!==O[S]&&(c||(c={}),c[S]=O[S])}else c||(y||(y=[]),y.push(W,c)),c=O;else W==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,j=j?j.__html:void 0,O!=null&&j!==O&&(y=y||[]).push(W,O)):W==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(W,""+O):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(i.hasOwnProperty(W)?(O!=null&&W==="onScroll"&&ft("scroll",s),y||j===O||(y=[])):(y=y||[]).push(W,O))}c&&(y=y||[]).push("style",c);var W=y;(o.updateQueue=W)&&(o.flags|=4)}},Qy=function(s,o,c,f){c!==f&&(o.flags|=4)};function Na(s,o){if(!gt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Qt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function TE(s,o,c){var f=o.pendingProps;switch(Kd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return on(o.type)&&rc(),Qt(o),null;case 3:return f=o.stateNode,Gi(),ht(sn),ht(Kt),af(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(lc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Vn!==null&&(Lf(Vn),Vn=null))),Cf(s,o),Qt(o),null;case 5:sf(o);var m=Qs(_a.current);if(c=o.type,s!==null&&o.stateNode!=null)Gy(s,o,c,f,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Qt(o),null}if(s=Qs(or.current),lc(o)){f=o.stateNode,c=o.type;var y=o.memoizedProps;switch(f[ir]=o,f[ya]=y,s=(o.mode&1)!==0,c){case"dialog":ft("cancel",f),ft("close",f);break;case"iframe":case"object":case"embed":ft("load",f);break;case"video":case"audio":for(m=0;m<pa.length;m++)ft(pa[m],f);break;case"source":ft("error",f);break;case"img":case"image":case"link":ft("error",f),ft("load",f);break;case"details":ft("toggle",f);break;case"input":Et(f,y),ft("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},ft("invalid",f);break;case"textarea":Y(f,y),ft("invalid",f)}Nn(c,y),m=null;for(var S in y)if(y.hasOwnProperty(S)){var j=y[S];S==="children"?typeof j=="string"?f.textContent!==j&&(y.suppressHydrationWarning!==!0&&ec(f.textContent,j,s),m=["children",j]):typeof j=="number"&&f.textContent!==""+j&&(y.suppressHydrationWarning!==!0&&ec(f.textContent,j,s),m=["children",""+j]):i.hasOwnProperty(S)&&j!=null&&S==="onScroll"&&ft("scroll",f)}switch(c){case"input":Oe(f),Ln(f,y,!0);break;case"textarea":Oe(f),Z(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=tc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=fe(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=S.createElement(c,{is:f.is}):(s=S.createElement(c),c==="select"&&(S=s,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):s=S.createElementNS(s,c),s[ir]=o,s[ya]=f,Ky(s,o,!1,!1),o.stateNode=s;e:{switch(S=_r(c,f),c){case"dialog":ft("cancel",s),ft("close",s),m=f;break;case"iframe":case"object":case"embed":ft("load",s),m=f;break;case"video":case"audio":for(m=0;m<pa.length;m++)ft(pa[m],s);m=f;break;case"source":ft("error",s),m=f;break;case"img":case"image":case"link":ft("error",s),ft("load",s),m=f;break;case"details":ft("toggle",s),m=f;break;case"input":Et(s,f),m=xt(s,f),ft("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=G({},f,{value:void 0}),ft("invalid",s);break;case"textarea":Y(s,f),m=$(s,f),ft("invalid",s);break;default:m=f}Nn(c,m),j=m;for(y in j)if(j.hasOwnProperty(y)){var O=j[y];y==="style"?Wt(s,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&me(s,O)):y==="children"?typeof O=="string"?(c!=="textarea"||O!=="")&&ke(s,O):typeof O=="number"&&ke(s,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?O!=null&&y==="onScroll"&&ft("scroll",s):O!=null&&T(s,y,O,S))}switch(c){case"input":Oe(s),Ln(s,f,!1);break;case"textarea":Oe(s),Z(s);break;case"option":f.value!=null&&s.setAttribute("value",""+we(f.value));break;case"select":s.multiple=!!f.multiple,y=f.value,y!=null?R(s,!!f.multiple,y,!1):f.defaultValue!=null&&R(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=tc)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Qt(o),null;case 6:if(s&&o.stateNode!=null)Qy(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(c=Qs(_a.current),Qs(or.current),lc(o)){if(f=o.stateNode,c=o.memoizedProps,f[ir]=o,(y=f.nodeValue!==c)&&(s=yn,s!==null))switch(s.tag){case 3:ec(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ec(f.nodeValue,c,(s.mode&1)!==0)}y&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[ir]=o,o.stateNode=f}return Qt(o),null;case 13:if(ht(vt),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(gt&&vn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Yg(),Wi(),o.flags|=98560,y=!1;else if(y=lc(o),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[ir]=o}else Wi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),y=!1}else Vn!==null&&(Lf(Vn),Vn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(vt.current&1)!==0?Ot===0&&(Ot=3):$f())),o.updateQueue!==null&&(o.flags|=4),Qt(o),null);case 4:return Gi(),Cf(s,o),s===null&&ma(o.stateNode.containerInfo),Qt(o),null;case 10:return Xd(o.type._context),Qt(o),null;case 17:return on(o.type)&&rc(),Qt(o),null;case 19:if(ht(vt),y=o.memoizedState,y===null)return Qt(o),null;if(f=(o.flags&128)!==0,S=y.rendering,S===null)if(f)Na(y,!1);else{if(Ot!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(S=pc(s),S!==null){for(o.flags|=128,Na(y,!1),f=S.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)y=c,s=f,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,s=S.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ut(vt,vt.current&1|2),o.child}s=s.sibling}y.tail!==null&&_t()>Yi&&(o.flags|=128,f=!0,Na(y,!1),o.lanes=4194304)}else{if(!f)if(s=pc(S),s!==null){if(o.flags|=128,f=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Na(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!gt)return Qt(o),null}else 2*_t()-y.renderingStartTime>Yi&&c!==1073741824&&(o.flags|=128,f=!0,Na(y,!1),o.lanes=4194304);y.isBackwards?(S.sibling=o.child,o.child=S):(c=y.last,c!==null?c.sibling=S:o.child=S,y.last=S)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=_t(),o.sibling=null,c=vt.current,ut(vt,f?c&1|2:c&1),o):(Qt(o),null);case 22:case 23:return Ff(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(wn&1073741824)!==0&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function jE(s,o){switch(Kd(o),o.tag){case 1:return on(o.type)&&rc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Gi(),ht(sn),ht(Kt),af(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return sf(o),null;case 13:if(ht(vt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Wi()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ht(vt),null;case 4:return Gi(),null;case 10:return Xd(o.type._context),null;case 22:case 23:return Ff(),null;case 24:return null;default:return null}}var Sc=!1,Jt=!1,PE=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Ji(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){bt(s,o,f)}else c.current=null}function Nf(s,o,c){try{c()}catch(f){bt(s,o,f)}}var Jy=!1;function IE(s,o){if(Ud=zl,s=Tg(),Pd(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var S=0,j=-1,O=-1,W=0,te=0,oe=s,ee=null;t:for(;;){for(var he;oe!==c||m!==0&&oe.nodeType!==3||(j=S+m),oe!==y||f!==0&&oe.nodeType!==3||(O=S+f),oe.nodeType===3&&(S+=oe.nodeValue.length),(he=oe.firstChild)!==null;)ee=oe,oe=he;for(;;){if(oe===s)break t;if(ee===c&&++W===m&&(j=S),ee===y&&++te===f&&(O=S),(he=oe.nextSibling)!==null)break;oe=ee,ee=oe.parentNode}oe=he}c=j===-1||O===-1?null:{start:j,end:O}}else c=null}c=c||{start:0,end:0}}else c=null;for(Fd={focusedElem:s,selectionRange:c},zl=!1,ge=o;ge!==null;)if(o=ge,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ge=s;else for(;ge!==null;){o=ge;try{var xe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var _e=xe.memoizedProps,St=xe.memoizedState,F=o.stateNode,M=F.getSnapshotBeforeUpdate(o.elementType===o.type?_e:zn(o.type,_e),St);F.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var B=o.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){bt(o,o.return,ae)}if(s=o.sibling,s!==null){s.return=o.return,ge=s;break}ge=o.return}return xe=Jy,Jy=!1,xe}function Ta(s,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&Nf(o,c,y)}m=m.next}while(m!==f)}}function kc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function Tf(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function Zy(s){var o=s.alternate;o!==null&&(s.alternate=null,Zy(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[ir],delete o[ya],delete o[zd],delete o[hE],delete o[pE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Yy(s){return s.tag===5||s.tag===3||s.tag===4}function Xy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function jf(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=tc));else if(f!==4&&(s=s.child,s!==null))for(jf(s,o,c),s=s.sibling;s!==null;)jf(s,o,c),s=s.sibling}function Pf(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Pf(s,o,c),s=s.sibling;s!==null;)Pf(s,o,c),s=s.sibling}var Ht=null,Wn=!1;function os(s,o,c){for(c=c.child;c!==null;)ev(s,o,c),c=c.sibling}function ev(s,o,c){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(Ll,c)}catch{}switch(c.tag){case 5:Jt||Ji(c,o);case 6:var f=Ht,m=Wn;Ht=null,os(s,o,c),Ht=f,Wn=m,Ht!==null&&(Wn?(s=Ht,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Ht.removeChild(c.stateNode));break;case 18:Ht!==null&&(Wn?(s=Ht,c=c.stateNode,s.nodeType===8?Vd(s.parentNode,c):s.nodeType===1&&Vd(s,c),oa(s)):Vd(Ht,c.stateNode));break;case 4:f=Ht,m=Wn,Ht=c.stateNode.containerInfo,Wn=!0,os(s,o,c),Ht=f,Wn=m;break;case 0:case 11:case 14:case 15:if(!Jt&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var y=m,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&Nf(c,o,S),m=m.next}while(m!==f)}os(s,o,c);break;case 1:if(!Jt&&(Ji(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(j){bt(c,o,j)}os(s,o,c);break;case 21:os(s,o,c);break;case 22:c.mode&1?(Jt=(f=Jt)||c.memoizedState!==null,os(s,o,c),Jt=f):os(s,o,c);break;default:os(s,o,c)}}function tv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new PE),o.forEach(function(f){var m=$E.bind(null,s,f);c.has(f)||(c.add(f),f.then(m,m))})}}function Hn(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];try{var y=s,S=o,j=S;e:for(;j!==null;){switch(j.tag){case 5:Ht=j.stateNode,Wn=!1;break e;case 3:Ht=j.stateNode.containerInfo,Wn=!0;break e;case 4:Ht=j.stateNode.containerInfo,Wn=!0;break e}j=j.return}if(Ht===null)throw Error(n(160));ev(y,S,m),Ht=null,Wn=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(W){bt(m,o,W)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)nv(o,s),o=o.sibling}function nv(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Hn(o,s),lr(s),f&4){try{Ta(3,s,s.return),kc(3,s)}catch(_e){bt(s,s.return,_e)}try{Ta(5,s,s.return)}catch(_e){bt(s,s.return,_e)}}break;case 1:Hn(o,s),lr(s),f&512&&c!==null&&Ji(c,c.return);break;case 5:if(Hn(o,s),lr(s),f&512&&c!==null&&Ji(c,c.return),s.flags&32){var m=s.stateNode;try{ke(m,"")}catch(_e){bt(s,s.return,_e)}}if(f&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,S=c!==null?c.memoizedProps:y,j=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{j==="input"&&y.type==="radio"&&y.name!=null&&mn(m,y),_r(j,S);var W=_r(j,y);for(S=0;S<O.length;S+=2){var te=O[S],oe=O[S+1];te==="style"?Wt(m,oe):te==="dangerouslySetInnerHTML"?me(m,oe):te==="children"?ke(m,oe):T(m,te,oe,W)}switch(j){case"input":Ut(m,y);break;case"textarea":ne(m,y);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var he=y.value;he!=null?R(m,!!y.multiple,he,!1):ee!==!!y.multiple&&(y.defaultValue!=null?R(m,!!y.multiple,y.defaultValue,!0):R(m,!!y.multiple,y.multiple?[]:"",!1))}m[ya]=y}catch(_e){bt(s,s.return,_e)}}break;case 6:if(Hn(o,s),lr(s),f&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(_e){bt(s,s.return,_e)}}break;case 3:if(Hn(o,s),lr(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{oa(o.containerInfo)}catch(_e){bt(s,s.return,_e)}break;case 4:Hn(o,s),lr(s);break;case 13:Hn(o,s),lr(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Af=_t())),f&4&&tv(s);break;case 22:if(te=c!==null&&c.memoizedState!==null,s.mode&1?(Jt=(W=Jt)||te,Hn(o,s),Jt=W):Hn(o,s),lr(s),f&8192){if(W=s.memoizedState!==null,(s.stateNode.isHidden=W)&&!te&&(s.mode&1)!==0)for(ge=s,te=s.child;te!==null;){for(oe=ge=te;ge!==null;){switch(ee=ge,he=ee.child,ee.tag){case 0:case 11:case 14:case 15:Ta(4,ee,ee.return);break;case 1:Ji(ee,ee.return);var xe=ee.stateNode;if(typeof xe.componentWillUnmount=="function"){f=ee,c=ee.return;try{o=f,xe.props=o.memoizedProps,xe.state=o.memoizedState,xe.componentWillUnmount()}catch(_e){bt(f,c,_e)}}break;case 5:Ji(ee,ee.return);break;case 22:if(ee.memoizedState!==null){iv(oe);continue}}he!==null?(he.return=ee,ge=he):iv(oe)}te=te.sibling}e:for(te=null,oe=s;;){if(oe.tag===5){if(te===null){te=oe;try{m=oe.stateNode,W?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(j=oe.stateNode,O=oe.memoizedProps.style,S=O!=null&&O.hasOwnProperty("display")?O.display:null,j.style.display=mt("display",S))}catch(_e){bt(s,s.return,_e)}}}else if(oe.tag===6){if(te===null)try{oe.stateNode.nodeValue=W?"":oe.memoizedProps}catch(_e){bt(s,s.return,_e)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===s)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===s)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===s)break e;te===oe&&(te=null),oe=oe.return}te===oe&&(te=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Hn(o,s),lr(s),f&4&&tv(s);break;case 21:break;default:Hn(o,s),lr(s)}}function lr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Yy(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(ke(m,""),f.flags&=-33);var y=Xy(s);Pf(s,y,m);break;case 3:case 4:var S=f.stateNode.containerInfo,j=Xy(s);jf(s,j,S);break;default:throw Error(n(161))}}catch(O){bt(s,s.return,O)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function RE(s,o,c){ge=s,rv(s)}function rv(s,o,c){for(var f=(s.mode&1)!==0;ge!==null;){var m=ge,y=m.child;if(m.tag===22&&f){var S=m.memoizedState!==null||Sc;if(!S){var j=m.alternate,O=j!==null&&j.memoizedState!==null||Jt;j=Sc;var W=Jt;if(Sc=S,(Jt=O)&&!W)for(ge=m;ge!==null;)S=ge,O=S.child,S.tag===22&&S.memoizedState!==null?ov(m):O!==null?(O.return=S,ge=O):ov(m);for(;y!==null;)ge=y,rv(y),y=y.sibling;ge=m,Sc=j,Jt=W}sv(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ge=y):sv(s)}}function sv(s){for(;ge!==null;){var o=ge;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Jt||kc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Jt)if(c===null)f.componentDidMount();else{var m=o.elementType===o.type?c.memoizedProps:zn(o.type,c.memoizedProps);f.componentDidUpdate(m,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&iy(o,y,f);break;case 3:var S=o.updateQueue;if(S!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}iy(o,S,c)}break;case 5:var j=o.stateNode;if(c===null&&o.flags&4){c=j;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&c.focus();break;case"img":O.src&&(c.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var W=o.alternate;if(W!==null){var te=W.memoizedState;if(te!==null){var oe=te.dehydrated;oe!==null&&oa(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Jt||o.flags&512&&Tf(o)}catch(ee){bt(o,o.return,ee)}}if(o===s){ge=null;break}if(c=o.sibling,c!==null){c.return=o.return,ge=c;break}ge=o.return}}function iv(s){for(;ge!==null;){var o=ge;if(o===s){ge=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ge=c;break}ge=o.return}}function ov(s){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{kc(4,o)}catch(O){bt(o,c,O)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(O){bt(o,m,O)}}var y=o.return;try{Tf(o)}catch(O){bt(o,y,O)}break;case 5:var S=o.return;try{Tf(o)}catch(O){bt(o,S,O)}}}catch(O){bt(o,o.return,O)}if(o===s){ge=null;break}var j=o.sibling;if(j!==null){j.return=o.return,ge=j;break}ge=o.return}}var AE=Math.ceil,Ec=I.ReactCurrentDispatcher,If=I.ReactCurrentOwner,Rn=I.ReactCurrentBatchConfig,Je=0,$t=null,Ct=null,qt=0,wn=0,Zi=ts(0),Ot=0,ja=null,Zs=0,Cc=0,Rf=0,Pa=null,ln=null,Af=0,Yi=1/0,Pr=null,Nc=!1,Of=null,as=null,Tc=!1,ls=null,jc=0,Ia=0,Df=null,Pc=-1,Ic=0;function Xt(){return(Je&6)!==0?_t():Pc!==-1?Pc:Pc=_t()}function cs(s){return(s.mode&1)===0?1:(Je&2)!==0&&qt!==0?qt&-qt:gE.transition!==null?(Ic===0&&(Ic=Xm()),Ic):(s=st,s!==0||(s=window.event,s=s===void 0?16:lg(s.type)),s)}function qn(s,o,c,f){if(50<Ia)throw Ia=0,Df=null,Error(n(185));ta(s,c,f),((Je&2)===0||s!==$t)&&(s===$t&&((Je&2)===0&&(Cc|=c),Ot===4&&us(s,qt)),cn(s,f),c===1&&Je===0&&(o.mode&1)===0&&(Yi=_t()+500,ic&&rs()))}function cn(s,o){var c=s.callbackNode;g1(s,o);var f=$l(s,s===$t?qt:0);if(f===0)c!==null&&Jm(c),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(c!=null&&Jm(c),o===1)s.tag===0?mE(lv.bind(null,s)):Kg(lv.bind(null,s)),dE(function(){(Je&6)===0&&rs()}),c=null;else{switch(eg(f)){case 1:c=hd;break;case 4:c=Zm;break;case 16:c=Ml;break;case 536870912:c=Ym;break;default:c=Ml}c=gv(c,av.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function av(s,o){if(Pc=-1,Ic=0,(Je&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Xi()&&s.callbackNode!==c)return null;var f=$l(s,s===$t?qt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=Rc(s,f);else{o=f;var m=Je;Je|=2;var y=uv();($t!==s||qt!==o)&&(Pr=null,Yi=_t()+500,Xs(s,o));do try{ME();break}catch(j){cv(s,j)}while(!0);Yd(),Ec.current=y,Je=m,Ct!==null?o=0:($t=null,qt=0,o=Ot)}if(o!==0){if(o===2&&(m=pd(s),m!==0&&(f=m,o=Mf(s,m))),o===1)throw c=ja,Xs(s,0),us(s,f),cn(s,_t()),c;if(o===6)us(s,f);else{if(m=s.current.alternate,(f&30)===0&&!OE(m)&&(o=Rc(s,f),o===2&&(y=pd(s),y!==0&&(f=y,o=Mf(s,y))),o===1))throw c=ja,Xs(s,0),us(s,f),cn(s,_t()),c;switch(s.finishedWork=m,s.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:ei(s,ln,Pr);break;case 3:if(us(s,f),(f&130023424)===f&&(o=Af+500-_t(),10<o)){if($l(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){Xt(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Bd(ei.bind(null,s,ln,Pr),o);break}ei(s,ln,Pr);break;case 4:if(us(s,f),(f&4194240)===f)break;for(o=s.eventTimes,m=-1;0<f;){var S=31-$n(f);y=1<<S,S=o[S],S>m&&(m=S),f&=~y}if(f=m,f=_t()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*AE(f/1960))-f,10<f){s.timeoutHandle=Bd(ei.bind(null,s,ln,Pr),f);break}ei(s,ln,Pr);break;case 5:ei(s,ln,Pr);break;default:throw Error(n(329))}}}return cn(s,_t()),s.callbackNode===c?av.bind(null,s):null}function Mf(s,o){var c=Pa;return s.current.memoizedState.isDehydrated&&(Xs(s,o).flags|=256),s=Rc(s,o),s!==2&&(o=ln,ln=c,o!==null&&Lf(o)),s}function Lf(s){ln===null?ln=s:ln.push.apply(ln,s)}function OE(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var m=c[f],y=m.getSnapshot;m=m.value;try{if(!Bn(y(),m))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function us(s,o){for(o&=~Rf,o&=~Cc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-$n(o),f=1<<c;s[c]=-1,o&=~f}}function lv(s){if((Je&6)!==0)throw Error(n(327));Xi();var o=$l(s,0);if((o&1)===0)return cn(s,_t()),null;var c=Rc(s,o);if(s.tag!==0&&c===2){var f=pd(s);f!==0&&(o=f,c=Mf(s,f))}if(c===1)throw c=ja,Xs(s,0),us(s,o),cn(s,_t()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ei(s,ln,Pr),cn(s,_t()),null}function Uf(s,o){var c=Je;Je|=1;try{return s(o)}finally{Je=c,Je===0&&(Yi=_t()+500,ic&&rs())}}function Ys(s){ls!==null&&ls.tag===0&&(Je&6)===0&&Xi();var o=Je;Je|=1;var c=Rn.transition,f=st;try{if(Rn.transition=null,st=1,s)return s()}finally{st=f,Rn.transition=c,Je=o,(Je&6)===0&&rs()}}function Ff(){wn=Zi.current,ht(Zi)}function Xs(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,uE(c)),Ct!==null)for(c=Ct.return;c!==null;){var f=c;switch(Kd(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&rc();break;case 3:Gi(),ht(sn),ht(Kt),af();break;case 5:sf(f);break;case 4:Gi();break;case 13:ht(vt);break;case 19:ht(vt);break;case 10:Xd(f.type._context);break;case 22:case 23:Ff()}c=c.return}if($t=s,Ct=s=ds(s.current,null),qt=wn=o,Ot=0,ja=null,Rf=Cc=Zs=0,ln=Pa=null,Gs!==null){for(o=0;o<Gs.length;o++)if(c=Gs[o],f=c.interleaved,f!==null){c.interleaved=null;var m=f.next,y=c.pending;if(y!==null){var S=y.next;y.next=m,f.next=S}c.pending=f}Gs=null}return s}function cv(s,o){do{var c=Ct;try{if(Yd(),mc.current=wc,gc){for(var f=wt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}gc=!1}if(Js=0,Ft=At=wt=null,Sa=!1,ka=0,If.current=null,c===null||c.return===null){Ot=1,ja=o,Ct=null;break}e:{var y=s,S=c.return,j=c,O=o;if(o=qt,j.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=O,te=j,oe=te.tag;if((te.mode&1)===0&&(oe===0||oe===11||oe===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var he=Oy(S);if(he!==null){he.flags&=-257,Dy(he,S,j,y,o),he.mode&1&&Ay(y,W,o),o=he,O=W;var xe=o.updateQueue;if(xe===null){var _e=new Set;_e.add(O),o.updateQueue=_e}else xe.add(O);break e}else{if((o&1)===0){Ay(y,W,o),$f();break e}O=Error(n(426))}}else if(gt&&j.mode&1){var St=Oy(S);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Dy(St,S,j,y,o),Jd(Qi(O,j));break e}}y=O=Qi(O,j),Ot!==4&&(Ot=2),Pa===null?Pa=[y]:Pa.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var F=Iy(y,O,o);sy(y,F);break e;case 1:j=O;var M=y.type,B=y.stateNode;if((y.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(as===null||!as.has(B)))){y.flags|=65536,o&=-o,y.lanes|=o;var ae=Ry(y,j,o);sy(y,ae);break e}}y=y.return}while(y!==null)}fv(c)}catch(Ee){o=Ee,Ct===c&&c!==null&&(Ct=c=c.return);continue}break}while(!0)}function uv(){var s=Ec.current;return Ec.current=wc,s===null?wc:s}function $f(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),$t===null||(Zs&268435455)===0&&(Cc&268435455)===0||us($t,qt)}function Rc(s,o){var c=Je;Je|=2;var f=uv();($t!==s||qt!==o)&&(Pr=null,Xs(s,o));do try{DE();break}catch(m){cv(s,m)}while(!0);if(Yd(),Je=c,Ec.current=f,Ct!==null)throw Error(n(261));return $t=null,qt=0,Ot}function DE(){for(;Ct!==null;)dv(Ct)}function ME(){for(;Ct!==null&&!a1();)dv(Ct)}function dv(s){var o=mv(s.alternate,s,wn);s.memoizedProps=s.pendingProps,o===null?fv(s):Ct=o,If.current=null}function fv(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=TE(c,o,wn),c!==null){Ct=c;return}}else{if(c=jE(c,o),c!==null){c.flags&=32767,Ct=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ot=6,Ct=null;return}}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=s}while(o!==null);Ot===0&&(Ot=5)}function ei(s,o,c){var f=st,m=Rn.transition;try{Rn.transition=null,st=1,LE(s,o,c,f)}finally{Rn.transition=m,st=f}return null}function LE(s,o,c,f){do Xi();while(ls!==null);if((Je&6)!==0)throw Error(n(327));c=s.finishedWork;var m=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var y=c.lanes|c.childLanes;if(y1(s,y),s===$t&&(Ct=$t=null,qt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Tc||(Tc=!0,gv(Ml,function(){return Xi(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=Rn.transition,Rn.transition=null;var S=st;st=1;var j=Je;Je|=4,If.current=null,IE(s,c),nv(c,s),rE(Fd),zl=!!Ud,Fd=Ud=null,s.current=c,RE(c),l1(),Je=j,st=S,Rn.transition=y}else s.current=c;if(Tc&&(Tc=!1,ls=s,jc=m),y=s.pendingLanes,y===0&&(as=null),d1(c.stateNode),cn(s,_t()),o!==null)for(f=s.onRecoverableError,c=0;c<o.length;c++)m=o[c],f(m.value,{componentStack:m.stack,digest:m.digest});if(Nc)throw Nc=!1,s=Of,Of=null,s;return(jc&1)!==0&&s.tag!==0&&Xi(),y=s.pendingLanes,(y&1)!==0?s===Df?Ia++:(Ia=0,Df=s):Ia=0,rs(),null}function Xi(){if(ls!==null){var s=eg(jc),o=Rn.transition,c=st;try{if(Rn.transition=null,st=16>s?16:s,ls===null)var f=!1;else{if(s=ls,ls=null,jc=0,(Je&6)!==0)throw Error(n(331));var m=Je;for(Je|=4,ge=s.current;ge!==null;){var y=ge,S=y.child;if((ge.flags&16)!==0){var j=y.deletions;if(j!==null){for(var O=0;O<j.length;O++){var W=j[O];for(ge=W;ge!==null;){var te=ge;switch(te.tag){case 0:case 11:case 15:Ta(8,te,y)}var oe=te.child;if(oe!==null)oe.return=te,ge=oe;else for(;ge!==null;){te=ge;var ee=te.sibling,he=te.return;if(Zy(te),te===W){ge=null;break}if(ee!==null){ee.return=he,ge=ee;break}ge=he}}}var xe=y.alternate;if(xe!==null){var _e=xe.child;if(_e!==null){xe.child=null;do{var St=_e.sibling;_e.sibling=null,_e=St}while(_e!==null)}}ge=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,ge=S;else e:for(;ge!==null;){if(y=ge,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ta(9,y,y.return)}var F=y.sibling;if(F!==null){F.return=y.return,ge=F;break e}ge=y.return}}var M=s.current;for(ge=M;ge!==null;){S=ge;var B=S.child;if((S.subtreeFlags&2064)!==0&&B!==null)B.return=S,ge=B;else e:for(S=M;ge!==null;){if(j=ge,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:kc(9,j)}}catch(Ee){bt(j,j.return,Ee)}if(j===S){ge=null;break e}var ae=j.sibling;if(ae!==null){ae.return=j.return,ge=ae;break e}ge=j.return}}if(Je=m,rs(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(Ll,s)}catch{}f=!0}return f}finally{st=c,Rn.transition=o}}return!1}function hv(s,o,c){o=Qi(c,o),o=Iy(s,o,1),s=is(s,o,1),o=Xt(),s!==null&&(ta(s,1,o),cn(s,o))}function bt(s,o,c){if(s.tag===3)hv(s,s,c);else for(;o!==null;){if(o.tag===3){hv(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(as===null||!as.has(f))){s=Qi(c,s),s=Ry(o,s,1),o=is(o,s,1),s=Xt(),o!==null&&(ta(o,1,s),cn(o,s));break}}o=o.return}}function UE(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),o=Xt(),s.pingedLanes|=s.suspendedLanes&c,$t===s&&(qt&c)===c&&(Ot===4||Ot===3&&(qt&130023424)===qt&&500>_t()-Af?Xs(s,0):Rf|=c),cn(s,o)}function pv(s,o){o===0&&((s.mode&1)===0?o=1:(o=Fl,Fl<<=1,(Fl&130023424)===0&&(Fl=4194304)));var c=Xt();s=Nr(s,o),s!==null&&(ta(s,o,c),cn(s,c))}function FE(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),pv(s,c)}function $E(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),pv(s,c)}var mv;mv=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||sn.current)an=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return an=!1,NE(s,o,c);an=(s.flags&131072)!==0}else an=!1,gt&&(o.flags&1048576)!==0&&Gg(o,ac,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;_c(s,o),s=o.pendingProps;var m=Bi(o,Kt.current);Ki(o,c),m=uf(null,o,f,s,m,c);var y=df();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,on(f)?(y=!0,sc(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,nf(o),m.updater=xc,o.stateNode=m,m._reactInternals=o,yf(o,f,s,c),o=bf(null,o,f,!0,y,c)):(o.tag=0,gt&&y&&qd(o),Yt(null,o,m,c),o=o.child),o;case 16:f=o.elementType;e:{switch(_c(s,o),s=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=VE(f),s=zn(f,s),m){case 0:o=xf(null,o,f,s,c);break e;case 1:o=By(null,o,f,s,c);break e;case 11:o=My(null,o,f,s,c);break e;case 14:o=Ly(null,o,f,zn(f.type,s),c);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:zn(f,m),xf(s,o,f,m,c);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:zn(f,m),By(s,o,f,m,c);case 3:e:{if(Vy(o),s===null)throw Error(n(387));f=o.pendingProps,y=o.memoizedState,m=y.element,ry(s,o),hc(o,f,null,c);var S=o.memoizedState;if(f=S.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=Qi(Error(n(423)),o),o=zy(s,o,f,c,m);break e}else if(f!==m){m=Qi(Error(n(424)),o),o=zy(s,o,f,c,m);break e}else for(vn=es(o.stateNode.containerInfo.firstChild),yn=o,gt=!0,Vn=null,c=ty(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Wi(),f===m){o=jr(s,o,c);break e}Yt(s,o,f,c)}o=o.child}return o;case 5:return oy(o),s===null&&Qd(o),f=o.type,m=o.pendingProps,y=s!==null?s.memoizedProps:null,S=m.children,$d(f,m)?S=null:y!==null&&$d(f,y)&&(o.flags|=32),$y(s,o),Yt(s,o,S,c),o.child;case 6:return s===null&&Qd(o),null;case 13:return Wy(s,o,c);case 4:return rf(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Hi(o,null,f,c):Yt(s,o,f,c),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:zn(f,m),My(s,o,f,m,c);case 7:return Yt(s,o,o.pendingProps,c),o.child;case 8:return Yt(s,o,o.pendingProps.children,c),o.child;case 12:return Yt(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,y=o.memoizedProps,S=m.value,ut(uc,f._currentValue),f._currentValue=S,y!==null)if(Bn(y.value,S)){if(y.children===m.children&&!sn.current){o=jr(s,o,c);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var j=y.dependencies;if(j!==null){S=y.child;for(var O=j.firstContext;O!==null;){if(O.context===f){if(y.tag===1){O=Tr(-1,c&-c),O.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var te=W.pending;te===null?O.next=O:(O.next=te.next,te.next=O),W.pending=O}}y.lanes|=c,O=y.alternate,O!==null&&(O.lanes|=c),ef(y.return,c,o),j.lanes|=c;break}O=O.next}}else if(y.tag===10)S=y.type===o.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(n(341));S.lanes|=c,j=S.alternate,j!==null&&(j.lanes|=c),ef(S,c,o),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===o){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}Yt(s,o,m.children,c),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Ki(o,c),m=Pn(m),f=f(m),o.flags|=1,Yt(s,o,f,c),o.child;case 14:return f=o.type,m=zn(f,o.pendingProps),m=zn(f.type,m),Ly(s,o,f,m,c);case 15:return Uy(s,o,o.type,o.pendingProps,c);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:zn(f,m),_c(s,o),o.tag=1,on(f)?(s=!0,sc(o)):s=!1,Ki(o,c),jy(o,f,m),yf(o,f,m,c),bf(null,o,f,!0,s,c);case 19:return qy(s,o,c);case 22:return Fy(s,o,c)}throw Error(n(156,o.tag))};function gv(s,o){return Qm(s,o)}function BE(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(s,o,c,f){return new BE(s,o,c,f)}function Bf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function VE(s){if(typeof s=="function")return Bf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===J)return 11;if(s===de)return 14}return 2}function ds(s,o){var c=s.alternate;return c===null?(c=An(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Ac(s,o,c,f,m,y){var S=2;if(f=s,typeof s=="function")Bf(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case D:return ti(c.children,m,y,o);case z:S=8,m|=8;break;case Q:return s=An(12,c,o,m|2),s.elementType=Q,s.lanes=y,s;case se:return s=An(13,c,o,m),s.elementType=se,s.lanes=y,s;case X:return s=An(19,c,o,m),s.elementType=X,s.lanes=y,s;case ue:return Oc(c,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:S=10;break e;case re:S=9;break e;case J:S=11;break e;case de:S=14;break e;case ie:S=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=An(S,c,o,m),o.elementType=s,o.type=f,o.lanes=y,o}function ti(s,o,c,f){return s=An(7,s,f,o),s.lanes=c,s}function Oc(s,o,c,f){return s=An(22,s,f,o),s.elementType=ue,s.lanes=c,s.stateNode={isHidden:!1},s}function Vf(s,o,c){return s=An(6,s,null,o),s.lanes=c,s}function zf(s,o,c){return o=An(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function zE(s,o,c,f,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=md(0),this.expirationTimes=md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=md(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Wf(s,o,c,f,m,y,S,j,O){return s=new zE(s,o,c,j,O),o===1?(o=1,y===!0&&(o|=8)):o=0,y=An(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},nf(y),s}function WE(s,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:f==null?null:""+f,children:s,containerInfo:o,implementation:c}}function yv(s){if(!s)return ns;s=s._reactInternals;e:{if(zs(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(on(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(on(c))return Hg(s,c,o)}return o}function vv(s,o,c,f,m,y,S,j,O){return s=Wf(c,f,!0,s,m,y,S,j,O),s.context=yv(null),c=s.current,f=Xt(),m=cs(c),y=Tr(f,m),y.callback=o??null,is(c,y,m),s.current.lanes=m,ta(s,m,f),cn(s,f),s}function Dc(s,o,c,f){var m=o.current,y=Xt(),S=cs(m);return c=yv(c),o.context===null?o.context=c:o.pendingContext=c,o=Tr(y,S),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=is(m,o,S),s!==null&&(qn(s,m,S,y),fc(s,m,S)),S}function Mc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function wv(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Hf(s,o){wv(s,o),(s=s.alternate)&&wv(s,o)}function HE(){return null}var xv=typeof reportError=="function"?reportError:function(s){console.error(s)};function qf(s){this._internalRoot=s}Lc.prototype.render=qf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Dc(s,o,null,null)},Lc.prototype.unmount=qf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Ys(function(){Dc(null,s,null,null)}),o[Sr]=null}};function Lc(s){this._internalRoot=s}Lc.prototype.unstable_scheduleHydration=function(s){if(s){var o=rg();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Zr.length&&o!==0&&o<Zr[c].priority;c++);Zr.splice(c,0,s),c===0&&og(s)}};function Kf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Uc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function bv(){}function qE(s,o,c,f,m){if(m){if(typeof f=="function"){var y=f;f=function(){var W=Mc(S);y.call(W)}}var S=vv(o,f,s,0,null,!1,!1,"",bv);return s._reactRootContainer=S,s[Sr]=S.current,ma(s.nodeType===8?s.parentNode:s),Ys(),S}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var j=f;f=function(){var W=Mc(O);j.call(W)}}var O=Wf(s,0,!1,null,null,!1,!1,"",bv);return s._reactRootContainer=O,s[Sr]=O.current,ma(s.nodeType===8?s.parentNode:s),Ys(function(){Dc(o,O,c,f)}),O}function Fc(s,o,c,f,m){var y=c._reactRootContainer;if(y){var S=y;if(typeof m=="function"){var j=m;m=function(){var O=Mc(S);j.call(O)}}Dc(o,S,s,m)}else S=qE(c,o,s,m,f);return Mc(S)}tg=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=ea(o.pendingLanes);c!==0&&(gd(o,c|1),cn(o,_t()),(Je&6)===0&&(Yi=_t()+500,rs()))}break;case 13:Ys(function(){var f=Nr(s,1);if(f!==null){var m=Xt();qn(f,s,1,m)}}),Hf(s,1)}},yd=function(s){if(s.tag===13){var o=Nr(s,134217728);if(o!==null){var c=Xt();qn(o,s,134217728,c)}Hf(s,134217728)}},ng=function(s){if(s.tag===13){var o=cs(s),c=Nr(s,o);if(c!==null){var f=Xt();qn(c,s,o,f)}Hf(s,o)}},rg=function(){return st},sg=function(s,o){var c=st;try{return st=s,o()}finally{st=c}},Pi=function(s,o,c){switch(o){case"input":if(Ut(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var m=nc(f);if(!m)throw Error(n(90));Be(f),Ut(f,m)}}}break;case"textarea":ne(s,c);break;case"select":o=c.value,o!=null&&R(s,!!c.multiple,o,!1)}},Vm=Uf,zm=Ys;var KE={usingClientEntryPoint:!1,Events:[va,Fi,nc,Rl,Al,Uf]},Ra={findFiberByHostInstance:Ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GE={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Km(s),s===null?null:s.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||HE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Ll=$c.inject(GE),sr=$c}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KE,un.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kf(o))throw Error(n(200));return WE(s,o,null,c)},un.createRoot=function(s,o){if(!Kf(s))throw Error(n(299));var c=!1,f="",m=xv;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Wf(s,1,!1,null,null,c,!1,f,m),s[Sr]=o.current,ma(s.nodeType===8?s.parentNode:s),new qf(o)},un.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Km(o),s=s===null?null:s.stateNode,s},un.flushSync=function(s){return Ys(s)},un.hydrate=function(s,o,c){if(!Uc(o))throw Error(n(200));return Fc(null,s,o,!0,c)},un.hydrateRoot=function(s,o,c){if(!Kf(s))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,m=!1,y="",S=xv;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),o=vv(o,null,s,1,c??null,m,!1,y,S),s[Sr]=o.current,ma(s),f)for(s=0;s<f.length;s++)c=f[s],m=c._getVersion,m=m(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,m]:o.mutableSourceEagerHydrationData.push(c,m);return new Lc(o)},un.render=function(s,o,c){if(!Uc(o))throw Error(n(200));return Fc(null,s,o,!1,c)},un.unmountComponentAtNode=function(s){if(!Uc(s))throw Error(n(40));return s._reactRootContainer?(Ys(function(){Fc(null,null,s,!1,function(){s._reactRootContainer=null,s[Sr]=null})}),!0):!1},un.unstable_batchedUpdates=Uf,un.unstable_renderSubtreeIntoContainer=function(s,o,c,f){if(!Uc(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Fc(s,o,c,!1,f)},un.version="18.3.1-next-f1338f8080-20240426",un}var jv;function Nb(){if(jv)return Jf.exports;jv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jf.exports=rC(),Jf.exports}var Pv;function sC(){if(Pv)return Bc;Pv=1;var t=Nb();return Bc.createRoot=t.createRoot,Bc.hydrateRoot=t.hydrateRoot,Bc}var iC=sC(),Wo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oC={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},aC=class{#e=oC;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},fi=new aC;function lC(t){setTimeout(t,0)}var vi=typeof window>"u"||"Deno"in globalThis;function en(){}function cC(t,e){return typeof t=="function"?t(e):t}function Bh(t){return typeof t=="number"&&t>=0&&t!==1/0}function Tb(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ns(t,e){return typeof t=="function"?t(e):t}function On(t,e){return typeof t=="function"?t(e):t}function Iv(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:l,stale:u}=t;if(l){if(r){if(e.queryHash!==$p(l,e.options))return!1}else if(!sl(e.queryKey,l))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||a&&!a(e))}function Rv(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(wi(e.options.mutationKey)!==wi(a))return!1}else if(!sl(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function $p(t,e){return(e?.queryKeyHashFn||wi)(t)}function wi(t){return JSON.stringify(t,(e,n)=>Vh(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function sl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>sl(t[n],e[n])):!1}var uC=Object.prototype.hasOwnProperty;function jb(t,e){if(t===e)return t;const n=Av(t)&&Av(e);if(!n&&!(Vh(t)&&Vh(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),l=a.length,u=n?new Array(l):{};let h=0;for(let p=0;p<l;p++){const g=n?p:a[p],v=t[g],w=e[g];if(v===w){u[g]=v,(n?p<i:uC.call(t,g))&&h++;continue}if(v===null||w===null||typeof v!="object"||typeof w!="object"){u[g]=w;continue}const k=jb(v,w);u[g]=k,k===v&&h++}return i===l&&h===i?t:u}function gu(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Av(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Vh(t){if(!Ov(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Ov(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ov(t){return Object.prototype.toString.call(t)==="[object Object]"}function dC(t){return new Promise(e=>{fi.setTimeout(e,t)})}function zh(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?jb(t,e):e}function fC(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function hC(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Bp=Symbol();function Pb(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Bp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Ib(t,e){return typeof t=="function"?t(...e):!!t}var pC=class extends Wo{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!vi&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Vp=new pC;function Wh(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var mC=lC;function gC(){let t=[],e=0,n=u=>{u()},r=u=>{u()},i=mC;const a=u=>{e?t.push(u):i(()=>{n(u)})},l=()=>{const u=t;t=[],u.length&&i(()=>{r(()=>{u.forEach(h=>{n(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||l()}return h},batchCalls:u=>(...h)=>{a(()=>{u(...h)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var Mt=gC(),yC=class extends Wo{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!vi&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},yu=new yC;function vC(t){return Math.min(1e3*2**t,3e4)}function Rb(t){return(t??"online")==="online"?yu.isOnline():!0}var Hh=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Ab(t){let e=!1,n=0,r;const i=Wh(),a=()=>i.status!=="pending",l=x=>{if(!a()){const _=new Hh(x);w(_),t.onCancel?.(_)}},u=()=>{e=!0},h=()=>{e=!1},p=()=>Vp.isFocused()&&(t.networkMode==="always"||yu.isOnline())&&t.canRun(),g=()=>Rb(t.networkMode)&&t.canRun(),v=x=>{a()||(r?.(),i.resolve(x))},w=x=>{a()||(r?.(),i.reject(x))},k=()=>new Promise(x=>{r=_=>{(a()||p())&&x(_)},t.onPause?.()}).then(()=>{r=void 0,a()||t.onContinue?.()}),E=()=>{if(a())return;let x;const _=n===0?t.initialPromise:void 0;try{x=_??t.fn()}catch(N){x=Promise.reject(N)}Promise.resolve(x).then(v).catch(N=>{if(a())return;const C=t.retry??(vi?0:3),T=t.retryDelay??vC,I=typeof T=="function"?T(n,N):T,U=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,N);if(e||!U){w(N);return}n++,t.onFail?.(n,N),dC(I).then(()=>p()?void 0:k()).then(()=>{e?w(N):E()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r?.(),i),cancelRetry:u,continueRetry:h,canStart:g,start:()=>(g()?E():k().then(E),i)}}var Ob=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bh(this.gcTime)&&(this.#e=fi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(vi?1/0:300*1e3))}clearGcTimeout(){this.#e&&(fi.clearTimeout(this.#e),this.#e=void 0)}},wC=class extends Ob{#e;#t;#n;#s;#r;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Dv(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Dv(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=zh(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(en).catch(en):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>On(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ns(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Tb(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const u=Pb(this.options,e),p=(()=>{const g={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(g),g})();return this.#a=!1,this.options.persister?this.options.persister(u,p,this):u(p)},l=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:i};return r(u),u})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#i({type:"fetch",meta:l.fetchOptions?.meta}),this.#r=Ab({initialPromise:e?.initialPromise,fn:l.fetchFn,onCancel:u=>{u instanceof Hh&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(u,h)=>{this.#i({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const u=await this.#r.start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof Hh){if(u.silent)return this.#r.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#i({type:"error",error:u}),this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Db(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Mt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function Db(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Rb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Dv(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xC=class extends Wo{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#a=Wh(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Mv(this.#t,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qh(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qh(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#b(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof On(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),e._defaulted&&!gu(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Lv(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||On(this.options.enabled,this.#t)!==On(e.enabled,this.#t)||Ns(this.options.staleTime,this.#t)!==Ns(e.staleTime,this.#t))&&this.#g();const i=this.#y();r&&(this.#t!==n||On(this.options.enabled,this.#t)!==On(e.enabled,this.#t)||i!==this.#l)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return _C(this,n)&&(this.#s=n,this.#o=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(en)),e}#g(){this.#x();const t=Ns(this.options.staleTime,this.#t);if(vi||this.#s.isStale||!Bh(t))return;const n=Tb(this.#s.dataUpdatedAt,t)+1;this.#c=fi.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#b(),this.#l=t,!(vi||On(this.options.enabled,this.#t)===!1||!Bh(this.#l)||this.#l===0)&&(this.#u=fi.setInterval(()=>{(this.options.refetchIntervalInBackground||Vp.isFocused())&&this.#d()},this.#l))}#w(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(fi.clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(fi.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#s,a=this.#r,l=this.#o,h=t!==n?t.state:this.#n,{state:p}=t;let g={...p},v=!1,w;if(e._optimisticResults){const z=this.hasListeners(),Q=!z&&Mv(t,e),V=z&&Lv(t,n,e,r);(Q||V)&&(g={...g,...Db(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:k,errorUpdatedAt:E,status:x}=g;w=g.data;let _=!1;if(e.placeholderData!==void 0&&w===void 0&&x==="pending"){let z;i?.isPlaceholderData&&e.placeholderData===l?.placeholderData?(z=i.data,_=!0):z=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,z!==void 0&&(x="success",w=zh(i?.data,z,e),v=!0)}if(e.select&&w!==void 0&&!_)if(i&&w===a?.data&&e.select===this.#m)w=this.#f;else try{this.#m=e.select,w=e.select(w),w=zh(i?.data,w,e),this.#f=w,this.#i=null}catch(z){this.#i=z}this.#i&&(k=this.#i,w=this.#f,E=Date.now(),x="error");const N=g.fetchStatus==="fetching",C=x==="pending",T=x==="error",I=C&&N,U=w!==void 0,D={status:x,fetchStatus:g.fetchStatus,isPending:C,isSuccess:x==="success",isError:T,isInitialLoading:I,isLoading:I,data:w,dataUpdatedAt:g.dataUpdatedAt,error:k,errorUpdatedAt:E,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:N,isRefetching:N&&!C,isLoadingError:T&&!U,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:T&&U,isStale:zp(t,e),refetch:this.refetch,promise:this.#a,isEnabled:On(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const z=re=>{D.status==="error"?re.reject(D.error):D.data!==void 0&&re.resolve(D.data)},Q=()=>{const re=this.#a=D.promise=Wh();z(re)},V=this.#a;switch(V.status){case"pending":t.queryHash===n.queryHash&&z(V);break;case"fulfilled":(D.status==="error"||D.data!==V.value)&&Q();break;case"rejected":(D.status!=="error"||D.error!==V.reason)&&Q();break}}return D}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#h=this.#t),gu(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#s).some(l=>{const u=l;return this.#s[u]!==t[u]&&a.has(u)})};this.#S({listeners:n()})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#S(t){Mt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function bC(t,e){return On(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Mv(t,e){return bC(t,e)||t.state.data!==void 0&&qh(t,e,e.refetchOnMount)}function qh(t,e,n){if(On(e.enabled,t)!==!1&&Ns(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&zp(t,e)}return!1}function Lv(t,e,n,r){return(t!==e||On(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&zp(t,n)}function zp(t,e){return On(e.enabled,t)!==!1&&t.isStaleByTime(Ns(e.staleTime,t))}function _C(t,e){return!gu(t.getCurrentResult(),e)}function Uv(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},h=0;const p=async()=>{let g=!1;const v=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=Pb(e.options,e.fetchOptions),k=async(E,x,_)=>{if(g)return Promise.reject();if(x==null&&E.pages.length)return Promise.resolve(E);const C=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:x,direction:_?"backward":"forward",meta:e.options.meta};return v(L),L})(),T=await w(C),{maxPages:I}=e.options,U=_?hC:fC;return{pages:U(E.pages,T,I),pageParams:U(E.pageParams,x,I)}};if(i&&a.length){const E=i==="backward",x=E?SC:Fv,_={pages:a,pageParams:l},N=x(r,_);u=await k(_,N,E)}else{const E=t??a.length;do{const x=h===0?l[0]??r.initialPageParam:Fv(r,u);if(h>0&&x==null)break;u=await k(u,x),h++}while(h<E)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function Fv(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function SC(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var kC=class extends Ob{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||Mb(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Ab({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(a,l)=>{this.#r({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#s.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const l=await this.options.onMutate?.(t,n);l!==this.state.context&&this.#r({type:"pending",context:l,variables:t,isPaused:i})}const a=await this.#s.start();return await this.#n.config.onSuccess?.(a,t,this.state.context,this,n),await this.options.onSuccess?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,t,this.state.context,n),this.#r({type:"success",data:a}),a}catch(a){try{throw await this.#n.config.onError?.(a,t,this.state.context,this,n),await this.options.onError?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,a,t,this.state.context,n),a}finally{this.#r({type:"error",error:a})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Mt.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function Mb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var EC=class extends Wo{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new kC({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Vc(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Vc(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Vc(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Vc(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Mt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Rv(e,n))}findAll(t={}){return this.getAll().filter(e=>Rv(t,e))}notify(t){Mt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Mt.batch(()=>Promise.all(t.map(e=>e.continue().catch(en))))}};function Vc(t){return t.options.scope?.id}var CC=class extends Wo{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),gu(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&wi(n.mutationKey)!==wi(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#o()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??Mb();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){Mt.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,n,r,i),this.#s.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#s.onError?.(e.error,n,r,i),this.#s.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#t)})})}},NC=class extends Wo{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??$p(r,e);let a=this.get(i);return a||(a=new wC({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Mt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Iv(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Iv(t,n)):e}notify(t){Mt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Lb=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new NC,this.#t=t.mutationCache||new EC,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Vp.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=yu.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ns(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,l=cC(e,a);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return Mt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Mt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Mt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Mt.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(en).catch(en)}invalidateQueries(t,e={}){return Mt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Mt.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(en)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(en)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Ns(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(en).catch(en)}fetchInfiniteQuery(t){return t.behavior=Uv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(en).catch(en)}ensureInfiniteQueryData(t){return t.behavior=Uv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return yu.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(wi(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{sl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(wi(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{sl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$p(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Bp&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Ub=b.createContext(void 0),xr=t=>{const e=b.useContext(Ub);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},TC=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(Ub.Provider,{value:t,children:e})),Fb=b.createContext(!1),jC=()=>b.useContext(Fb);Fb.Provider;function PC(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var IC=b.createContext(PC()),RC=()=>b.useContext(IC),AC=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},OC=t=>{b.useEffect(()=>{t.clearReset()},[t])},DC=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||Ib(n,[t.error,r])),MC=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},LC=(t,e)=>t.isLoading&&t.isFetching&&!e,UC=(t,e)=>t?.suspense&&e.isPending,$v=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function FC(t,e,n){const r=jC(),i=RC(),a=xr(),l=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=r?"isRestoring":"optimistic",MC(l),AC(l,i),OC(i);const u=!a.getQueryCache().get(l.queryHash),[h]=b.useState(()=>new e(a,l)),p=h.getOptimisticResult(l),g=!r&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(v=>{const w=g?h.subscribe(Mt.batchCalls(v)):en;return h.updateResult(),w},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),b.useEffect(()=>{h.setOptions(l)},[l,h]),UC(l,p))throw $v(l,h,i);if(DC({result:p,errorResetBoundary:i,throwOnError:l.throwOnError,query:a.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw p.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(l,p),l.experimental_prefetchInRender&&!vi&&LC(p,r)&&(u?$v(l,h,i):a.getQueryCache().get(l.queryHash)?.promise)?.catch(en).finally(()=>{h.updateResult()}),l.notifyOnChangeProps?p:h.trackResult(p)}function pn(t,e){return FC(t,xC)}function vu(t,e){const n=xr(),[r]=b.useState(()=>new CC(n,t));b.useEffect(()=>{r.setOptions(t)},[r,t]);const i=b.useSyncExternalStore(b.useCallback(l=>r.subscribe(Mt.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=b.useCallback((l,u)=>{r.mutate(l,u).catch(en)},[r]);if(i.error&&Ib(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const $C="modulepreload",BC=function(t){return"/"+t},Bv={},Ei=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let h=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");i=h(n.map(p=>{if(p=BC(p),p in Bv)return;Bv[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":$C,g||(w.as="script"),w.crossOrigin="",w.href=p,u&&w.setAttribute("nonce",u),document.head.appendChild(w),g)return new Promise((k,E)=>{w.addEventListener("load",k),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};var VC=function(){return null};const zC=()=>{};var Vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,g=a>>2,v=(a&3)<<4|u>>4;let w=(u&15)<<2|p>>6,k=p&63;h||(k=64,l||(w=64)),r.push(n[g],n[v],n[w],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($b(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||p==null||v==null)throw new HC;const w=a<<2|u>>4;if(r.push(w),p!==64){const k=u<<4&240|p>>2;if(r.push(k),v!==64){const E=p<<6&192|v;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qC=function(t){const e=$b(t);return Bb.encodeByteArray(e,!0)},Vb=function(t){return qC(t).replace(/\./g,"")},zb=function(t){try{return Bb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=()=>KC().__FIREBASE_DEFAULTS__,QC=()=>{if(typeof process>"u"||typeof Vv>"u")return;const t=Vv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zb(t[1]);return e&&JSON.parse(e)},Wp=()=>{try{return zC()||GC()||QC()||JC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZC=t=>Wp()?.emulatorHosts?.[t],Wb=()=>Wp()?.config,Hb=t=>Wp()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YC=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XC(t){return(await fetch(t,{credentials:"include"})).ok}const Ka={};function eN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ka))Ka[e]?t.emulator.push(e):t.prod.push(e);return t}function tN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zv=!1;function nN(t,e){if(typeof window>"u"||typeof document>"u"||!Ku(window.location.host)||Ka[t]===e||Ka[t]||zv)return;Ka[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=eN().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{zv=!0,l()},w}function g(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=tN(r),k=n("text"),E=document.getElementById(k)||document.createElement("span"),x=n("learnmore"),_=document.getElementById(x)||document.createElement("a"),N=n("preprendIcon"),C=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const T=w.element;u(T),g(_,x);const I=p();h(C,N),T.append(C,E,_,I),document.body.appendChild(T)}a?(E.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function sN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aN(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lN(){try{return typeof indexedDB=="object"}catch{return!1}}function cN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="FirebaseError";class Ls extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uN,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?dN(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ls(i,u,r)}}function dN(t,e){return t.replace(fN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fN=/\{\$([^}]+)}/g;function hN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Do(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Wv(a)&&Wv(l)){if(!Do(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pN(t,e){const n=new mN(t,e);return n.subscribe.bind(n)}class mN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xf),i.error===void 0&&(i.error=Xf),i.complete===void 0&&(i.complete=Xf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t){return t&&t._delegate?t._delegate:t}class Mo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wN(e))try{this.getOrInitializeService({instanceIdentifier:li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=li){return this.instances.has(e)}getOptions(e=li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=li){return this.component?this.component.multipleInstances?e:li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vN(t){return t===li?void 0:t}function wN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const bN={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},_N=at.INFO,SN={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},kN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=SN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qb{constructor(e){this.name=e,this._logLevel=_N,this._logHandler=kN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const EN=(t,e)=>e.some(n=>t instanceof n);let Hv,qv;function CN(){return Hv||(Hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NN(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kb=new WeakMap,Kh=new WeakMap,Gb=new WeakMap,eh=new WeakMap,Hp=new WeakMap;function TN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ts(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Kb.set(n,t)}).catch(()=>{}),Hp.set(e,t),e}function jN(t){if(Kh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Kh.set(t,e)}let Gh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PN(t){Gh=t(Gh)}function IN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(th(this),e,...n);return Gb.set(r,e.sort?e.sort():[e]),Ts(r)}:NN().includes(t)?function(...e){return t.apply(th(this),e),Ts(Kb.get(this))}:function(...e){return Ts(t.apply(th(this),e))}}function RN(t){return typeof t=="function"?IN(t):(t instanceof IDBTransaction&&jN(t),EN(t,CN())?new Proxy(t,Gh):t)}function Ts(t){if(t instanceof IDBRequest)return TN(t);if(eh.has(t))return eh.get(t);const e=RN(t);return e!==t&&(eh.set(t,e),Hp.set(e,t)),e}const th=t=>Hp.get(t);function AN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=Ts(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ts(l.result),h.oldVersion,h.newVersion,Ts(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const ON=["get","getKey","getAll","getAllKeys","count"],DN=["put","add","delete","clear"],nh=new Map;function Kv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nh.get(e))return nh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ON.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),i&&h.done]))[0]};return nh.set(e,a),a}PN(t=>({...t,get:(e,n,r)=>Kv(e,n)||t.get(e,n,r),has:(e,n)=>!!Kv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LN(t){return t.getComponent()?.type==="VERSION"}const Qh="@firebase/app",Gv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new qb("@firebase/app"),UN="@firebase/app-compat",FN="@firebase/analytics-compat",$N="@firebase/analytics",BN="@firebase/app-check-compat",VN="@firebase/app-check",zN="@firebase/auth",WN="@firebase/auth-compat",HN="@firebase/database",qN="@firebase/data-connect",KN="@firebase/database-compat",GN="@firebase/functions",QN="@firebase/functions-compat",JN="@firebase/installations",ZN="@firebase/installations-compat",YN="@firebase/messaging",XN="@firebase/messaging-compat",eT="@firebase/performance",tT="@firebase/performance-compat",nT="@firebase/remote-config",rT="@firebase/remote-config-compat",sT="@firebase/storage",iT="@firebase/storage-compat",oT="@firebase/firestore",aT="@firebase/ai",lT="@firebase/firestore-compat",cT="firebase",uT="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="[DEFAULT]",dT={[Qh]:"fire-core",[UN]:"fire-core-compat",[$N]:"fire-analytics",[FN]:"fire-analytics-compat",[VN]:"fire-app-check",[BN]:"fire-app-check-compat",[zN]:"fire-auth",[WN]:"fire-auth-compat",[HN]:"fire-rtdb",[qN]:"fire-data-connect",[KN]:"fire-rtdb-compat",[GN]:"fire-fn",[QN]:"fire-fn-compat",[JN]:"fire-iid",[ZN]:"fire-iid-compat",[YN]:"fire-fcm",[XN]:"fire-fcm-compat",[eT]:"fire-perf",[tT]:"fire-perf-compat",[nT]:"fire-rc",[rT]:"fire-rc-compat",[sT]:"fire-gcs",[iT]:"fire-gcs-compat",[oT]:"fire-fst",[lT]:"fire-fst-compat",[aT]:"fire-vertex","fire-js":"fire-js",[cT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new Map,fT=new Map,Zh=new Map;function Qv(t,e){try{t.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function il(t){const e=t.name;if(Zh.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;Zh.set(e,t);for(const n of wu.values())Qv(n,t);for(const n of fT.values())Qv(n,t);return!0}function Qb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new yl("app","Firebase",hT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=uT;function Jb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Jh,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw js.create("bad-app-name",{appName:String(i)});if(n||(n=Wb()),!n)throw js.create("no-options");const a=wu.get(i);if(a){if(Do(n,a.options)&&Do(r,a.config))return a;throw js.create("duplicate-app",{appName:i})}const l=new xN(i);for(const h of Zh.values())l.addComponent(h);const u=new pT(n,r,l);return wu.set(i,u),u}function mT(t=Jh){const e=wu.get(t);if(!e&&t===Jh&&Wb())return Jb();if(!e)throw js.create("no-app",{appName:t});return e}function Eo(t,e,n){let r=dT[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(l.join(" "));return}il(new Mo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="firebase-heartbeat-database",yT=1,ol="firebase-heartbeat-store";let rh=null;function Zb(){return rh||(rh=AN(gT,yT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw js.create("idb-open",{originalErrorMessage:t.message})})),rh}async function vT(t){try{const n=(await Zb()).transaction(ol),r=await n.objectStore(ol).get(Yb(t));return await n.done,r}catch(e){if(e instanceof Ls)Fr.warn(e.message);else{const n=js.create("idb-get",{originalErrorMessage:e?.message});Fr.warn(n.message)}}}async function Jv(t,e){try{const r=(await Zb()).transaction(ol,"readwrite");await r.objectStore(ol).put(e,Yb(t)),await r.done}catch(n){if(n instanceof Ls)Fr.warn(n.message);else{const r=js.create("idb-set",{originalErrorMessage:n?.message});Fr.warn(r.message)}}}function Yb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=1024,xT=30;class bT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ST(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Zv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>xT){const i=kT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zv(),{heartbeatsToSend:n,unsentEntries:r}=_T(this._heartbeatsCache.heartbeats),i=Vb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Fr.warn(e),""}}}function Zv(){return new Date().toISOString().substring(0,10)}function _T(t,e=wT){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Yv(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ST{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lN()?cN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vT(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Yv(t){return Vb(JSON.stringify({version:2,heartbeats:t})).length}function kT(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t){il(new Mo("platform-logger",e=>new MN(e),"PRIVATE")),il(new Mo("heartbeat",e=>new bT(e),"PRIVATE")),Eo(Qh,Gv,t),Eo(Qh,Gv,"esm2020"),Eo("fire-js","")}ET("");function Xb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CT=Xb,e0=new yl("auth","Firebase",Xb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new qb("@firebase/auth");function NT(t,...e){xu.logLevel<=at.WARN&&xu.warn(`Auth (${wl}): ${t}`,...e)}function ou(t,...e){xu.logLevel<=at.ERROR&&xu.error(`Auth (${wl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,...e){throw Kp(t,...e)}function er(t,...e){return Kp(t,...e)}function qp(t,e,n){const r={...CT(),[e]:n};return new yl("auth","Firebase",r).create(e,{appName:t.name})}function yi(t){return qp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TT(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&vr(t,"argument-error"),qp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return e0.create(t,...e)}function Me(t,e,...n){if(!t)throw Kp(e,...n)}function Mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ou(e),new Error(e)}function $r(t,e){t||Mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(){return typeof self<"u"&&self.location?.href||""}function jT(){return Xv()==="http:"||Xv()==="https:"}function Xv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jT()||iN()||"connection"in navigator)?navigator.onLine:!0}function IT(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=rN()||oN()}get(){return PT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t,e){$r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OT=new xl(3e4,6e4);function Qp(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ho(t,e,n,r,i={}){return n0(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=vl({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:h,...a};return sN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ku(t.emulatorConfig.host)&&(p.credentials="include"),t0.fetch()(await r0(t,t.config.apiHost,n,u),p)})}async function n0(t,e,n){t._canInitEmulator=!1;const r={...RT,...e};try{const i=new MT(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw zc(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw zc(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw zc(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw qp(t,g,p);vr(t,g)}}catch(i){if(i instanceof Ls)throw i;vr(t,"network-request-failed",{message:String(i)})}}async function DT(t,e,n,r,i={}){const a=await Ho(t,e,n,r,i);return"mfaPendingCredential"in a&&vr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function r0(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?Gp(t.config,i):`${t.config.apiScheme}://${i}`;return AT.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class MT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(er(this.auth,"network-request-failed")),OT.get())})}}function zc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=er(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LT(t,e){return Ho(t,"POST","/v1/accounts:delete",e)}async function bu(t,e){return Ho(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UT(t,e=!1){const n=Ci(t),r=await n.getIdToken(e),i=Jp(r);Me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:Ga(sh(i.auth_time)),issuedAtTime:Ga(sh(i.iat)),expirationTime:Ga(sh(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function sh(t){return Number(t)*1e3}function Jp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ou("JWT malformed, contained fewer than 3 sections"),null;try{const i=zb(n);return i?JSON.parse(i):(ou("Failed to decode base64 JWT payload"),null)}catch(i){return ou("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ew(t){const e=Jp(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ls&&FT(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FT({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t){const e=t.auth,n=await t.getIdToken(),r=await al(t,bu(e,{idToken:n}));Me(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?s0(i.providerUserInfo):[],l=VT(t.providerData,a),u=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,p=u?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Xh(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function BT(t){const e=Ci(t);await _u(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VT(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function s0(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(t,e){const n=await n0(t,{},async()=>{const r=vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await r0(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&Ku(t.emulatorConfig.host)&&(h.credentials="include"),t0.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WT(t,e){return Ho(t,"POST","/v2/accounts:revokeToken",Qp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ew(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=ew(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await zT(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Co;return r&&(Me(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Me(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new $T(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Xh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await al(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UT(this,e)}reload(){return BT(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _u(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await al(this,LT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:k,providerData:E,stsTokenManager:x}=n;Me(v&&x,e,"internal-error");const _=Co.fromJSON(this.name,x);Me(typeof v=="string",e,"internal-error"),hs(r,e.name),hs(i,e.name),Me(typeof w=="boolean",e,"internal-error"),Me(typeof k=="boolean",e,"internal-error"),hs(a,e.name),hs(l,e.name),hs(u,e.name),hs(h,e.name),hs(p,e.name),hs(g,e.name);const N=new Yn({uid:v,auth:e,email:i,emailVerified:w,displayName:r,isAnonymous:k,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:_,createdAt:p,lastLoginAt:g});return E&&Array.isArray(E)&&(N.providerData=E.map(C=>({...C}))),h&&(N._redirectEventId=h),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Co;i.updateFromServerResponse(n);const a=new Yn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _u(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Me(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?s0(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,u=new Co;u.updateFromIdToken(r);const h=new Yn({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Xh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new Map;function Lr(t){$r(t instanceof Function,"Expected a class definition");let e=tw.get(t);return e?($r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i0.type="NONE";const nw=i0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=au(this.userKey,i.apiKey,a),this.fullPersistenceKey=au("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bu(this.auth,{idToken:e}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new No(Lr(nw),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Lr(nw);const l=au(r,e.config.apiKey,e.name);let u=null;for(const p of n)try{const g=await p._get(l);if(g){let v;if(typeof g=="string"){const w=await bu(e,{idToken:g}).catch(()=>{});if(!w)break;v=await Yn._fromGetAccountInfoResponse(e,w,g)}else v=Yn._fromJSON(e,g);p!==a&&(u=v),a=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new No(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new No(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(o0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d0(e))return"Blackberry";if(f0(e))return"Webos";if(a0(e))return"Safari";if((e.includes("chrome/")||l0(e))&&!e.includes("edge/"))return"Chrome";if(u0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function o0(t=nn()){return/firefox\//i.test(t)}function a0(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l0(t=nn()){return/crios\//i.test(t)}function c0(t=nn()){return/iemobile/i.test(t)}function u0(t=nn()){return/android/i.test(t)}function d0(t=nn()){return/blackberry/i.test(t)}function f0(t=nn()){return/webos/i.test(t)}function Zp(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HT(t=nn()){return Zp(t)&&!!window.navigator?.standalone}function qT(){return aN()&&document.documentMode===10}function h0(t=nn()){return Zp(t)||u0(t)||f0(t)||d0(t)||/windows phone/i.test(t)||c0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t,e=[]){let n;switch(t){case"Browser":n=rw(nn());break;case"Worker":n=`${rw(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(t,e={}){return Ho(t,"GET","/v2/passwordPolicy",Qp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=6;class JT{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QT,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sw(this),this.idTokenSubscription=new sw(this),this.beforeStateQueue=new KT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await No.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bu(this,{idToken:e}),r=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _u(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(yi(this));const n=e?Ci(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GT(this),n=new JT(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WT(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gu(t){return Ci(t)}class sw{constructor(e){this.auth=e,this.observer=null,this.addObserver=pN(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YT(t){Yp=t}function XT(t){return Yp.loadJS(t)}function ej(){return Yp.gapiScript}function tj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t,e){const n=Qb(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Do(a,e??{}))return i;vr(i,"already-initialized")}return n.initialize({options:e})}function rj(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Lr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function sj(t,e,n){const r=Gu(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=m0(e),{host:l,port:u}=ij(e),h=u===null?"":`:${u}`,p={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Do(p,r.config.emulator)&&Do(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Ku(l)?(XC(`${a}//${l}${h}`),nN("Auth",!0)):oj()}function m0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ij(t){const e=m0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:iw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:iw(l)}}}function iw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(t,e){return DT(t,"POST","/v1/accounts:signInWithIdp",Qp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="http://localhost";class xi extends g0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new xi(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,To(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:aj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Xp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends bl{constructor(){super("facebook.com")}static credential(e){return xi._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xi._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends bl{constructor(){super("github.com")}static credential(e){return xi._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends bl{constructor(){super("twitter.com")}static credential(e,n){return xi._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Yn._fromIdTokenResponse(e,r,i),l=ow(r);return new Lo({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ow(r);return new Lo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ow(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Ls{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Su.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Su(e,n,r,i)}}function y0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Su._fromErrorAndOperation(t,a,e,r):a})}async function lj(t,e,n=!1){const r=await al(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(yi(r));const i="reauthenticate";try{const a=await al(t,y0(r,i,e,t),n);Me(a.idToken,r,"internal-error");const l=Jp(a.idToken);Me(l,r,"internal-error");const{sub:u}=l;return Me(t.uid===u,r,"user-mismatch"),Lo._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&vr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t,e,n=!1){if(fr(t.app))return Promise.reject(yi(t));const r="signIn",i=await y0(t,r,e),a=await Lo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function v0(t,e,n,r){return Ci(t).onIdTokenChanged(e,n,r)}function dj(t,e,n){return Ci(t).beforeAuthStateChanged(e,n)}function fj(t){return Ci(t).signOut()}const ku="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ku,"1"),this.storage.removeItem(ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=1e3,pj=10;class x0 extends w0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);qT()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}x0.type="LOCAL";const mj=x0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends w0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}b0.type="SESSION";const _0=b0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(n.origin,a)),h=await gj(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const p=em("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(w.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function vj(t){mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function wj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xj(){return navigator?.serviceWorker?.controller||null}function bj(){return S0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="firebaseLocalStorageDb",_j=1,Eu="firebaseLocalStorage",E0="fbase_key";class _l{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ju(t,e){return t.transaction([Eu],e?"readwrite":"readonly").objectStore(Eu)}function Sj(){const t=indexedDB.deleteDatabase(k0);return new _l(t).toPromise()}function ep(){const t=indexedDB.open(k0,_j);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Eu,{keyPath:E0})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Eu)?e(r):(r.close(),await Sj(),e(await ep()))})})}async function aw(t,e,n){const r=Ju(t,!0).put({[E0]:e,value:n});return new _l(r).toPromise()}async function kj(t,e){const n=Ju(t,!1).get(e),r=await new _l(n).toPromise();return r===void 0?null:r.value}function lw(t,e){const n=Ju(t,!0).delete(e);return new _l(n).toPromise()}const Ej=800,Cj=3;class C0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Cj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qu._getInstance(bj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wj(),!this.activeServiceWorker)return;this.sender=new yj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await aw(e,ku,"1"),await lw(e,ku),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ju(i,!1).getAll();return new _l(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ej)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C0.type="LOCAL";const Nj=C0;new xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t,e){return e?Lr(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends g0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Tj(t){return uj(t.auth,new tm(t),t.bypassAuthState)}function jj(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),cj(n,new tm(t),t.bypassAuthState)}async function Pj(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),lj(n,new tm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tj;case"linkViaPopup":case"linkViaRedirect":return Pj;case"reauthViaPopup":case"reauthViaRedirect":return jj;default:vr(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=new xl(2e3,1e4);async function Rj(t,e,n){if(fr(t.app))return Promise.reject(er(t,"operation-not-supported-in-this-environment"));const r=Gu(t);TT(t,e,Xp);const i=N0(r,n);return new hi(r,"signInViaPopup",e,i).executeNotNull()}class hi extends T0{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,hi.currentPopupAction&&hi.currentPopupAction.cancel(),hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ij.get())};e()}}hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="pendingRedirect",lu=new Map;class Oj extends T0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lu.get(this.auth._key());if(!e){try{const r=await Dj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lu.set(this.auth._key(),e)}return this.bypassAuthState||lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dj(t,e){const n=Uj(e),r=Lj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Mj(t,e){lu.set(t._key(),e)}function Lj(t){return Lr(t._redirectPersistence)}function Uj(t){return au(Aj,t.config.apiKey,t.name)}async function Fj(t,e,n=!1){if(fr(t.app))return Promise.reject(yi(t));const r=Gu(t),i=N0(r,e),l=await new Oj(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=600*1e3;class Bj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Vj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!j0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(er(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$j&&this.cachedEventUids.clear(),this.cachedEventUids.has(cw(e))}saveEventToCache(e){this.cachedEventUids.add(cw(e)),this.lastProcessedEventTime=Date.now()}}function cw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function j0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Vj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e={}){return Ho(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hj=/^https?/;async function qj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zj(t);for(const n of e)try{if(Kj(n))return}catch{}vr(t,"unauthorized-domain")}function Kj(t){const e=Yh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!Hj.test(n))return!1;if(Wj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=new xl(3e4,6e4);function uw(){const t=mr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Qj(t){return new Promise((e,n)=>{function r(){uw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uw(),n(er(t,"network-request-failed"))},timeout:Gj.get()})}if(mr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(mr().gapi?.load)r();else{const i=tj("iframefcb");return mr()[i]=()=>{gapi.load?r():n(er(t,"network-request-failed"))},XT(`${ej()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw cu=null,e})}let cu=null;function Jj(t){return cu=cu||Qj(t),cu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new xl(5e3,15e3),Yj="__/auth/iframe",Xj="emulator/auth/iframe",eP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nP(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gp(e,Xj):`https://${t.config.authDomain}/${Yj}`,r={apiKey:e.apiKey,appName:t.name,v:wl},i=tP.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${vl(r).slice(1)}`}async function rP(t){const e=await Jj(t),n=mr().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:nP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eP,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=er(t,"network-request-failed"),u=mr().setTimeout(()=>{a(l)},Zj.get());function h(){mr().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iP=500,oP=600,aP="_blank",lP="http://localhost";class dw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cP(t,e,n,r=iP,i=oP){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...sP,width:r.toString(),height:i.toString(),top:a,left:l},p=nn().toLowerCase();n&&(u=l0(p)?aP:n),o0(p)&&(e=e||lP,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[k,E])=>`${w}${k}=${E},`,"");if(HT(p)&&u!=="_self")return uP(e||"",u),new dw(null);const v=window.open(e||"",u,g);Me(v,t,"popup-blocked");try{v.focus()}catch{}return new dw(v)}function uP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="__/auth/handler",fP="emulator/auth/handler",hP=encodeURIComponent("fac");async function fw(t,e,n,r,i,a){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wl,eventId:i};if(e instanceof Xp){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",hN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof bl){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await t._getAppCheckToken(),p=h?`#${hP}=${encodeURIComponent(h)}`:"";return`${pP(t)}?${vl(u).slice(1)}${p}`}function pP({config:t}){return t.emulator?Gp(t,fP):`https://${t.authDomain}/${dP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="webStorageSupport";class mP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_0,this._completeRedirectFn=Fj,this._overrideRedirectResult=Mj}async _openPopup(e,n,r,i){$r(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await fw(e,n,r,Yh(),i);return cP(e,a,em())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await fw(e,n,r,Yh(),i);return vj(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):($r(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rP(e),r=new Bj(e);return n.register("authEvent",i=>(Me(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ih,{type:ih},i=>{const a=i?.[0]?.[ih];a!==void 0&&n(!!a),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return h0()||a0()||Zp()}}const gP=mP;var hw="@firebase/auth",pw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wP(t){il(new Mo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Me(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p0(t)},p=new ZT(r,i,a,h);return rj(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),il(new Mo("auth-internal",e=>{const n=Gu(e.getProvider("auth").getImmediate());return(r=>new yP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Eo(hw,pw,vP(t)),Eo(hw,pw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=300,bP=Hb("authIdTokenMaxAge")||xP;let mw=null;const _P=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bP)return;const i=n?.token;mw!==i&&(mw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SP(t=mT()){const e=Qb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nj(t,{popupRedirectResolver:gP,persistence:[Nj,mj,_0]}),r=Hb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=_P(a.toString());dj(n,l,()=>l(n.currentUser)),v0(n,u=>l(u))}}const i=ZC("auth");return i&&sj(n,`http://${i}`),n}function kP(){return document.getElementsByTagName("head")?.[0]??document}YT({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=er("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",kP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wP("Browser");var EP="firebase",CP="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo(EP,CP,"app");function NP(){const t={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0};return Object.entries(t).filter(([,n])=>!n).map(([n])=>n).length>0?(console.warn("[Firebase] Missing Firebase configuration. Using Supabase for authentication instead."),null):t}const gw=NP();let yw=null,dr=null;gw&&(yw=Jb(gw),dr=SP(yw));async function nm(t=!1){if(!dr)return null;const e=dr.currentUser;if(!e)return null;try{return await e.getIdToken(t)}catch(n){return console.error("Failed to retrieve Firebase ID token",n),null}}const P0="demo.userId";function TP(t){if(typeof t!="string")return null;const e=t.trim();return e.length>0?e:null}function Zu(){if(typeof window>"u")return null;try{return TP(window.localStorage.getItem(P0))}catch{return null}}function vw(){if(!(typeof window>"u"))try{window.localStorage.removeItem(P0)}catch{}}const jP={};var PP={};const ww=typeof import.meta<"u"&&jP?.VITE_API_BASE||typeof process<"u"&&PP?.NEXT_PUBLIC_API_BASE||"",xw=typeof ww=="string"?ww.trim().replace(/\/+$/,""):"";function IP(t){if(/^https?:/i.test(t))return t;const e=t.startsWith("/")?t:`/${t}`;return xw?`${xw}${e}`:e}async function I0(){try{const n=await dr?.currentUser?.getIdToken?.();if(typeof n=="string"&&n.trim())return{Authorization:`Bearer ${n}`}}catch(e){console.warn("Failed to resolve Firebase ID token",e)}const t=Zu();return t?{"x-demo-user-id":t}:{}}function R0(t){if(!t)return{};if(t instanceof Headers){const e={};return t.forEach((n,r)=>{e[r]=n}),e}return Array.isArray(t)?t.reduce((e,[n,r])=>(e[String(n)]=String(r),e),{}):{...t}}function Us(t,e={}){const n=IP(t);return fetch(n,{mode:"cors",credentials:"include",...e})}async function Sl(t,e={}){const n=R0(e.headers);Object.keys(n).some(u=>u.toLowerCase()==="content-type")||(n["Content-Type"]="application/json");const i=await I0(),a={...n,...i},l=await Us(t,{...e,headers:a});if(!l.ok){const u=await l.text().catch(()=>"");throw new Error(`API ${l.status}: ${u||l.statusText}`)}if(l.status===204)return null;try{return await l.json()}catch{return null}}async function RP(t,e={}){const n=R0(e.headers);Object.keys(n).some(h=>h.toLowerCase()==="content-type")||(n["Content-Type"]="application/json");const i=await I0(),a={...n,...i},l=t.startsWith("/")?t:`/${t}`,u=await fetch(l,{mode:"cors",credentials:"include",...e,headers:a});if(!u.ok){const h=await u.text().catch(()=>"");throw new Error(`API ${u.status}: ${h||u.statusText}`)}if(u.status===204)return null;try{return await u.json()}catch{return null}}async function A0(t,e){const n=await Us(t,e);try{return await n.json()}catch{return}}const AP=Object.freeze(Object.defineProperty({__proto__:null,api:Us,apiFetch:Sl,apiFetchLocal:RP,apiJSON:A0},Symbol.toStringTag,{value:"Module"}));async function O0(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const OP=new Set(["/api/health","/api/scanner/history"]);function DP(t){if(!t)return t;try{return new URL(t).pathname}catch{const[e]=t.split("?");return e&&(e.startsWith("/")?e:`/${e}`)}return t}function D0(t){const e=DP(t);return e?OP.has(e):!1}async function MP(t,e){const n={};if(e!==void 0&&(n["Content-Type"]="application/json"),!D0(t)){const r=await nm();r&&(n.Authorization=`Bearer ${r}`)}return n}async function Qa(t,e,n){const r=await Us(e,{method:t,headers:await MP(e,n),body:n?JSON.stringify(n):void 0});return await O0(r),r}const wo=({on401:t})=>async({queryKey:e})=>{const[n]=e;let r;if(!D0(n)){const a=await nm();r=a?{Authorization:`Bearer ${a}`}:void 0}const i=await Us(n,{headers:r});return t==="returnNull"&&i.status===401?null:(await O0(i),await i.json())},Wc=new Lb({defaultOptions:{queries:{queryFn:wo({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function M0(){if(typeof window>"u")return null;try{return window.localStorage??null}catch{return null}}function LP(t,e){const n=M0();if(!n)return null;try{const r=n.getItem(t);if(!r)return null;const i=JSON.parse(r);return e?e(i):i}catch(r){return console.warn("storage:readJSON",r),null}}function UP(t,e){const n=M0();if(n)try{if(e==null){n.removeItem(t);return}n.setItem(t,JSON.stringify(e))}catch(r){console.warn("storage:writeJSON",r)}}const FP="portfolio.positions";function L0(t){return`${FP}.${t}`}function U0(t){if(!t||typeof t!="object")throw new Error("Invalid position payload");const e=typeof t.id=="string"&&t.id.trim()?t.id.trim():"";if(!e)throw new Error("Position is missing an id");const n=typeof t.symbol=="string"?t.symbol.trim().toUpperCase():"",r=Number(t.quantity??t.qty??0),i=Number(t.entryPrice??t.avgPrice??0);if(!Number.isFinite(r)||!Number.isFinite(i))throw new Error("Invalid position data");const a=typeof t.notes=="string"&&t.notes.trim().length>0?t.notes.trim():null,l=typeof t.createdAt=="string"?t.createdAt:new Date().toISOString(),u=typeof t.updatedAt=="string"?t.updatedAt:l;return{id:e,symbol:n,quantity:r,entryPrice:i,notes:a,createdAt:l,updatedAt:u}}function oh(t){return LP(L0(t))}function F0(t,e){UP(L0(t),e)}async function $P(t){const e=await Sl("/api/portfolio/positions",{method:"GET"}),r=(Array.isArray(e?.data)?e.data:[]).map(a=>U0(a)),i=typeof e?.userId=="string"&&e.userId.trim()?e.userId.trim():null;return{data:r,userId:i}}async function BP(t,e){const r={symbol:typeof e.symbol=="string"?e.symbol.toUpperCase().trim():"",quantity:Number(e.quantity),entryPrice:Number(e.entryPrice),notes:e.notes??null};if(!r.symbol||Number.isNaN(r.quantity)||Number.isNaN(r.entryPrice))throw new Error("Invalid form values.");const i=await Sl("/api/portfolio/positions",{method:"POST",body:JSON.stringify(r)});return U0(i?.data)}async function VP(t,e){if(!(typeof t=="string"?t.trim():""))throw new Error("Missing position id");await Sl(`/api/portfolio/positions/${encodeURIComponent(t)}`,{method:"DELETE"})}const zP="__no_user__";function kl(t){return["portfolio","positions",t??zP]}const bw=t=>{let e;const n=new Set,r=(p,g)=>{const v=typeof p=="function"?p(e):p;if(!Object.is(v,e)){const w=e;e=g??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(k=>k(e,w))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p))},h=e=t(r,i,u);return u},WP=(t=>t?bw(t):bw),HP=t=>t;function qP(t,e=HP){const n=lt.useSyncExternalStore(t.subscribe,lt.useCallback(()=>e(t.getState()),[t,e]),lt.useCallback(()=>e(t.getInitialState()),[t,e]));return lt.useDebugValue(n),n}const _w=t=>{const e=WP(t),n=r=>qP(e,r);return Object.assign(n,e),n},KP=(t=>t?_w(t):_w),Sw=t=>Symbol.iterator in t,kw=t=>"entries"in t,Ew=(t,e)=>{const n=t instanceof Map?t:new Map(t.entries()),r=e instanceof Map?e:new Map(e.entries());if(n.size!==r.size)return!1;for(const[i,a]of n)if(!r.has(i)||!Object.is(a,r.get(i)))return!1;return!0},GP=(t,e)=>{const n=t[Symbol.iterator](),r=e[Symbol.iterator]();let i=n.next(),a=r.next();for(;!i.done&&!a.done;){if(!Object.is(i.value,a.value))return!1;i=n.next(),a=r.next()}return!!i.done&&!!a.done};function QP(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e)?!1:Sw(t)&&Sw(e)?kw(t)&&kw(e)?Ew(t,e):GP(t,e):Ew({entries:()=>Object.entries(t)},{entries:()=>Object.entries(e)})}function JP(t){const e=lt.useRef(void 0);return n=>{const r=t(n);return QP(e.current,r)?e.current:e.current=r}}function ah(t){if(!t)return null;const e=t.trim();return e?e.toUpperCase():null}const Cu=KP((t,e)=>({prices:{},setPrice:(n,r)=>{const i=ah(n),a=Number(r);!i||!Number.isFinite(a)||t(l=>l.prices[i]===a?l:{prices:{...l.prices,[i]:a}})},setPrices:n=>{const r=Object.entries(n);r.length!==0&&t(i=>{let a=!1;const l={...i.prices};for(const[u,h]of r){const p=ah(u),g=Number(h);!p||!Number.isFinite(g)||l[p]!==g&&(l[p]=g,a=!0)}return a?{prices:l}:i})},getPrice:n=>{const r=ah(n);if(r)return e().prices[r]},reset:()=>{t({prices:{}})}}));function rm(){const t=Cu(JP(n=>({prices:n.prices,setPrice:n.setPrice,setPrices:n.setPrices,reset:n.reset}))),e=b.useCallback(n=>Cu.getState().getPrice(n),[]);return{...t,getPrice:e}}const $0=b.createContext(void 0);function ZP({children:t}){const[e,n]=b.useState(null),[r,i]=b.useState(!0),[a,l]=b.useState(null),u=b.useRef(null);b.useEffect(()=>{if(!dr){n(null),l(null),i(!1);return}return v0(dr,async k=>{if(n(k),k)try{const E=await k.getIdToken();l(E)}catch(E){console.error("Failed to refresh Firebase ID token",E),l(null)}else l(null);i(!1)})},[]);const h=b.useCallback(async({forceRefresh:w=!1}={})=>{const k=await nm(w);return l(k),k},[]),p=b.useCallback(async()=>{if(!dr){console.warn("[Firebase] Auth not initialized");return}const w=new Dr;w.setCustomParameters({prompt:"select_account"}),await Rj(dr,w)},[]),g=b.useCallback(async()=>{if(!dr){console.warn("[Firebase] Auth not initialized");return}await fj(dr),Wc.clear(),Cu.getState().reset(),l(null)},[]);b.useEffect(()=>{const w=e?.uid??null,k=u.current;if(w&&w!==k){const E=kl(w);vw(),Wc.invalidateQueries({queryKey:E}),Wc.refetchQueries({queryKey:E})}k&&k!==w&&(F0(k,null),Wc.clear(),Cu.getState().reset()),u.current=w},[e]),b.useEffect(()=>{e?.uid&&vw()},[e]);const v=b.useMemo(()=>({user:e,loading:r,idToken:a,getIdToken:h,signInWithGoogle:p,signOut:g}),[e,r,a,h,p,g]);return d.jsx($0.Provider,{value:v,children:t})}function YP(){const t=b.useContext($0);if(!t)throw new Error("useFirebaseAuth must be used within a FirebaseAuthProvider");return t}function XP(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,a,l=[],u="",h=t.split("/");for(h[0]||h.shift();i=h.shift();)n=i[0],n==="*"?(l.push(n),u+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),l.push(i.substring(1,~r?r:~a?a:i.length)),u+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(u+=(~r?"?":"")+"\\"+i.substring(a))):u+="/"+i;return{keys:l,pattern:new RegExp("^"+u+(e?"(?=$|/)":"/?$"),"i")}}var lh={exports:{}},ch={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function eI(){if(Cw)return ch;Cw=1;var t=qu();function e(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function u(v,w){var k=w(),E=r({inst:{value:k,getSnapshot:w}}),x=E[0].inst,_=E[1];return a(function(){x.value=k,x.getSnapshot=w,h(x)&&_({inst:x})},[v,k,w]),i(function(){return h(x)&&_({inst:x}),v(function(){h(x)&&_({inst:x})})},[v]),l(k),k}function h(v){var w=v.getSnapshot;v=v.value;try{var k=w();return!n(v,k)}catch{return!0}}function p(v,w){return w()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return ch.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,ch}var Nw;function tI(){return Nw||(Nw=1,lh.exports=eI()),lh.exports}var B0=tI();const nI=Fp.useInsertionEffect,rI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V0=rI?b.useLayoutEffect:b.useEffect,sI=nI||V0,sm=t=>{const e=b.useRef([t,(...n)=>e[0](...n)]).current;return sI(()=>{e[0]=t}),e[1]},iI="popstate",im="pushState",om="replaceState",oI="hashchange",Tw=[iI,im,om,oI],aI=t=>{for(const e of Tw)addEventListener(e,t);return()=>{for(const e of Tw)removeEventListener(e,t)}},z0=(t,e)=>B0.useSyncExternalStore(aI,t,e),lI=()=>location.search,cI=({ssrSearch:t=""}={})=>z0(lI,()=>t),jw=()=>location.pathname,uI=({ssrPath:t}={})=>z0(jw,t?()=>t:jw),dI=(t,{replace:e=!1,state:n=null}={})=>history[e?om:im](n,"",t),fI=(t={})=>[uI(t),dI],Pw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Pw]>"u"){for(const t of[im,om]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Pw,{value:!0})}const hI=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",W0=(t="")=>t==="/"?"":t,pI=(t,e)=>t[0]==="~"?t.slice(1):W0(e)+t,mI=(t="",e)=>hI(Iw(W0(t)),Iw(e)),Iw=t=>{try{return decodeURI(t)}catch{return t}},H0={hook:fI,searchHook:cI,parser:XP,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},q0=b.createContext(H0),Ni=()=>b.useContext(q0),K0={},G0=b.createContext(K0),gI=()=>b.useContext(G0),El=t=>{const[e,n]=t.hook(t);return[mI(t.base,e),sm((r,i)=>n(pI(r,t.base),i))]},Wr=()=>El(Ni()),am=(t,e,n,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),l=i.exec(n)||[],[u,...h]=l;return u!==void 0?[!0,(()=>{const p=a!==!1?Object.fromEntries(a.map((v,w)=>[v,h[w]])):l.groups;let g={...h};return p&&Object.assign(g,p),g})(),...r?[u]:[]]:[!1,null]},yI=t=>am(Ni().parser,t,Wr()[0]),Q0=({children:t,...e})=>{const n=Ni(),r=e.hook?H0:n;let i=r;const[a,l]=e.ssrPath?.split("?")??[];l&&(e.ssrSearch=l,e.ssrPath=a),e.hrefs=e.hrefs??e.hook?.hrefs;let u=b.useRef({}),h=u.current,p=h;for(let g in r){const v=g==="base"?r[g]+(e[g]||""):e[g]||r[g];h===p&&v!==p[g]&&(u.current=p={...p}),p[g]=v,(v!==r[g]||v!==i[g])&&(i=p)}return b.createElement(q0.Provider,{value:i,children:t})},Rw=({children:t,component:e},n)=>e?b.createElement(e,{params:n}):typeof t=="function"?t(n):t,vI=t=>{let e=b.useRef(K0);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,i])=>i!==n[r])?t:n},dn=({path:t,nest:e,match:n,...r})=>{const i=Ni(),[a]=El(i),[l,u,h]=n??am(i.parser,t,a,e),p=vI({...gI(),...u});if(!l)return null;const g=h?b.createElement(Q0,{base:h},Rw(r,p)):Rw(r,p);return b.createElement(G0.Provider,{value:p,children:g})},yt=b.forwardRef((t,e)=>{const n=Ni(),[r,i]=El(n),{to:a="",href:l=a,onClick:u,asChild:h,children:p,className:g,replace:v,state:w,...k}=t,E=sm(_=>{_.ctrlKey||_.metaKey||_.altKey||_.shiftKey||_.button!==0||(u?.(_),_.defaultPrevented||(_.preventDefault(),i(l,t)))}),x=n.hrefs(l[0]==="~"?l.slice(1):n.base+l,n);return h&&b.isValidElement(p)?b.cloneElement(p,{onClick:E,href:x}):b.createElement("a",{...k,onClick:E,href:x,className:g?.call?g(r===l):g,children:p,ref:e})}),J0=t=>Array.isArray(t)?t.flatMap(e=>J0(e&&e.type===b.Fragment?e.props.children:e)):[t],wI=({children:t,location:e})=>{const n=Ni(),[r]=El(n);for(const i of J0(t)){let a=0;if(b.isValidElement(i)&&(a=am(n.parser,i.props.path,e||r,i.props.nest))[0])return b.cloneElement(i,{match:a})}return null},Va=t=>{const{to:e,href:n=e}=t,r=Ni(),[,i]=El(r),a=sm(()=>i(e||n,t)),{ssrContext:l}=r;return V0(()=>{a()},[]),l&&(l.redirectTo=e),null},za={v:[]},Aw=()=>za.v.forEach(t=>t()),xI=t=>(za.v.push(t)===1&&addEventListener("hashchange",Aw),()=>{za.v=za.v.filter(e=>e!==t),za.v.length||removeEventListener("hashchange",Aw)}),bI=()=>"/"+location.hash.replace(/^#?\/?/,""),_I=(t,{state:e=null,replace:n=!1}={})=>{const[r,i]=t.replace(/^#?\/?/,"").split("?"),a=location.pathname+(i?`?${i}`:location.search)+`#/${r}`,l=location.href,u=new URL(a,location.origin).href;n?history.replaceState(e,"",a):history.pushState(e,"",a);const h=typeof HashChangeEvent<"u"?new HashChangeEvent("hashchange",{oldURL:l,newURL:u}):new Event("hashchange",{detail:{oldURL:l,newURL:u}});dispatchEvent(h)},Z0=({ssrPath:t="/"}={})=>[B0.useSyncExternalStore(xI,bI,()=>t),_I];Z0.hrefs=t=>"#"+t;class SI extends b.Component{state={hasError:!1};static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?d.jsx("div",{className:"p-4 text-red-400",children:"Something went wrong."}):this.props.children}}const Y0=b.createContext(null);function kI({children:t}){const[e,n]=b.useState([]),r=b.useRef(1),i=b.useCallback(u=>{n(h=>h.filter(p=>p.id!==u))},[]),a=b.useCallback((u,h)=>{const p=r.current++,g=h?.variant??"info",v=Math.max(1200,h?.duration??2200),w={id:p,message:u,variant:g,duration:v};return n(k=>[...k,w]),window.setTimeout(()=>i(p),v),p},[i]),l=b.useMemo(()=>({show:a,success:(u,h)=>a(u,{variant:"success",duration:h}),error:(u,h)=>a(u,{variant:"error",duration:h}),info:(u,h)=>a(u,{variant:"info",duration:h}),dismiss:i}),[a,i]);return d.jsxs(Y0.Provider,{value:l,children:[t,d.jsx("div",{className:"fixed bottom-4 right-4 z-[2147483647] flex flex-col items-end gap-2 pointer-events-none",children:e.map(u=>d.jsx("div",{className:["pointer-events-auto select-none rounded-xl border px-3 py-2 text-sm shadow-2xl","transition-all duration-150 will-change-transform",u.variant==="success"?"bg-emerald-500 text-black border-emerald-400":"",u.variant==="error"?"bg-red-500 text-black border-red-400":"",u.variant==="info"?"bg-[#1a1a1a] text-white border-white/15":""].join(" "),role:"status","aria-live":"polite",children:u.message},u.id))})]})}function EI(){const t=b.useContext(Y0);if(!t)throw new Error("useToast must be used within <ToastProvider>");return t}const CI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ei(async()=>{const{default:r}=await Promise.resolve().then(()=>qo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class lm extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Ow extends lm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dw extends lm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mw extends lm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(tp||(tp={}));var NI=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(g){try{p(r.next(g))}catch(v){l(v)}}function h(g){try{p(r.throw(g))}catch(v){l(v)}}function p(g){g.done?a(g.value):i(g.value).then(u,h)}p((r=r.apply(t,e||[])).next())})};class TI{constructor(e,{headers:n={},customFetch:r,region:i=tp.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=CI(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return NI(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:a,method:l,body:u,signal:h}=r;let p={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(p["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(p["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(p["Content-Type"]="application/json",w=JSON.stringify(u)));const k=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:w,signal:h}).catch(N=>{throw N.name==="AbortError"?N:new Ow(N)}),E=k.headers.get("x-relay-error");if(E&&E==="true")throw new Dw(k);if(!k.ok)throw new Mw(k);let x=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield k.json():x==="application/octet-stream"?_=yield k.blob():x==="text/event-stream"?_=k:x==="multipart/form-data"?_=yield k.formData():_=yield k.text(),{data:_,error:null,response:k}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Ow(a)}:{data:null,error:a,response:a instanceof Mw||a instanceof Dw?a.context:void 0}}})}}var Vt={},eo={},to={},no={},ro={},so={},jI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Uo=jI();const PI=Uo.fetch,X0=Uo.fetch.bind(Uo),e_=Uo.Headers,II=Uo.Request,RI=Uo.Response,qo=Object.freeze(Object.defineProperty({__proto__:null,Headers:e_,Request:II,Response:RI,default:X0,fetch:PI},Symbol.toStringTag,{value:"Module"})),AI=ZE(qo);var Hc={},Lw;function t_(){if(Lw)return Hc;Lw=1,Object.defineProperty(Hc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Hc.default=t,Hc}var Uw;function n_(){if(Uw)return so;Uw=1;var t=so&&so.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(so,"__esModule",{value:!0});const e=t(AI),n=t(t_());class r{constructor(a){var l,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,v,w,k;let E=null,x=null,_=null,N=p.status,C=p.statusText;if(p.ok){if(this.method!=="HEAD"){const L=await p.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?x=L:x=JSON.parse(L))}const I=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),U=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");I&&U&&U.length>1&&(_=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(E={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,_=null,N=406,C="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const I=await p.text();try{E=JSON.parse(I),Array.isArray(E)&&p.status===404&&(x=[],E=null,N=200,C="OK")}catch{p.status===404&&I===""?(N=204,C="No Content"):E={message:I}}if(E&&this.isMaybeSingle&&(!((k=E?.details)===null||k===void 0)&&k.includes("0 rows"))&&(E=null,N=200,C="OK"),E&&this.shouldThrowOnError)throw new n.default(E)}return{error:E,data:x,count:_,status:N,statusText:C}});return this.shouldThrowOnError||(h=h.catch(p=>{var g,v,w;return{error:{message:`${(g=p?.name)!==null&&g!==void 0?g:"FetchError"}: ${p?.message}`,details:`${(v=p?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=p?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),h.then(a,l)}returns(){return this}overrideTypes(){return this}}return so.default=r,so}var Fw;function r_(){if(Fw)return ro;Fw=1;var t=ro&&ro.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ro,"__esModule",{value:!0});const e=t(n_());class n extends e.default{select(i){let a=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:h=u}={}){const p=h?`${h}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(p,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:h=!1,format:p="text"}={}){var g;const v=[i?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${v};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return ro.default=n,ro}var $w;function cm(){if($w)return no;$w=1;var t=no&&no.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(no,"__esModule",{value:!0});const e=t(r_());class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const p=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${h}fts${p}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return no.default=n,no}var Bw;function s_(){if(Bw)return to;Bw=1;var t=to&&to.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(to,"__esModule",{value:!0});const e=t(cm());class n{constructor(i,{headers:a={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=u}select(i,a){const{head:l=!1,count:u}=a??{},h=l?"HEAD":"GET";let p=!1;const g=(i??"*").split("").map(v=>/\s/.test(v)&&!p?"":(v==='"'&&(p=!p),v)).join("");return this.url.searchParams.set("select",g),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var u;const h="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:h=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((w,k)=>w.concat(Object.keys(k)),[]);if(v.length>0){const w=[...new Set(v)].map(k=>`"${k}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(i,{count:a}={}){var l;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return to.default=n,to}var Vw;function OI(){if(Vw)return eo;Vw=1;var t=eo&&eo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(eo,"__esModule",{value:!0});const e=t(s_()),n=t(cm());class r{constructor(a,{headers:l={},schema:u,fetch:h}={}){this.url=a,this.headers=new Headers(l),this.schemaName=u,this.fetch=h}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:h=!1,count:p}={}){var g;let v;const w=new URL(`${this.url}/rpc/${a}`);let k;u||h?(v=u?"HEAD":"GET",Object.entries(l).filter(([x,_])=>_!==void 0).map(([x,_])=>[x,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([x,_])=>{w.searchParams.append(x,_)})):(v="POST",k=l);const E=new Headers(this.headers);return p&&E.set("Prefer",`count=${p}`),new n.default({method:v,url:w,headers:E,schema:this.schemaName,body:k,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return eo.default=r,eo}var zw;function DI(){if(zw)return Vt;zw=1;var t=Vt&&Vt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.PostgrestError=Vt.PostgrestBuilder=Vt.PostgrestTransformBuilder=Vt.PostgrestFilterBuilder=Vt.PostgrestQueryBuilder=Vt.PostgrestClient=void 0;const e=t(OI());Vt.PostgrestClient=e.default;const n=t(s_());Vt.PostgrestQueryBuilder=n.default;const r=t(cm());Vt.PostgrestFilterBuilder=r.default;const i=t(r_());Vt.PostgrestTransformBuilder=i.default;const a=t(n_());Vt.PostgrestBuilder=a.default;const l=t(t_());return Vt.PostgrestError=l.default,Vt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},Vt}var MI=DI();const LI=Up(MI),{PostgrestClient:UI,PostgrestQueryBuilder:o$,PostgrestFilterBuilder:a$,PostgrestTransformBuilder:l$,PostgrestBuilder:c$,PostgrestError:u$}=LI;class FI{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $I="2.75.0",BI=`realtime-js/${$I}`,VI="1.0.0",np=1e4,zI=1e3,WI=100;var Ja;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ja||(Ja={}));var Dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Dt||(Dt={}));var Qn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Qn||(Qn={}));var rp;(function(t){t.websocket="websocket"})(rp||(rp={}));var ui;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ui||(ui={}));class HI{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+a));l=l+a;const p=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:h,payload:p}}}class i_{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(dt||(dt={}));const Ww=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=qI(l,t,e,i),a),{}):{}},qI=(t,e,n,r)=>{const i=e.find(u=>u.name===t),a=i?.type,l=n[t];return a&&!r.includes(a)?o_(a,l):sp(l)},o_=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return JI(e,n)}switch(t){case dt.bool:return KI(e);case dt.float4:case dt.float8:case dt.int2:case dt.int4:case dt.int8:case dt.numeric:case dt.oid:return GI(e);case dt.json:case dt.jsonb:return QI(e);case dt.timestamp:return ZI(e);case dt.abstime:case dt.date:case dt.daterange:case dt.int4range:case dt.int8range:case dt.money:case dt.reltime:case dt.text:case dt.time:case dt.timestamptz:case dt.timetz:case dt.tsrange:case dt.tstzrange:return sp(e);default:return sp(e)}},sp=t=>t,KI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},GI=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},QI=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},JI=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>o_(e,u))}return t},ZI=t=>typeof t=="string"?t.replace(" ","T"):t,a_=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class uh{constructor(e,n,r={},i=np){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Hw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Hw||(Hw={}));class Za{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Za.syncState(this.state,i,a,l),this.pendingDiffs.forEach(h=>{this.state=Za.syncDiff(this.state,h,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Za.syncDiff(this.state,i,a,l),u())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),l=this.transformState(n),u={},h={};return this.map(a,(p,g)=>{l[p]||(h[p]=g)}),this.map(l,(p,g)=>{const v=a[p];if(v){const w=g.map(_=>_.presence_ref),k=v.map(_=>_.presence_ref),E=g.filter(_=>k.indexOf(_.presence_ref)<0),x=v.filter(_=>w.indexOf(_.presence_ref)<0);E.length>0&&(u[p]=E),x.length>0&&(h[p]=x)}else u[p]=g}),this.syncDiff(a,{joins:u,leaves:h},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,h)=>{var p;const g=(p=e[u])!==null&&p!==void 0?p:[];if(e[u]=this.cloneDeep(h),g.length>0){const v=e[u].map(k=>k.presence_ref),w=g.filter(k=>v.indexOf(k.presence_ref)<0);e[u].unshift(...w)}r(u,g,h)}),this.map(l,(u,h)=>{let p=e[u];if(!p)return;const g=h.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),e[u]=p,i(u,p,h),p.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(qw||(qw={}));var Ya;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ya||(Ya={}));var Or;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Or||(Or={}));class um{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uh(this,Qn.join,this.params,this.timeout),this.rejoinTimer=new i_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Za(this),this.broadcastEndpointURL=a_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Dt.closed){const{config:{broadcast:l,presence:u,private:h}}=this.params,p=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(k=>k.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[Ya.PRESENCE]&&this.bindings[Ya.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},w={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:g}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(k=>e?.(Or.CHANNEL_ERROR,k)),this._onClose(()=>e?.(Or.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:k})=>{var E;if(this.socket.setAuth(),k===void 0){e?.(Or.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,_=(E=x?.length)!==null&&E!==void 0?E:0,N=[];for(let C=0;C<_;C++){const T=x[C],{filter:{event:I,schema:U,table:L,filter:D}}=T,z=k&&k[C];if(z&&z.event===I&&z.schema===U&&z.table===L&&z.filter===D)N.push(Object.assign(Object.assign({},T),{id:z.id}));else{this.unsubscribe(),this.state=Dt.errored,e?.(Or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(Or.SUBSCRIBED);return}}).receive("error",k=>{this.state=Dt.errored,e?.(Or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{e?.(Or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Dt.joined&&e===Ya.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,h;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Dt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new uh(this,Qn.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new uh(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>WI){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const l=e.toLocaleLowerCase(),{close:u,error:h,leave:p,join:g}=Qn;if(r&&[u,h,p,g].indexOf(l)>=0&&r!==this._joinRef())return;let w=this._onMessage(l,n,r);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(k=>{var E,x,_;return((E=k.filter)===null||E===void 0?void 0:E.event)==="*"||((_=(x=k.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(k=>k.callback(w,r)):(a=this.bindings[l])===null||a===void 0||a.filter(k=>{var E,x,_,N,C,T;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in k){const I=k.id,U=(E=k.filter)===null||E===void 0?void 0:E.event;return I&&((x=n.ids)===null||x===void 0?void 0:x.includes(I))&&(U==="*"||U?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const I=(C=(N=k?.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return I==="*"||I===((T=n?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===l}).map(k=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:x,table:_,commit_timestamp:N,type:C,errors:T}=E;w=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:N,eventType:C,new:{},old:{},errors:T}),this._getPayloadRecords(E))}k.callback(w,r)})}_isClosed(){return this.state===Dt.closed}_isJoined(){return this.state===Dt.joined}_isJoining(){return this.state===Dt.joining}_isLeaving(){return this.state===Dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&um.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qn.close,{},e)}_onError(e){this._on(Qn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ww(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ww(e.columns,e.old_record)),n}}const dh=()=>{},qc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},YI=[1e3,2e3,5e3,1e4],XI=1e4,eR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tR{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=np,this.transport=null,this.heartbeatIntervalMs=qc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dh,this.ref=0,this.reconnectTimer=null,this.logger=dh,this.conn=null,this.sendBuffer=[],this.serializer=new HI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>Ei(async()=>{const{default:u}=await Promise.resolve().then(()=>qo);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${rp.websocket}`,this.httpEndpoint=a_(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FI.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VI}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ja.connecting:return ui.Connecting;case Ja.open:return ui.Open;case Ja.closing:return ui.Closing;default:return ui.Closed}}isConnected(){return this.connectionState()===ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new um(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,l=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(zI,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},qc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:l}=n,u=l?`(${l})`:"",h=a.status||"";this.log("receive",`${h} ${r} ${i} ${u}`.trim(),a),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(i,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([eR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:BI};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Qn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new i_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,l,u,h,p,g;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:np,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:qc.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:dh,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(v=>YI[v-1]||XI),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((v,w)=>w(JSON.stringify(v))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class dm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function jt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class nR extends dm{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ip extends dm{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var rR=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(g){try{p(r.next(g))}catch(v){l(v)}}function h(g){try{p(r.throw(g))}catch(v){l(v)}}function p(g){g.done?a(g.value):i(g.value).then(u,h)}p((r=r.apply(t,e||[])).next())})};const l_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ei(async()=>{const{default:r}=await Promise.resolve().then(()=>qo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},sR=()=>rR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ei(()=>Promise.resolve().then(()=>qo),void 0)).Response:Response}),op=t=>{if(Array.isArray(t))return t.map(n=>op(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=op(r)}),e},iR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ti=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(g){try{p(r.next(g))}catch(v){l(v)}}function h(g){try{p(r.throw(g))}catch(v){l(v)}}function p(g){g.done?a(g.value):i(g.value).then(u,h)}p((r=r.apply(t,e||[])).next())})};const fh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oR=(t,e,n)=>Ti(void 0,void 0,void 0,function*(){const r=yield sR();t instanceof r&&!n?.noResolveJson?t.json().then(i=>{const a=t.status||500,l=i?.statusCode||a+"";e(new nR(fh(i),a,l))}).catch(i=>{e(new ip(fh(i),i))}):e(new ip(fh(t),t))}),aR=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(iR(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Cl(t,e,n,r,i,a){return Ti(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(n,aR(e,r,i,a)).then(h=>{if(!h.ok)throw h;return r?.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>oR(h,u,r))})})}function Nu(t,e,n,r){return Ti(this,void 0,void 0,function*(){return Cl(t,"GET",e,n,r)})}function cr(t,e,n,r,i){return Ti(this,void 0,void 0,function*(){return Cl(t,"POST",e,r,i,n)})}function ap(t,e,n,r,i){return Ti(this,void 0,void 0,function*(){return Cl(t,"PUT",e,r,i,n)})}function lR(t,e,n,r){return Ti(this,void 0,void 0,function*(){return Cl(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function c_(t,e,n,r,i){return Ti(this,void 0,void 0,function*(){return Cl(t,"DELETE",e,r,i,n)})}var cR=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(g){try{p(r.next(g))}catch(v){l(v)}}function h(g){try{p(r.throw(g))}catch(v){l(v)}}function p(g){g.done?a(g.value):i(g.value).then(u,h)}p((r=r.apply(t,e||[])).next())})};class uR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return cR(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jt(e))return{data:null,error:e};throw e}})}}var dR=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(g){try{p(r.next(g))}catch(v){l(v)}}function h(g){try{p(r.throw(g))}catch(v){l(v)}}function p(g){g.done?a(g.value):i(g.value).then(u,h)}p((r=r.apply(t,e||[])).next())})};class fR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new uR(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return dR(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jt(e))return{data:null,error:e};throw e}})}}var fn=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(g){try{p(r.next(g))}catch(v){l(v)}}function h(g){try{p(r.throw(g))}catch(v){l(v)}}function p(g){g.done?a(g.value):i(g.value).then(u,h)}p((r=r.apply(t,e||[])).next())})};const hR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pR{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=l_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return fn(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Kw),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",this.encodeMetadata(h))):(a=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i?.headers&&(u=Object.assign(Object.assign({},u),i.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),v=yield(e=="PUT"?ap:cr)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}upload(e,n,r){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return fn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let h;const p=Object.assign({upsert:Kw.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",p.cacheControl)):(h=r,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const v=yield ap(this.fetch,u.toString(),h,{headers:g});return{data:{path:a,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(jt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return fn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield cr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+a.url),u=l.searchParams.get("token");if(!u)throw new dm("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}update(e,n,r){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return fn(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}copy(e,n,r){return fn(this,void 0,void 0,function*(){try{return{data:{path:(yield cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return fn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield cr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return fn(this,void 0,void 0,function*(){try{const i=yield cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),l=a?`?${a}`:"",u=this._getFinalPath(e),h=()=>Nu(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new fR(h,this.shouldThrowOnError)}info(e){return fn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Nu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:op(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}exists(e){return fn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield lR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r)&&r instanceof ip){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const u=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&i.push(h);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${p}`)}}}remove(e){return fn(this,void 0,void 0,function*(){try{return{data:yield c_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}list(e,n,r){return fn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},hR),n),{prefix:e||""});return{data:yield cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}listV2(e,n){return fn(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield cr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const mR="2.75.0",gR={"X-Client-Info":`storage-js/${mR}`};var io=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(g){try{p(r.next(g))}catch(v){l(v)}}function h(g){try{p(r.throw(g))}catch(v){l(v)}}function p(g){g.done?a(g.value):i(g.value).then(u,h)}p((r=r.apply(t,e||[])).next())})};class yR{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gR),n),this.fetch=l_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return io(this,void 0,void 0,function*(){try{return{data:yield Nu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jt(e))return{data:null,error:e};throw e}})}getBucket(e){return io(this,void 0,void 0,function*(){try{return{data:yield Nu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}createBucket(e){return io(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield cr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return io(this,void 0,void 0,function*(){try{return{data:yield ap(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return io(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return io(this,void 0,void 0,function*(){try{return{data:yield c_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}}class vR extends yR{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new pR(this.url,this.headers,e,this.fetch)}}const wR="2.75.0";let Wa="";typeof Deno<"u"?Wa="deno":typeof document<"u"?Wa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wa="react-native":Wa="node";const xR={"X-Client-Info":`supabase-js-${Wa}/${wR}`},bR={headers:xR},_R={schema:"public"},SR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kR={};var ER=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(g){try{p(r.next(g))}catch(v){l(v)}}function h(g){try{p(r.throw(g))}catch(v){l(v)}}function p(g){g.done?a(g.value):i(g.value).then(u,h)}p((r=r.apply(t,e||[])).next())})};const CR=t=>{let e;return t?e=t:typeof fetch>"u"?e=X0:e=fetch,(...n)=>e(...n)},NR=()=>typeof Headers>"u"?e_:Headers,TR=(t,e,n)=>{const r=CR(n),i=NR();return(a,l)=>ER(void 0,void 0,void 0,function*(){var u;const h=(u=yield e())!==null&&u!==void 0?u:t;let p=new i(l?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),r(a,Object.assign(Object.assign({},l),{headers:p}))})};var jR=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(g){try{p(r.next(g))}catch(v){l(v)}}function h(g){try{p(r.throw(g))}catch(v){l(v)}}function p(g){g.done?a(g.value):i(g.value).then(u,h)}p((r=r.apply(t,e||[])).next())})};function PR(t){return t.endsWith("/")?t:t+"/"}function IR(t,e){var n,r;const{db:i,auth:a,realtime:l,global:u}=t,{db:h,auth:p,realtime:g,global:v}=e,w={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},g),l),storage:{},global:Object.assign(Object.assign(Object.assign({},v),u),{headers:Object.assign(Object.assign({},(n=v?.headers)!==null&&n!==void 0?n:{}),(r=u?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>jR(this,void 0,void 0,function*(){return""})};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function RR(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PR(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const u_="2.75.0",xo=30*1e3,lp=3,hh=lp*xo,AR="http://localhost:9999",OR="supabase.auth.token",DR={"X-Client-Info":`gotrue-js/${u_}`},cp="X-Supabase-Api-Version",d_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LR=600*1e3;class ll extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class UR extends ll{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function FR(t){return Ie(t)&&t.name==="AuthApiError"}class di extends ll{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Fs extends ll{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ys extends Fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $R(t){return Ie(t)&&t.name==="AuthSessionMissingError"}class oo extends Fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kc extends Fs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Gc extends Fs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function BR(t){return Ie(t)&&t.name==="AuthImplicitGrantRedirectError"}class Gw extends Fs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class up extends Fs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ph(t){return Ie(t)&&t.name==="AuthRetryableFetchError"}class Qw extends Fs{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class dp extends Fs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jw=` 	
\r=`.split(""),VR=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Jw.length;e+=1)t[Jw[e].charCodeAt(0)]=-2;for(let e=0;e<Tu.length;e+=1)t[Tu[e].charCodeAt(0)]=e;return t})();function Zw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Tu[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Tu[r]),e.queuedBits-=6}}function f_(t,e,n){const r=VR[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Yw(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{HR(l,r,n)};for(let l=0;l<t.length;l+=1)f_(t.charCodeAt(l),i,a);return e.join("")}function zR(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function WR(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}zR(r,e)}}function HR(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function jo(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)f_(t.charCodeAt(i),n,r);return new Uint8Array(e)}function qR(t){const e=[];return WR(t,n=>e.push(n)),new Uint8Array(e)}function pi(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Zw(i,n,r)),Zw(null,n,r),e.join("")}function KR(t){return Math.round(Date.now()/1e3)+t}function GR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const xn=()=>typeof window<"u"&&typeof document<"u",ni={tested:!1,writable:!1},h_=()=>{if(!xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ni.tested)return ni.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ni.tested=!0,ni.writable=!0}catch{ni.tested=!0,ni.writable=!1}return ni.writable};function QR(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const p_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ei(async()=>{const{default:r}=await Promise.resolve().then(()=>qo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},JR=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",bo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ri=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ps=async(t,e)=>{await t.removeItem(e)};class Yu{constructor(){this.promise=new Yu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Yu.promiseConstructor=Promise;function mh(t){const e=t.split(".");if(e.length!==3)throw new dp("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!MR.test(e[r]))throw new dp("JWT not in base64url format");return{header:JSON.parse(Yw(e[0])),payload:JSON.parse(Yw(e[1])),signature:jo(e[2]),raw:{header:e[0],payload:e[1]}}}async function ZR(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function YR(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function XR(t){return("0"+t.toString(16)).substr(-2)}function eA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,XR).join("")}async function tA(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function nA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await tA(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ao(t,e,n=!1){const r=eA();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await bo(t,`${e}-code-verifier`,i);const a=await nA(r);return[a,r===a?"plain":"s256"]}const rA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sA(t){const e=t.headers.get(cp);if(!e||!e.match(rA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function iA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function oA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lo(t){if(!aA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gh(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xw(t){return JSON.parse(JSON.stringify(t))}var lA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ci=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cA=[502,503,504];async function ex(t){var e;if(!JR(t))throw new up(ci(t),0);if(cA.includes(t.status))throw new up(ci(t),t.status);let n;try{n=await t.json()}catch(a){throw new di(ci(a),a)}let r;const i=sA(t);if(i&&i.getTime()>=d_["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Qw(ci(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ys}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Qw(ci(n),t.status,n.weak_password.reasons);throw new UR(ci(n),t.status||500,r)}const uA=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Le(t,e,n,r){var i;const a=Object.assign({},r?.headers);a[cp]||(a[cp]=d_["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await dA(t,e,n+u,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(h):{data:Object.assign({},h),error:null}}async function dA(t,e,n,r,i,a){const l=uA(e,r,i,a);let u;try{u=await t(n,Object.assign({},l))}catch(h){throw console.error(h),new up(ci(h),0)}if(u.ok||await ex(u),r?.noResolveJson)return u;try{return await u.json()}catch(h){await ex(h)}}function Kn(t){var e;let n=null;pA(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=KR(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function tx(t){const e=Kn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ks(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fA(t){return{data:t,error:null}}function hA(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,l=lA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},h=Object.assign({},l);return{data:{properties:u,user:h},error:null}}function nx(t){return t}function pA(t){return t.access_token&&t.refresh_token&&t.expires_in}const yh=["global","local","others"];var mA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class gA{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=p_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=yh[0]){if(yh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yh.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ks})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=mA(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:hA,redirectTo:n?.redirectTo})}catch(n){if(Ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ks})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,l,u,h;try{const p={nextPage:null,lastPage:0,total:0},g=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:nx});if(g.error)throw g.error;const v=await g.json(),w=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,k=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return k.length>0&&(k.forEach(E=>{const x=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(E.split(";")[1].split("=")[1]);p[`${_}Page`]=x}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(Ie(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){lo(e);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ks})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){lo(e);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ks})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){lo(e);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ks})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){lo(e.userId);try{const{data:n,error:r}=await Le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _deleteFactor(e){lo(e.userId),lo(e.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,l,u,h;try{const p={nextPage:null,lastPage:0,total:0},g=await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:nx});if(g.error)throw g.error;const v=await g.json(),w=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,k=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return k.length>0&&(k.forEach(E=>{const x=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(E.split(";")[1].split("=")[1]);p[`${_}Page`]=x}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(Ie(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}}function rx(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const co={debug:!!(globalThis&&h_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class m_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yA extends m_{}async function vA(t,e,n){co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),co.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{co.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw co.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yA(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(co.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function wA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function g_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function xA(t){return parseInt(t,16)}function bA(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function _A(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:h,resources:p,scheme:g,uri:v,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const k=g_(t.address),E=g?`${g}://${r}`:r,x=t.statement?`${t.statement}
`:"",_=`${E} wants you to sign in with your Ethereum account:
${k}

${x}`;let N=`URI: ${v}
Version: ${w}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),u&&(N+=`
Not Before: ${u.toISOString()}`),h&&(N+=`
Request ID: ${h}`),p){let C=`
Resources:`;for(const T of p){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);C+=`
- ${T}`}N+=C}return`${_}
${N}`}class Tt extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class ju extends Tt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function SA({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Tt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(v_(l)){if(a.rp.id!==l)return new Tt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function kA({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Tt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(v_(r)){if(n.rpId!==r)return new Tt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var y_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class EA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const CA=new EA;function NA(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=y_(t,["challenge","user","excludeCredentials"]),a=jo(e).buffer,l=Object.assign(Object.assign({},n),{id:jo(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const p=r[h];u.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:jo(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function TA(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=y_(t,["challenge","allowCredentials"]),i=jo(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:jo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function jA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:pi(new Uint8Array(t.response.attestationObject)),clientDataJSON:pi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function PA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:pi(new Uint8Array(i.authenticatorData)),clientDataJSON:pi(new Uint8Array(i.clientDataJSON)),signature:pi(new Uint8Array(i.signature)),userHandle:i.userHandle?pi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function v_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function sx(){var t,e;return!!(xn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function IA(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ju("Browser returned unexpected credential type",e)}:{data:null,error:new ju("Empty credential response",e)}}catch(e){return{data:null,error:SA({error:e,options:t})}}}async function RA(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ju("Browser returned unexpected credential type",e)}:{data:null,error:new ju("Empty credential response",e)}}catch(e){return{data:null,error:kA({error:e,options:t})}}}const AA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},OA={userVerification:"preferred",hints:["security-key"]};function Pu(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(e(l)){const u=r[a];e(u)?r[a]=Pu(u,l):r[a]=Pu(l)}else r[a]=l}return r}function DA(t,e){return Pu(AA,t,e||{})}function MA(t,e){return Pu(OA,t,e||{})}class LA{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:u};const h=i??CA.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:p}=l.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(l.webauthn.type){case"create":{const p=DA(l.webauthn.credential_options.publicKey,a?.create),{data:g,error:v}=await IA({publicKey:p,signal:h});return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const p=MA(l.webauthn.credential_options.publicKey,a?.request),{data:g,error:v}=await RA(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(l){return Ie(l)?{data:null,error:l}:{data:null,error:new di("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new ll("rpId is required for WebAuthn authentication")};try{if(!sx())return{data:null,error:new di("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:u};const{webauthn:h}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:r,credential_response:h.credential_response}})}catch(l){return Ie(l)?{data:null,error:l}:{data:null,error:new di("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new ll("rpId is required for WebAuthn registration")};try{if(!sx())return{data:null,error:new di("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:u};const{data:h,error:p}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return h?this._verify({factorId:l.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:r,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(l){return Ie(l)?{data:null,error:l}:{data:null,error:new di("Unexpected error in register",l)}}}}wA();const UA={url:AR,storageKey:OR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ix(t,e,n){return await n()}const uo={};class cl{get jwks(){var e,n;return(n=(e=uo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){uo[this.storageKey]=Object.assign(Object.assign({},uo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=uo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){uo[this.storageKey]=Object.assign(Object.assign({},uo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cl.nextInstanceID,cl.nextInstanceID+=1,this.instanceID>0&&xn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},UA),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new gA({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=p_(i.fetch),this.lock=i.lock||ix,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:xn()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=vA:this.lock=ix,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new LA(this)},this.persistSession?(i.storage?this.storage=i.storage:h_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rx(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=rx(this.memoryStorage)),xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${u_}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=QR(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),xn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),BR(a)){const h=(e=a.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ie(n)?{error:n}:{error:new di("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Kn}),{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(Ie(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:g,password:v,options:w}=e;let k=null,E=null;this.flowType==="pkce"&&([k,E]=await ao(this.storage,this.storageKey)),a=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:v,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:k,code_challenge_method:E},xform:Kn})}else if("phone"in e){const{phone:g,password:v,options:w}=e;a=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(r=w?.data)!==null&&r!==void 0?r:{},channel:(i=w?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Kn})}else throw new Kc("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(Ie(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:u}=e;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:tx})}else if("phone"in e){const{phone:a,password:l,options:u}=e;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:tx})}else throw new Kc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new oo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,l,u,h,p,g,v,w;let k,E;if("message"in e)k=e.message,E=e.signature;else{const{chain:x,wallet:_,statement:N,options:C}=e;let T;if(xn())if(typeof _=="object")T=_;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")T=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const I=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href),U=await T.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=g_(U[0]);let D=(r=C?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!D){const Q=await T.request({method:"eth_chainId"});D=xA(Q)}const z={domain:I.host,address:L,statement:N,uri:I.href,version:"1",chainId:D,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=C?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=C?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=C?.signInWithEthereum)===null||g===void 0?void 0:g.resources};k=_A(z),E=await T.request({method:"personal_sign",params:[bA(k),L]})}try{const{data:x,error:_}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:E},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Kn});if(_)throw _;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new oo}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:_})}catch(x){if(Ie(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var n,r,i,a,l,u,h,p,g,v,w,k;let E,x;if("message"in e)E=e.message,x=e.signature;else{const{chain:_,wallet:N,statement:C,options:T}=e;let I;if(xn())if(typeof N=="object")I=N;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))I=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=N}const U=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const L=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),C?{statement:C}:null));let D;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")D=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)D=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)E=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),x=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${U.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(i=(r=T?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=T?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((l=T?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((p=T?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((v=(g=T?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...T.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const L=await I.signMessage(new TextEncoder().encode(E),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=L}}try{const{data:_,error:N}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:pi(x)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(k=e.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Kn});if(N)throw N;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new oo}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:N})}catch(_){if(Ie(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await ri(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:l}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Kn});if(await ps(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new oo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(Ie(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:l}=e,u=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Kn}),{data:h,error:p}=u;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new oo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:p})}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,l;try{if("email"in e){const{email:u,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ao(this.storage,this.storageKey));const{error:v}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(r=h?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:u,options:h}=e,{data:p,error:g}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(l=h?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:g}}throw new Kc("You must provide either an email or phone number.")}catch(u){if(Ie(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Kn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,p=l.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(i){if(Ie(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await ao(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:fA})}catch(a){if(Ie(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ys;const{error:i}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ie(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:l}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:l,error:u}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:u}}throw new Kc("You must provide either an email or phone number and a type")}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ri(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<hh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await ri(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=gh()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,p,g)=>(!l&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,p,g))})}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ks}):await this._useSession(async n=>{var r,i,a;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ys}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ks})})}catch(n){if(Ie(n))return $R(n)&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ys;const l=i.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await ao(this.storage,this.storageKey));const{data:p,error:g}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:l.access_token,xform:ks});if(g)throw g;return l.user=p.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ys;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:l}=mh(e.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ie(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:u}=n;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new ys;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!xn())throw new Gc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Gw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gw("No code detected.");const{data:C,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:u,expires_at:h,token_type:p}=e;if(!a||!u||!l||!p)throw new Gc("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(u);let w=g+v;h&&(w=parseInt(h));const k=w-g;k*1e3<=xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${v}s`);const E=w-v;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,g);const{data:x,error:_}=await this._getUser(a);if(_)throw _;const N={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:v,expires_at:w,refresh_token:l,token_type:p,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:e.type},error:null}}catch(r){if(Ie(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ri(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(FR(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=GR(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ao(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ie(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var l,u,h,p,g;const{data:v,error:w}=a;if(w)throw w;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",k,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return xn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(Ie(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:l,provider:u,token:h,access_token:p,nonce:g}=e,v=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:h,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Kn}),{data:w,error:k}=v;return k?{data:{user:null,session:null},error:k}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new oo}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:k})}catch(i){if(Ie(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)throw l;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await YR(async i=>(i>0&&await ZR(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kn})),(i,a)=>{const l=200*Math.pow(2,i);return a&&ph(a)&&Date.now()+l-r<xo})}catch(r){if(this._debug(n,"error",r),Ie(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),xn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ri(this.storage,this.storageKey);if(i&&this.userStorage){let l=await ri(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await bo(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:gh()}else if(i&&!i.user&&!i.user){const l=await ri(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await ps(this.storage,this.storageKey+"-user"),await bo(this.storage,this.storageKey,i)):i.user=gh()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<hh;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${hh}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),ph(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Yu;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new ys;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),Ie(a)){const l={data:null,error:a};return ph(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(h){a.push(h)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await bo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=Xw(i);await bo(this.storage,this.storageKey,a)}else{const i=Xw(n);await bo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ps(this.storage,this.storageKey),await ps(this.storage,this.storageKey+"-code-verifier"),await ps(this.storage,this.storageKey+"-user"),this.userStorage&&await ps(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${xo}ms, refresh threshold is ${lp} ticks`),i<=lp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof m_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await ao(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?jA(e.webauthn.credential_response):PA(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:h}=await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:NA(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:TA(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=mh(i.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const g=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+LR>i)return r;const{data:a,error:l}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:k,error:E}=await this.getSession();if(E||!k.session)return{data:null,error:E};r=k.session.access_token}const{header:i,payload:a,signature:l,raw:{header:u,payload:h}}=mh(r);n?.allowExpired||iA(a.exp);const p=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:k}=await this.getUser(r);if(k)throw k;return{data:{claims:a,header:i,signature:l},error:null}}const g=oA(i.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,l,qR(`${u}.${h}`)))throw new dp("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}}cl.nextInstanceID=0;const FA=cl;class $A extends FA{constructor(e){super(e)}}var BA=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(g){try{p(r.next(g))}catch(v){l(v)}}function h(g){try{p(r.throw(g))}catch(v){l(v)}}function p(g){g.done?a(g.value):i(g.value).then(u,h)}p((r=r.apply(t,e||[])).next())})};class VA{constructor(e,n,r){var i,a,l;this.supabaseUrl=e,this.supabaseKey=n;const u=RR(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:_R,realtime:kR,auth:Object.assign(Object.assign({},SR),{storageKey:h}),global:bR},g=IR(r??{},p);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=TR(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new UI(new URL("rest/v1",u).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new vR(this.storageUrl.href,this.headers,this.fetch,r?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new TI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return BA(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:l,flowType:u,lock:h,debug:p},g,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $A({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),g),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:u,lock:h,debug:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new tR(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zA=(t,e,n)=>new VA(t,e,n);function WA(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}WA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const HA="https://wsolfnlruttssuozalsz.supabase.co",qA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indzb2xmbmxydXR0c3N1b3phbHN6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0MjY0NDcsImV4cCI6MjA3NjAwMjQ0N30.Z9uJZm0n51Ckmxq8XPhysucdXqxEC0sl3e6jkDlQk5s",Dn=zA(HA,qA),w_=b.createContext(null);function KA({children:t}){const[e,n]=b.useState(null),[r,i]=b.useState(!0);b.useEffect(()=>{let l=!1;const{data:u}=Dn.auth.onAuthStateChange(async(h,p)=>{if(h==="INITIAL_SESSION"){n(p??null),i(!1),l=!0;return}if((h==="SIGNED_IN"||h==="TOKEN_REFRESHED"||h==="USER_UPDATED")&&n(p??null),h==="SIGNED_OUT"){n(null),e1.clear();try{localStorage.removeItem("ctp_watchlist"),localStorage.removeItem("ctp_filters")}catch{}window.location.replace("/#/account")}});return Dn.auth.getSession().then(({data:h})=>{l||(n(h.session??null),i(!1))}),()=>{u.subscription.unsubscribe()}},[]);const a=b.useMemo(()=>({session:e,user:e?.user??null,loading:r,signOut:async()=>{await Dn.auth.signOut()}}),[e,r]);return d.jsx(w_.Provider,{value:a,children:t})}function $s(){const t=b.useContext(w_);if(!t)throw new Error("useAuth must be used within <AuthProvider>");return t}function ox({children:t}){const{user:e,loading:n}=$s(),[r]=Wr();if(n)return d.jsx("div",{className:"p-6 text-muted-foreground",children:"Loading"});if(!e){const i=encodeURIComponent(r);return d.jsx(Va,{to:`/account?redirect=${i}`,replace:!0})}return d.jsx(d.Fragment,{children:t})}var ji=Nb();const GA=Up(ji);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x_=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},h)=>b.createElement("svg",{ref:h,...JA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:x_("lucide",i),...u},[...l.map(([p,g])=>b.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(t,e)=>{const n=b.forwardRef(({className:r,...i},a)=>b.createElement(ZA,{ref:a,iconNode:e,className:x_(`lucide-${QA(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=ze("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=ze("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=ze("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=ze("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ze("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ze("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=ze("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=ze("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=ze("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=ze("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=ze("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=ze("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=ze("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=ze("RadioTower",[["path",{d:"M4.9 16.1C1 12.2 1 5.8 4.9 1.9",key:"s0qx1y"}],["path",{d:"M7.8 4.7a6.14 6.14 0 0 0-.8 7.5",key:"1idnkw"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}],["path",{d:"M16.2 4.8c2 2 2.26 5.11.8 7.47",key:"ojru2q"}],["path",{d:"M19.1 1.9a9.96 9.96 0 0 1 0 14.1",key:"rhi7fg"}],["path",{d:"M9.5 18h5",key:"mfy3pd"}],["path",{d:"m8 22 4-11 4 11",key:"25yftu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=ze("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=ze("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=ze("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=ze("Volume",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=ze("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function vO({anchor:t,label:e,show:n}){const[r,i]=b.useState({top:0,left:0}),a=b.useRef();return b.useEffect(()=>{if(!n||!t)return;const l=()=>{const u=t.getBoundingClientRect();i({top:u.top+u.height/2,left:u.right+8}),a.current=requestAnimationFrame(l)};return l(),()=>{a.current&&cancelAnimationFrame(a.current)}},[n,t]),!n||!t?null:ji.createPortal(d.jsx("div",{className:"fixed -translate-y-1/2 z-[9999] px-2.5 py-1.5 rounded-lg bg-black text-white text-xs shadow-2xl pointer-events-none",style:{top:r.top,left:r.left},children:e}),document.body)}const wO=[{label:"Dashboard",to:"/dashboard",icon:d.jsx(oO,{size:20})},{label:"Portfolio",to:"/portfolio",icon:d.jsx(eO,{size:20})},{label:"Gainers",to:"/gainers",icon:d.jsx(fm,{size:20})},{label:"Analyse",to:"/analyse",icon:d.jsx(lx,{size:20})},{label:"Watchlist",to:"/watchlist",icon:d.jsx(aO,{size:20}),visible:t=>!!t},{label:"Alerts",to:"/alerts",icon:d.jsx(hm,{size:20}),visible:t=>!!t},{label:"AI Insights",to:"/ai-insights",icon:d.jsx(lx,{size:20})},{label:"News",to:"/news",icon:d.jsx(S_,{size:20})}];function xO({isOpen:t=!1,onClose:e}){const{user:n,loading:r}=$s(),[i]=Wr(),[a,l]=b.useState(!1),[u,h]=b.useState(!0),[p,g]=b.useState(null),[v,w]=b.useState(""),[k,E]=b.useState(!1),x=b.useRef(null),_=b.useRef(null),[N,C]=b.useState(null),T=a&&!u,I=a?u?"whitespace-nowrap transition-all opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto":"whitespace-nowrap transition-all opacity-0 w-0":"whitespace-nowrap transition-all opacity-100 w-auto",U=typeof window<"u"&&window.innerWidth<768;function L(){const D=x.current,z=_.current;if(!D||!z)return;const Q=D.getBoundingClientRect(),V=z.offsetWidth||320,re=12,J=V/2,se=Math.min(Math.max(Q.left+Q.width/2,re+J),window.innerWidth-re-J),X=Math.max(Q.top-12,re+8);C({left:se,top:X})}return b.useEffect(()=>{if(!k)return;requestAnimationFrame(()=>{L(),requestAnimationFrame(L)});const D=()=>L(),z=V=>{x.current?.contains(V.target)||E(!1)},Q=V=>V.key==="Escape"&&E(!1);return window.addEventListener("resize",D),window.addEventListener("scroll",D,{passive:!0}),document.addEventListener("click",z),document.addEventListener("keydown",Q),()=>{window.removeEventListener("resize",D),window.removeEventListener("scroll",D),document.removeEventListener("click",z),document.removeEventListener("keydown",Q)}},[k]),d.jsxs(d.Fragment,{children:[U&&t&&d.jsx("div",{className:"fixed inset-0 bg-muted/50 z-30 md:hidden",onClick:e}),d.jsxs("aside",{className:["group relative h-screen bg-sidebar border-r border-sidebar-border transition-all duration-200 flex flex-col overflow-hidden",U&&!t?"hidden":"",U&&t?"fixed left-0 top-0 z-40 w-60":"",U?"":"block",!U&&a?"w-14":"",!U&&!a?"w-60":"",!U&&u&&a?"hover:w-60":""].join(" "),children:[d.jsxs("div",{className:"h-14 flex items-center justify-between px-3",children:[d.jsx(yt,{to:"/dashboard",className:"text-white/90 font-semibold tracking-wide whitespace-nowrap overflow-hidden",onClick:e,children:T?"":"CryptoTrader Pro"}),U&&t&&d.jsx("button",{onClick:e,className:"md:hidden text-white/60 hover:text-white","aria-label":"Close sidebar",children:""})]}),d.jsx("nav",{className:"mt-2 space-y-1 px-2 flex-1 overflow-y-auto",children:wO.filter(D=>r?!0:D.visible?D.visible(n):!0).map(D=>{const z=D.to==="/analyse"?i.startsWith("/analyse"):i===D.to,Q=()=>{U&&t&&e?.()};return d.jsxs(yt,{to:D.to,onClick:Q,className:["relative group/item flex items-center gap-3 rounded-xl px-3 py-2 text-[15px]","text-foreground hover:text-white hover:bg-white/5",z?"bg-white/[0.07] text-white":""].join(" "),onMouseEnter:V=>{T&&(w(D.label),g(V.currentTarget))},onMouseLeave:()=>{g(null)},children:[d.jsx("div",{className:"shrink-0",children:D.icon}),d.jsx("span",{className:I,children:D.label})]},D.to)})}),d.jsx("div",{className:"absolute bottom-3 left-2",children:d.jsx("button",{ref:x,type:"button",onClick:D=>{D.stopPropagation(),E(z=>!z)},"aria-label":"Sidebar control",className:"w-10 h-10 rounded-2xl bg-white/[0.06] hover:bg-white/[0.1] border border-primary shadow-md flex items-center justify-center",children:d.jsx(cO,{size:18,className:"text-white/90"})})}),k&&ji.createPortal(d.jsxs("div",{ref:_,className:"fixed z-[2147483647] w-80 rounded-2xl border border-primary/40 bg-background/95 backdrop-blur text-foreground shadow-2xl overflow-hidden",style:{left:N?.left??0,top:N?.top??-9999,transform:"translate(-50%, -100%)",visibility:N?"visible":"hidden"},onClick:D=>D.stopPropagation(),children:[d.jsx("div",{className:"px-4 py-3 border-b border-primary/20 text-[15px] font-semibold text-primary",children:"Sidebar control"}),d.jsxs("div",{className:"p-4 text-[15px] space-y-3",children:[d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:text-white transition-colors",children:[d.jsx("input",{type:"radio",name:"sb",className:"accent-primary",checked:!a&&!u,onChange:()=>{l(!1),h(!1),E(!1)}}),d.jsx("span",{children:"Expanded"})]}),d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:text-white transition-colors",children:[d.jsx("input",{type:"radio",name:"sb",className:"accent-primary",checked:a&&!u,onChange:()=>{l(!0),h(!1),E(!1)}}),d.jsx("span",{children:"Collapsed"})]}),d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:text-white transition-colors",children:[d.jsx("input",{type:"radio",name:"sb",className:"accent-primary",checked:a&&u,onChange:()=>{l(!0),h(!0),E(!1)}}),d.jsx("span",{children:"Expand on hover"})]})]})]}),document.body),d.jsx(vO,{anchor:p,label:v,show:!!p&&T})]})]})}const bO=b.lazy(()=>Ei(()=>import("./AccountDropdown-C4Ao4js9.js"),[]));function _O({onMenuClick:t}){const[e]=Wr(),n=r=>{const i={"/dashboard":"Dashboard","/portfolio":"Portfolio","/gainers":"Top Gainers","/analyse":"Analysis","/watchlist":"Watchlist","/alerts":"Alerts","/account":"Account","/ai-insights":"AI","/news":"News"};for(const[a,l]of Object.entries(i))if(e.startsWith(a))return l;return"Dashboard"};return d.jsx("header",{className:"sticky top-0 z-40 border-b border-border/50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 h-14 md:h-16",children:d.jsxs("div",{className:"flex h-full items-center justify-between px-3 sm:px-4 md:px-6 gap-2",children:[d.jsx("button",{onClick:t,className:"md:hidden p-2 hover:bg-foreground/10 rounded-lg transition-colors","aria-label":"Toggle sidebar",children:d.jsx(lO,{size:20,className:"text-foreground"})}),d.jsx("h1",{className:"text-base font-semibold tracking-tight text-foreground truncate flex-1 md:flex-none md:text-lg",children:n()}),d.jsx(b.Suspense,{fallback:d.jsx("div",{className:"w-10 h-10"}),children:d.jsx(bO,{})})]})})}function Hr(){const{user:t,loading:e,idToken:n,getIdToken:r,signInWithGoogle:i,signOut:a}=YP();return{user:t,idToken:n,getIdToken:r,signInWithGoogle:i,signOut:a,isLoading:e,authReady:!e,isAuthenticated:!!t}}function SO(t){if(!t||typeof t!="object")return!1;const e=t;if(e.ok!==!0)return!1;const{ts:n}=e;if(typeof n=="number")return Number.isFinite(n);if(typeof n=="string"){if(!n.trim())return!1;const r=Date.parse(n);return Number.isFinite(r)}return!1}let mi,Qc=null;async function kO(){const t=new AbortController,e=setTimeout(()=>t.abort(),4e3);try{const n=await A0("/api/health",{signal:t.signal});return SO(n)}catch{return!1}finally{clearTimeout(e)}}function EO(){return mi!==void 0?Promise.resolve(mi):(Qc||(Qc=kO().then(t=>(mi=t,t)).finally(()=>{Qc=null})),Qc)}function mm(){const[t,e]=b.useState(()=>mi===void 0?null:mi);return b.useEffect(()=>{let n=!0;return mi!==void 0?(e(mi),()=>{n=!1}):(EO().then(r=>{n&&e(r)}),()=>{n=!1})},[]),t}const CO=1,NO=1e4;let xh=0;function TO(){return xh=(xh+1)%Number.MAX_SAFE_INTEGER,xh.toString()}const Xa=new Map,cx=t=>{if(Xa.has(t))return;const e=setTimeout(()=>{Xa.delete(t),el({type:"REMOVE_TOAST",toastId:t})},NO);Xa.set(t,e)},jO=t=>{const e=Xa.get(t);e&&(clearTimeout(e),Xa.delete(t))},PO=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts.filter(n=>n.id!==e.toast.id)].slice(0,CO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?cx(n):t.toasts.forEach(r=>{cx(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},uu=[];let du={toasts:[]};function el(t){du=PO(du,t),uu.forEach(e=>{e(du)})}const Jc=(t={})=>{const{id:e,onOpenChange:n,...r}=t,i=e??TO();jO(i);const a=u=>el({type:"UPDATE_TOAST",toast:{...u,id:i}}),l=()=>el({type:"DISMISS_TOAST",toastId:i});return el({type:"ADD_TOAST",toast:{...r,id:i,open:!0,onOpenChange:u=>{u||l(),n?.(u)}}}),{id:i,dismiss:l,update:a}},gp=Object.assign(Jc,{dismiss:t=>el({type:"DISMISS_TOAST",toastId:t}),success:(t,e)=>Jc({...e,title:t,variant:e?.variant??"default"}),error:(t,e)=>Jc({...e,title:t,variant:e?.variant??"destructive"}),loading:(t,e)=>Jc({...e,title:t,duration:e?.duration??15e3,variant:e?.variant??"default"})});function C_(){const[t,e]=b.useState(du);return b.useEffect(()=>(uu.push(e),()=>{const n=uu.indexOf(e);n>-1&&uu.splice(n,1)}),[t]),{...t,toast:gp,dismiss:n=>gp.dismiss(n)}}async function N_(){const{data:t,error:e}=await Dn.from("positions").select("*").order("created_at",{ascending:!1});if(e)throw new Error(e.message);return t??[]}async function IO(t,e,n,r,i){const{error:a}=await Dn.from("positions").upsert([{user_id:t,symbol:e,qty:n,entry_price:r,note:null}],{onConflict:"user_id,symbol"});if(a)throw new Error(a.message)}async function RO(t){const{error:e}=await Dn.from("positions").delete().eq("id",t);if(e)throw new Error(e.message)}function AO(t,e){if(!Array.isArray(t))return!1;const n=Array.isArray(e)?e:[];if(n.length!==t.length)return!0;if(t.length===0)return!1;for(let r=0;r<t.length;r+=1){const i=t[r],a=n[r];if(!a||i.id!==a.id||i.updatedAt!==a.updatedAt)return!0}return!1}function OO(t,e){const n=Array.isArray(e)?e.length:0;return Array.isArray(t)?t.length>0||n===0?!0:AO(t,e):!1}function DO(t){const e=Number(t.qty),n=Number(t.entry_price);return{id:t.id,symbol:t.symbol?.toUpperCase?.()??"",quantity:Number.isFinite(e)?e:0,entryPrice:Number.isFinite(n)?n:0,notes:t.note??null,createdAt:t.created_at,updatedAt:t.updated_at??t.created_at}}function gm(t={}){const{enabled:e=!0}=t,{user:n}=Hr(),{user:r}=$s(),i=n?.uid??null,a=r?.id??null,l=Zu(),u=a??i??l,h=a?null:u,p=xr(),g=b.useMemo(()=>kl(u),[u]),v=b.useMemo(()=>u?oh(u):null,[u]),w=v??void 0,k=pn({queryKey:g,queryFn:async()=>{if(a)return(await N_()).map(DO);if(!h)return[];const x=await $P(),_=Array.isArray(x?.data)?x.data:[],N=typeof x?.userId=="string"&&x.userId.trim()?x.userId.trim():null;if(N&&N!==h){const C=p.getQueryData(g);if(Array.isArray(C)&&C.length>0)return C;const T=oh(h);if(Array.isArray(T)&&T.length>0)return T}return _},initialData:w,placeholderData:x=>x??w??[],staleTime:300*1e3,gcTime:1440*60*1e3,enabled:e&&(!!a||!!u),refetchOnWindowFocus:!1,keepPreviousData:!0,retry:(x,_)=>(_ instanceof Error?_.message:String(_)).includes("API 401")?!1:x<2,onError:x=>{(x instanceof Error?x.message:String(x)).includes("API 401")&&gp.error("Authentication required",{id:"portfolio-auth-error",description:"Sign in to manage your portfolio positions."})},onSuccess:x=>{if(!u)return;const _=oh(u);OO(x,_)&&F0(u,x)}});b.useEffect(()=>{if(typeof window>"u")return;const x=_=>{_.key==="portfolio.refresh"&&p.invalidateQueries({queryKey:g})};return window.addEventListener("storage",x),()=>window.removeEventListener("storage",x)},[p,g]);const E=k.data??(u?v??[]:[]);return{...k,data:E}}function MO(t){return Array.from(new Set(t.map(e=>e.trim().toUpperCase()).filter(Boolean)))}async function LO(t){if(t.length===0)return{};const e="https://api.binance.com/api/v3/ticker/price?symbols="+encodeURIComponent(JSON.stringify(t));try{const n=await fetch(e);if(!n.ok)return{};const r=await n.json(),i={};for(const a of r){const l=a?.symbol?.toUpperCase?.(),u=Number(a?.price);l&&Number.isFinite(u)&&(i[l]=u)}return i}catch{return{}}}function T_(){const{data:t=[]}=gm(),{prices:e,setPrices:n,getPrice:r}=rm();return b.useEffect(()=>{if(typeof window>"u"||!t.length)return;const i=MO(t.map(h=>h.symbol));if(i.length===0)return;let a=!1;async function l(){const h=await LO(i);!a&&Object.keys(h).length>0&&n(h)}l();const u=window.setInterval(l,5e3);return()=>{a=!0,window.clearInterval(u)}},[t,n]),b.useMemo(()=>{let i=t.length,a=0,l=0;for(const p of t){const g=Number(p.quantity)||0,v=Number(p.entryPrice)||0,w=p.symbol.toUpperCase(),k=e[w],E=Number.isFinite(k)?k:r(p.symbol),x=typeof E=="number"&&Number.isFinite(E)?E:v;a+=g*v,l+=g*x}const u=l-a,h=a>0?u/a*100:0;return{count:i,cost:a,market:l,pnl:u,pnlPct:h}},[t,e,r])}function ux(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function j_(...t){return e=>{let n=!1;const r=t.map(i=>{const a=ux(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():ux(t[i],null)}}}}function Lt(...t){return b.useCallback(j_(...t),t)}function dl(t){const e=FO(t),n=b.forwardRef((r,i)=>{const{children:a,...l}=r,u=b.Children.toArray(a),h=u.find(BO);if(h){const p=h.props.children,g=u.map(v=>v===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:v);return d.jsx(e,{...l,ref:i,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return d.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var UO=dl("Slot");function FO(t){const e=b.forwardRef((n,r)=>{const{children:i,...a}=n;if(b.isValidElement(i)){const l=zO(i),u=VO(a,i.props);return i.type!==b.Fragment&&(u.ref=r?j_(r,l):l),b.cloneElement(i,u)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $O=Symbol("radix.slottable");function BO(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$O}function VO(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const h=a(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function zO(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function P_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=P_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function I_(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=P_(t))&&(r&&(r+=" "),r+=e);return r}const dx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,fx=I_,R_=(t,e)=>n=>{var r;if(e?.variants==null)return fx(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(p=>{const g=n?.[p],v=a?.[p];if(g===null)return null;const w=dx(g)||dx(v);return i[p][w]}),u=n&&Object.entries(n).reduce((p,g)=>{let[v,w]=g;return w===void 0||(p[v]=w),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:v,className:w,...k}=g;return Object.entries(k).every(E=>{let[x,_]=E;return Array.isArray(_)?_.includes({...a,...u}[x]):{...a,...u}[x]===_})?[...p,v,w]:p},[]);return fx(t,l,h,n?.class,n?.className)},ym="-",WO=t=>{const e=qO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const u=l.split(ym);return u[0]===""&&u.length!==1&&u.shift(),A_(u,e)||HO(l)},getConflictingClassGroupIds:(l,u)=>{const h=n[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},A_=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?A_(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(ym);return e.validators.find(({validator:l})=>l(a))?.classGroupId},hx=/^\[(.+)\]$/,HO=t=>{if(hx.test(t)){const e=hx.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},qO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return GO(Object.entries(t.classGroups),n).forEach(([a,l])=>{yp(l,r,a,e)}),r},yp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:px(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(KO(i)){yp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,l])=>{yp(l,px(e,a),n,r)})})},px=(t,e)=>{let n=t;return e.split(ym).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},KO=t=>t.isThemeGetter,GO=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,u])=>[e+l,u])):a);return[n,i]}):t,QO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){n.has(a)?n.set(a,l):i(a,l)}}},O_="!",JO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,l=u=>{const h=[];let p=0,g=0,v;for(let _=0;_<u.length;_++){let N=u[_];if(p===0){if(N===i&&(r||u.slice(_,_+a)===e)){h.push(u.slice(g,_)),g=_+a;continue}if(N==="/"){v=_;continue}}N==="["?p++:N==="]"&&p--}const w=h.length===0?u:u.substring(g),k=w.startsWith(O_),E=k?w.substring(1):w,x=v&&v>g?v-g:void 0;return{modifiers:h,hasImportantModifier:k,baseClassName:E,maybePostfixModifierPosition:x}};return n?u=>n({className:u,parseClassName:l}):l},ZO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},YO=t=>({cache:QO(t.cacheSize),parseClassName:JO(t),...WO(t)}),XO=/\s+/,e2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=t.trim().split(XO);let u="";for(let h=l.length-1;h>=0;h-=1){const p=l[h],{modifiers:g,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:k}=n(p);let E=!!k,x=r(E?w.substring(0,k):w);if(!x){if(!E){u=p+(u.length>0?" "+u:u);continue}if(x=r(w),!x){u=p+(u.length>0?" "+u:u);continue}E=!1}const _=ZO(g).join(":"),N=v?_+O_:_,C=N+x;if(a.includes(C))continue;a.push(C);const T=i(x,E);for(let I=0;I<T.length;++I){const U=T[I];a.push(N+U)}u=p+(u.length>0?" "+u:u)}return u};function t2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=D_(e))&&(r&&(r+=" "),r+=n);return r}const D_=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=D_(t[r]))&&(n&&(n+=" "),n+=e);return n};function n2(t,...e){let n,r,i,a=l;function l(h){const p=e.reduce((g,v)=>v(g),t());return n=YO(p),r=n.cache.get,i=n.cache.set,a=u,u(h)}function u(h){const p=r(h);if(p)return p;const g=e2(h,n);return i(h,g),g}return function(){return a(t2.apply(null,arguments))}}const pt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},M_=/^\[(?:([a-z-]+):)?(.+)\]$/i,r2=/^\d+\/\d+$/,s2=new Set(["px","full","screen"]),i2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,o2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,a2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,l2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,c2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ir=t=>Io(t)||s2.has(t)||r2.test(t),ms=t=>Ko(t,"length",y2),Io=t=>!!t&&!Number.isNaN(Number(t)),bh=t=>Ko(t,"number",Io),Oa=t=>!!t&&Number.isInteger(Number(t)),u2=t=>t.endsWith("%")&&Io(t.slice(0,-1)),Ve=t=>M_.test(t),gs=t=>i2.test(t),d2=new Set(["length","size","percentage"]),f2=t=>Ko(t,d2,L_),h2=t=>Ko(t,"position",L_),p2=new Set(["image","url"]),m2=t=>Ko(t,p2,w2),g2=t=>Ko(t,"",v2),Da=()=>!0,Ko=(t,e,n)=>{const r=M_.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},y2=t=>o2.test(t)&&!a2.test(t),L_=()=>!1,v2=t=>l2.test(t),w2=t=>c2.test(t),x2=()=>{const t=pt("colors"),e=pt("spacing"),n=pt("blur"),r=pt("brightness"),i=pt("borderColor"),a=pt("borderRadius"),l=pt("borderSpacing"),u=pt("borderWidth"),h=pt("contrast"),p=pt("grayscale"),g=pt("hueRotate"),v=pt("invert"),w=pt("gap"),k=pt("gradientColorStops"),E=pt("gradientColorStopPositions"),x=pt("inset"),_=pt("margin"),N=pt("opacity"),C=pt("padding"),T=pt("saturate"),I=pt("scale"),U=pt("sepia"),L=pt("skew"),D=pt("space"),z=pt("translate"),Q=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",Ve,e],J=()=>[Ve,e],se=()=>["",Ir,ms],X=()=>["auto",Io,Ve],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Ve],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[Io,Ve];return{cacheSize:500,separator:":",theme:{colors:[Da],spacing:[Ir,ms],blur:["none","",gs,Ve],brightness:A(),borderColor:[t],borderRadius:["none","","full",gs,Ve],borderSpacing:J(),borderWidth:se(),contrast:A(),grayscale:K(),hueRotate:A(),invert:K(),gap:J(),gradientColorStops:[t],gradientColorStopPositions:[u2,ms],inset:re(),margin:re(),opacity:A(),padding:J(),saturate:A(),scale:A(),sepia:K(),skew:A(),space:J(),translate:J()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[gs]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),Ve]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oa,Ve]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Oa,Ve]}],"grid-cols":[{"grid-cols":[Da]}],"col-start-end":[{col:["auto",{span:["full",Oa,Ve]},Ve]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[Da]}],"row-start-end":[{row:["auto",{span:[Oa,Ve]},Ve]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[gs]},gs]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",gs,ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bh]}],"font-family":[{font:[Da]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",Io,bh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ir,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ir,ms]}],"underline-offset":[{"underline-offset":["auto",Ir,Ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),h2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",f2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},m2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:ie()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[Ir,Ve]}],"outline-w":[{outline:[Ir,ms]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Ir,ms]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",gs,g2]}],"shadow-color":[{shadow:[Da]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",gs,Ve]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[v]}],saturate:[{saturate:[T]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Oa,Ve]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ir,ms,bh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},b2=n2(x2);function rt(...t){return b2(I_(t))}const Ps=t=>{if(Array.isArray(t))return t;if(t&&typeof t=="object"){const e=t.data;if(Array.isArray(e))return e}return[]},si=t=>(t??"").toString(),mx=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function _2(t){const e=typeof t=="number"?t:typeof t=="string"?Number(t):0;return Number.isFinite(e)?mx.format(e):mx.format(0)}const S2=R_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-lg hover:shadow-xl hover:bg-primary/95 active:bg-primary/85",destructive:"bg-destructive text-destructive-foreground shadow-lg hover:shadow-xl hover:bg-destructive/95 active:bg-destructive/85",outline:"border-2 border-primary text-primary bg-transparent hover:bg-primary/10 active:bg-primary/20",secondary:"bg-secondary/20 text-secondary border border-secondary hover:bg-secondary/30 active:bg-secondary/40",ghost:"text-foreground hover:bg-muted/40 active:bg-muted/60",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 text-sm",sm:"h-9 rounded-lg px-3 text-xs",lg:"h-11 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ke=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const l=r?UO:"button";return d.jsx(l,{className:rt(S2({variant:e,size:n,className:t})),ref:a,...i})});Ke.displayName="Button";const et=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:rt("min-w-0 rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));et.displayName="Card";const Sn=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:rt("flex min-w-0 flex-col space-y-1.5 p-6",t),...e}));Sn.displayName="CardHeader";const kn=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:rt("min-w-0 break-keep whitespace-normal text-2xl font-semibold leading-none tracking-tight",t),...e}));kn.displayName="CardTitle";const k2=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:rt("text-sm text-muted-foreground",t),...e}));k2.displayName="CardDescription";const tt=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:rt("min-w-0 p-6 pt-0",t),...e}));tt.displayName="CardContent";const U_=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:rt("flex min-w-0 items-center p-6 pt-0",t),...e}));U_.displayName="CardFooter";async function E2(){const t=await fetch("https://api.coingecko.com/api/v3/global",{method:"GET"});if(!t.ok)throw new Error(`CG ${t.status}`);const n=(await t.json())?.data?.market_cap_percentage?.btc;if(typeof n!="number")throw new Error("CG bad payload");return n}function C2(){return pn({queryKey:["btcDominance"],queryFn:E2,staleTime:300*1e3,gcTime:1440*60*1e3,refetchOnWindowFocus:!1})}const N2=t=>Number.isFinite(t)?`${t.toFixed(2)}%`:"",T2={"--neon-glow":"hsl(45, 92%, 60%)"};function j2(){const{data:t,isLoading:e,isError:n}=C2(),r=xr();b.useEffect(()=>{if(typeof window>"u")return;const u=()=>{r.invalidateQueries({queryKey:["btcDominance"]})};return window.addEventListener("dashboard:refresh",u),()=>{window.removeEventListener("dashboard:refresh",u)}},[r]);const i=typeof t=="number"&&Number.isFinite(t),a=n||!i?"":N2(t),l=n?"Unavailable":"Share of total crypto market cap";return d.jsxs(et,{className:"dashboard-card neon-hover bg-gradient-to-br from-amber-400/5 to-amber-500/10 flex flex-col",style:T2,children:[d.jsx(tt,{className:"p-6 flex-1 flex flex-col justify-between gap-3",children:d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-foreground",children:"BTC Dominance"}),d.jsx("p",{className:"text-3xl font-bold text-foreground mt-2",children:e?"":a}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:l})]})}),d.jsx(U_,{className:"pt-0 px-6 pb-6",children:d.jsx("span",{className:"text-xs opacity-70",children:"Source: CoinGecko"})})]})}const ii=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),gx=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function yx(t){if(typeof t=="number")return Number.isFinite(t)?t:null;if(typeof t=="string"&&t.trim()!==""){const e=Number(t);return Number.isFinite(e)?e:null}return null}function P2(){const{user:t}=Hr(),n=mm()===!0,[r,i]=b.useState(null),a=t?.displayName?.trim()??t?.email??"Trader",l=a.split(" ")[0]||a,u=r||l;b.useEffect(()=>{async function K(){if(t)try{const{data:G}=await Dn.from("profiles").select("username").eq("id",t.id).maybeSingle();G?.username&&i(G.username)}catch{console.log("Could not load profile username")}}K()},[t]);const[h,p]=b.useState({}),[g,v]=b.useState({}),[w,k]=b.useState({}),{data:E}=pn({queryKey:["/api/market/ticker/BTCUSDT"],queryFn:wo({on401:"throw"}),refetchInterval:1e4,enabled:n}),{data:x}=pn({queryKey:["/api/market/ticker/ETHUSDT"],queryFn:wo({on401:"throw"}),refetchInterval:1e4,enabled:n});b.useEffect(()=>{E?.priceChangePercent!=null&&v({priceChangePercent:E.priceChangePercent}),E?.price!=null&&p(K=>({...K,BTCUSDT:Number(E.price)||K.BTCUSDT}))},[E]),b.useEffect(()=>{x?.priceChangePercent!=null&&k({priceChangePercent:x.priceChangePercent}),x?.price!=null&&p(K=>({...K,ETHUSDT:Number(x.price)||K.ETHUSDT}))},[x]),b.useEffect(()=>{if(!n||typeof window>"u")return;const K=apiBase.replace(/^http/,"ws").replace(/\/$/,"")+"/ws",G=new WebSocket(K);return G.onmessage=A=>{try{const q=JSON.parse(A.data);q.type==="price_update"&&p(q.data)}catch{}},G.onopen=()=>{G.send(JSON.stringify({type:"subscribe",symbol:"BTCUSDT"})),G.send(JSON.stringify({type:"subscribe",symbol:"ETHUSDT"}))},()=>G.close()},[n]);const{data:_=[]}=gm({enabled:n&&!!t}),{setPrices:N}=rm(),{market:C,pnlPct:T}=T_(),I=b.useMemo(()=>Array.from(new Set(_.map(K=>K.symbol.trim().toUpperCase()).filter(Boolean))),[_]),U=I.join("|");b.useEffect(()=>{if(!I.length||!n||typeof window>"u")return;const K=apiBase.replace(/^http/,"ws").replace(/\/$/,"")+"/ws";let G=null;try{G=new WebSocket(K)}catch{return}return G.onopen=()=>{I.forEach(A=>{try{G?.send(JSON.stringify({type:"subscribe",symbol:A}))}catch{}})},G.onmessage=A=>{try{const q=JSON.parse(A.data);if(q?.type==="price_update"&&q?.data&&typeof q.data=="object"){const ye={};for(const[ve,Ne]of Object.entries(q.data)){const Te=Number(Ne);Number.isFinite(Te)&&(ye[String(ve).toUpperCase()]=Te)}Object.keys(ye).length>0&&N(ye)}}catch{}},()=>{if(G){G.onopen=null,G.onmessage=null;try{G.close()}catch{}}}},[n,N,I,U]);const L=Number.isFinite(C)?C:0,D=Number.isFinite(T)?T:0,{data:z}=pn({queryKey:["/api/market/gainers"],queryFn:wo({on401:"returnNull"}),select:K=>{if(!Array.isArray(K))return{top:null,ts:Date.now()};const G=K.map(A=>{const q=(A.symbol||A.pair||A.ticker||"").toString().toUpperCase(),ye=yx(A.change24h)??yx(A.priceChangePercent);return!q||ye===null?null:{symbol:q,pct:ye}}).filter(Boolean);return G.sort((A,q)=>q.pct-A.pct),{top:G.slice(0,3),ts:Date.now()}},refetchInterval:3e5,enabled:n}),{data:Q}=pn({queryKey:["/api/watchlist",!!t],queryFn:wo({on401:"returnNull"}),select:K=>Array.isArray(K)?K.length:null,refetchInterval:3e5,enabled:n&&!!t}),{data:V}=pn({queryKey:["/api/ai/market-overview"],queryFn:wo({on401:"returnNull"}),select:K=>{if(!K)return null;const G=Array.isArray(K.keyInsights)?K.keyInsights.filter(q=>typeof q=="string"&&q.trim()!==""):null;if(G&&G.length>0)return G.length;const A=Array.isArray(K.tradingRecommendations)?K.tradingRecommendations.filter(q=>typeof q=="string"&&q.trim()!==""):null;return A&&A.length>0?A.length:null},refetchInterval:12e4,enabled:n}),re=`$${ii.format(L)}`,J=`${D>=0?"+":""}${ii.format(D)}%`,se=D>=0?"text-accent":"text-destructive",X=z?.top??null,de=!X||X.length===0?"":X.map(K=>`${K.symbol} ${K.pct>=0?"+":""}${ii.format(K.pct)}%`).join("  "),ie=z?.ts?new Date(z.ts).toLocaleTimeString():"",ue=Q==null||Number.isNaN(Q)?"":gx.format(Q),H=V==null||Number.isNaN(V)?"":gx.format(V);return d.jsx("div",{className:"flex-1 overflow-hidden",children:d.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[d.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-4 sm:mb-6 md:mb-8",children:d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-foreground break-words",children:["Welcome back, ",u,"!"]}),d.jsx("p",{className:"text-xs sm:text-sm md:text-base text-muted-foreground mt-1",children:"Your trading dashboard is ready. Let's make some profitable trades today."})]})}),d.jsxs("div",{className:"grid items-stretch grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-2 sm:gap-3 md:gap-4 mb-4 sm:mb-6 md:mb-8",children:[d.jsx(yt,{to:"/portfolio",className:"block h-full",children:d.jsx(et,{className:"dashboard-card neon-hover bg-gradient-to-br from-primary/5 to-primary/10 h-auto sm:h-full",style:{"--neon-glow":"hsl(195, 100%, 60%)"},children:d.jsx(tt,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start",children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm mb-0.5",children:"Portfolio"}),d.jsx("p",{className:"text-base sm:text-lg md:text-2xl font-bold text-foreground truncate","data-testid":"text-portfolio-value",children:re}),d.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[d.jsx(Ur,{className:`w-3 h-3 ${se}`}),d.jsx("span",{className:`text-xs ${se}`,"data-testid":"text-portfolio-change",children:J})]})]}),d.jsx(pm,{className:"w-6 sm:w-8 h-6 sm:h-8 text-primary flex-shrink-0"})]})})})}),d.jsx(yt,{to:"/analyse/BTCUSDT",className:"block h-full",children:d.jsx(et,{className:"dashboard-card neon-hover bg-gradient-to-br from-accent/5 to-accent/10 h-auto sm:h-full",style:{"--neon-glow":"hsl(158, 100%, 50%)"},children:d.jsx(tt,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start",children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm mb-0.5",children:"Scanner"}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Technical analysis"}),d.jsx("p",{className:"text-sm sm:text-lg font-bold text-foreground mt-0.5",children:"15+"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Indicators"})]}),d.jsx(ul,{className:"w-6 sm:w-8 h-6 sm:h-8 text-accent flex-shrink-0"})]})})})}),d.jsx(yt,{to:"/gainers",className:"block h-full",children:d.jsx(et,{className:"dashboard-card neon-hover bg-gradient-to-br from-green-500/5 to-green-500/10 h-auto sm:h-full",style:{"--neon-glow":"hsl(142, 70%, 50%)"},children:d.jsx(tt,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start",children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm mb-0.5",children:"Top Gainers"}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Market leaders"}),d.jsx("p",{className:"text-xs font-semibold text-foreground mt-0.5 truncate",children:de}),d.jsx("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:"24h change"}),d.jsxs("p",{className:"text-[8px] text-muted-foreground mt-0.5 truncate",children:["Last updated ",ie]})]}),d.jsx(YA,{className:"w-6 sm:w-8 h-6 sm:h-8 text-accent flex-shrink-0"})]})})})}),d.jsx(yt,{to:"/portfolio",className:"block h-full",children:d.jsx(et,{className:"dashboard-card neon-hover bg-gradient-to-br from-emerald-500/5 to-emerald-500/10 h-auto sm:h-full",style:{"--neon-glow":"hsl(158, 100%, 50%)"},children:d.jsx(tt,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start",children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm mb-0.5",children:"Total P&L"}),d.jsx("p",{className:`text-base sm:text-lg md:text-2xl font-bold ${se} truncate`,"data-testid":"text-total-pnl-percent",children:J}),d.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Overall performance"})]}),d.jsx(fm,{className:"w-6 sm:w-8 h-6 sm:h-8 text-emerald-600 flex-shrink-0"})]})})})}),d.jsx(yt,{to:"/watchlist",className:"block h-full",children:d.jsx(et,{className:"dashboard-card neon-hover bg-gradient-to-br from-blue-500/5 to-blue-500/10 h-auto sm:h-full","data-testid":"card-watchlist",style:{"--neon-glow":"hsl(220, 100%, 60%)"},children:d.jsx(tt,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start",children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm mb-0.5",children:"Watchlist"}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Track favorites"}),d.jsx("p",{className:"text-sm sm:text-lg font-bold text-foreground mt-0.5",children:ue}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Coins tracked"})]}),d.jsx(__,{className:"w-6 sm:w-8 h-6 sm:h-8 text-blue-500 flex-shrink-0"})]})})})}),d.jsx(yt,{to:"/alerts",className:"block h-full",children:d.jsx(et,{className:"dashboard-card neon-hover bg-gradient-to-br from-orange-500/5 to-orange-500/10 h-auto sm:h-full","data-testid":"card-alerts",style:{"--neon-glow":"hsl(25, 100%, 55%)"},children:d.jsx(tt,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start",children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm mb-0.5",children:"Smart Alerts"}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Price notifications"}),d.jsx("p",{className:"text-sm sm:text-lg font-bold text-foreground mt-0.5",children:Q?Math.min(Q,3):0}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Active alerts"})]}),d.jsx(hm,{className:"w-6 sm:w-8 h-6 sm:h-8 text-orange-500 flex-shrink-0"})]})})})}),d.jsx(yt,{to:"/ai-insights",className:"block h-full",children:d.jsx(et,{className:"dashboard-card neon-hover bg-gradient-to-br from-indigo-500/5 to-indigo-500/10 h-auto sm:h-full",style:{"--neon-glow":"hsl(240, 100%, 70%)"},children:d.jsx(tt,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start",children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"font-semibold text-foreground text-xs sm:text-sm mb-0.5",children:"AI Signals"}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Market analysis"}),d.jsx("p",{className:"text-sm sm:text-lg font-bold text-foreground mt-0.5","data-testid":"text-ai-signals",children:H}),d.jsx("p",{className:"text-xs text-accent",children:"Active insights"})]}),d.jsx(Po,{className:"w-6 sm:w-8 h-6 sm:h-8 text-indigo-500 flex-shrink-0"})]})})})}),d.jsx(j2,{}),d.jsx(yt,{to:"/news",className:"block h-full xl:col-span-2",children:d.jsx(et,{className:"dashboard-card neon-hover h-auto sm:h-full",style:{"--neon-glow":"hsl(195, 100%, 60%)"},children:d.jsxs(tt,{className:"p-2 sm:p-3 md:p-4 lg:p-6 flex flex-col justify-start space-y-1 sm:space-y-2 md:space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"News & Insights"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Curated market headlines and analyst takes to keep you ahead of the next move."})]}),d.jsx(S_,{className:"w-8 h-8 text-primary"})]}),d.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[d.jsxs("p",{className:"flex items-center justify-between text-foreground",children:[d.jsx("span",{className:"font-medium",children:"Morning Brief"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Updated 10 min ago"})]}),d.jsx("p",{children:"US equities rally as inflation cools; crypto follows with strong altcoin bids."}),d.jsx("p",{className:"text-xs text-primary mt-2 font-medium",children:"Click to read latest "})]})]})})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 md:gap-4 lg:gap-6",children:[d.jsxs(et,{className:"border-border",children:[d.jsx(Sn,{children:d.jsxs(kn,{className:"flex min-w-0 items-center space-x-2",children:[d.jsx(Ur,{className:"w-5 h-5 text-primary"}),d.jsx("span",{className:"min-w-0 overflow-hidden text-ellipsis whitespace-nowrap",children:"Market Overview"})]})}),d.jsxs(tt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"BTC/USDT"}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"font-semibold","data-testid":"text-btc-price",children:["$",ii.format(h.BTCUSDT||0)]}),d.jsxs("p",{className:`text-sm ${parseFloat(String(g?.priceChangePercent||"0"))>=0?"text-accent":"text-destructive"}`,"data-testid":"text-btc-change",children:[parseFloat(String(g?.priceChangePercent||"0"))>=0?"+":"",ii.format(parseFloat(String(g?.priceChangePercent||"0"))),"%"]})]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"ETH/USDT"}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"font-semibold","data-testid":"text-eth-price",children:["$",ii.format(h.ETHUSDT||0)]}),d.jsxs("p",{className:`text-sm ${parseFloat(String(w?.priceChangePercent||"0"))>=0?"text-accent":"text-destructive"}`,"data-testid":"text-eth-change",children:[parseFloat(String(w?.priceChangePercent||"0"))>=0?"+":"",ii.format(parseFloat(String(w?.priceChangePercent||"0"))),"%"]})]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Market Fear & Greed"}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-semibold","data-testid":"text-fear-greed",children:"--"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Index"})]})]}),d.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2",children:[d.jsx(Ke,{asChild:!0,size:"sm",className:"min-h-[44px]","data-testid":"button-view-portfolio",children:d.jsx(yt,{to:"/portfolio",children:"View Portfolio"})}),d.jsx(Ke,{asChild:!0,size:"sm",variant:"outline",className:"min-h-[44px]","data-testid":"button-start-scanning",children:d.jsx(yt,{to:"/analyse/BTCUSDT",children:"Start Scanning"})})]})]})]}),d.jsxs(et,{className:"border-border",children:[d.jsx(Sn,{children:d.jsxs(kn,{className:"flex min-w-0 items-center space-x-2",children:[d.jsx(Po,{className:"w-5 h-5 text-purple-500"}),d.jsx("span",{className:"min-w-0 overflow-hidden text-ellipsis whitespace-nowrap",children:"AI Trading Assistant"})]})}),d.jsxs(tt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 text-accent rounded-full"}),d.jsx("span",{className:"text-sm text-foreground",children:"Market sentiment: Bullish"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),d.jsx("span",{className:"text-sm text-foreground",children:"Technical signals detected"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),d.jsx("span",{className:"text-sm text-foreground",children:"Risk level: Moderate"})]}),d.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground italic",children:'"Bitcoin showing strong support at $40k level. Consider DCA strategy for next 24h."'}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"AI Insight  2 min ago"})]})]})]}),d.jsxs(et,{className:"border-border",children:[d.jsx(Sn,{children:d.jsx(kn,{children:"Trading Features"})}),d.jsxs(tt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-accent rounded-full"}),d.jsx("span",{className:"text-sm text-foreground",children:"Real-time market data from Binance"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),d.jsx("span",{className:"text-sm text-foreground",children:"15+ Technical indicators"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),d.jsx("span",{className:"text-sm text-foreground",children:"AI-powered analysis"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 text-accent rounded-full"}),d.jsx("span",{className:"text-sm text-foreground",children:"Smart alert system"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),d.jsx("span",{className:"text-sm text-foreground",children:"Portfolio P&L tracking"})]})]})]})]})]})})}const I2=R_("inline-flex max-w-full items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 min-w-0 overflow-hidden text-ellipsis",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xn({className:t,variant:e,...n}){return d.jsx("div",{className:rt(I2({variant:e}),t),...n})}function R2(t){return Array.isArray(t)?t:t?[t]:[]}function F_(t,e={}){const n=R2(t).filter(Boolean);if(n.length===0)throw new Error("openSpotTickerStream requires at least one symbol");const r=typeof e=="function"?{onMessage:e}:e,i=r.onMessage,l=`wss://stream.binance.com:9443/stream?streams=${n.map(E=>`${E.toLowerCase()}@ticker`).join("/")}`;let u=null,h=null,p=0,g=!1;const v=r.maxReconnects??1/0,w=()=>{h&&(clearTimeout(h),h=null)},k=()=>{g||(w(),u=new WebSocket(l),u.onopen=E=>{p=0,r.onOpen?.(E)},u.onmessage=E=>{try{const x=JSON.parse(E.data),_=x&&x.data||x;if(!_)return;i?.({symbol:_.s,lastPrice:_.c,priceChange:_.p,priceChangePercent:_.P,highPrice:_.h,lowPrice:_.l,volume:_.v,quoteVolume:_.q})}catch(x){r.onError?.(x instanceof Error?x:new Error("Failed to parse ticker message"))}},u.onerror=E=>{r.onError?.(E)},u.onclose=E=>{if(r.onClose?.(E),g||p>=v)return;const x=p+1,_=Math.min(3e4,1e3*Math.pow(2,Math.min(x,5)));h=setTimeout(()=>{p=x,k()},_)})};return k(),()=>{if(g=!0,w(),u){u.onopen=null,u.onmessage=null,u.onerror=null,u.onclose=null;try{u.close(1e3,"normal")}catch{}}u=null}}function _h(t){const e=parseFloat(t||"0");return Number.isNaN(e)?"$0.00":e>=1e3?`$${e.toLocaleString(void 0,{maximumFractionDigits:2})}`:e>=1?`$${e.toFixed(4)}`:`$${e.toFixed(8)}`}function A2(t){const e=parseFloat(t||"0");return Number.isNaN(e)?"$0.00":e>=1e9?`$${(e/1e9).toFixed(2)}B`:e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${(e/1e3).toFixed(2)}K`:`$${e.toFixed(2)}`}function O2({symbols:t=["BTCUSDT","ETHUSDT"]}){const[e,n]=b.useState({});b.useEffect(()=>F_(t,{onMessage:a=>{n(l=>({...l,[a.symbol]:a}))}}),[t.join("|")]);const r=b.useMemo(()=>t.map(i=>{const a=e[i],l=parseFloat(a?.priceChangePercent??"0"),u=l>0;return d.jsx(et,{children:d.jsxs(tt,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:i.replace("USDT","/USDT")}),d.jsx(Xn,{className:u?"bg-green-600 text-white":"bg-red-600 text-white",children:u?"BULLISH":"BEARISH"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Price"}),d.jsx("p",{className:"text-lg font-bold text-foreground",children:_h(a?.lastPrice)})]}),d.jsx(fp,{className:"w-5 h-5 text-primary"})]}),d.jsx("div",{className:"flex items-center justify-between mt-2",children:d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"24h Change"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`text-lg font-bold ${u?"text-accent":"text-destructive"}`,children:`${l>0?"+":""}${l.toFixed(2)}%`}),u?d.jsx(Ur,{className:"w-5 h-5 text-accent"}):d.jsx(mp,{className:"w-5 h-5 text-destructive"})]})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"24h Volume"}),d.jsx("span",{className:"text-sm font-medium text-foreground",children:A2(a?.quoteVolume)}),d.jsx(mO,{className:"w-4 h-4 text-secondary ml-2"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"High / Low"}),d.jsxs("span",{className:"text-xs font-medium text-foreground",children:[_h(a?.highPrice)," / ",_h(a?.lowPrice)]}),d.jsx(pp,{className:"w-4 h-4 text-accent ml-2"})]})]})]})},i)}),[t,e]);return d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r})}function $_(){if(!(typeof window>"u"))try{window.dispatchEvent(new StorageEvent("storage",{key:"portfolio.refresh"}))}catch{}}function D2(){const{user:t}=Hr(),e=t?.uid??null,n=Zu(),r=e??n,i=xr(),a=kl(r);return vu({mutationFn:async l=>{if(!r)throw new Error("You need to be signed in to manage portfolio positions.");return await BP(r,l)},onSuccess:()=>{i.invalidateQueries({queryKey:a}),$_()}})}function M2(){const{user:t}=Hr(),e=t?.uid??null,n=Zu(),r=e??n,i=xr(),a=kl(r);return vu({mutationFn:async l=>{if(!r)throw new Error("You need to be signed in to manage portfolio positions.");await VP(l)},onSuccess:()=>{i.invalidateQueries({queryKey:a}),$_()}})}function vm(){const{user:t}=$s(),[e,n]=Wr(),r=EI();function i(a){if(!t){r.error("Sign in to unlock this feature",2200);const l=a||e,u=l?`?redirect=${encodeURIComponent(l)}`:"";return n(`/account${u}`),!0}return!1}return{requireLogin:i,user:t}}function L2(){const{user:t}=Hr(),{user:e,loading:n}=$s(),{requireLogin:r}=vm(),[,i]=Wr(),l=mm()===!0,u=xr(),h=t?.uid??null,p=e?.id??null,g=p??h,v=b.useMemo(()=>kl(g??null),[g]),{data:w=[],isLoading:k,isFetching:E,isError:x,error:_}=gm({enabled:l&&(!!e||!!t)}),{prices:N,setPrices:C,getPrice:T,reset:I}=rm(),{market:U,pnl:L,pnlPct:D,cost:z}=T_(),Q=b.useMemo(()=>w.map(R=>({id:R.id,symbol:R.symbol,qty:Number(R.quantity),avgPrice:Number(R.entryPrice),livePrice:Number(R.entryPrice),pnl:0})),[w]),V=(k||E)&&Q.length===0,re=x&&Q.length===0,J=_ instanceof Error?_.message:"Failed to load portfolio positions",se=Q.length>0&&(!l||x);b.useEffect(()=>{x&&_&&console.error("Failed to load portfolio positions",_)},[x,_]);const X=b.useCallback(async()=>{await u.invalidateQueries({queryKey:v})},[v,u]),de=b.useCallback(R=>{const $=Number(R.qty),Y=Number(R.entry_price);return{id:R.id,symbol:R.symbol?.toUpperCase?.()??"",quantity:Number.isFinite($)?$:0,entryPrice:Number.isFinite(Y)?Y:0,notes:R.note??null,createdAt:R.created_at,updatedAt:R.updated_at??R.created_at}},[]),ie=b.useCallback(async()=>{if(p)try{const $=(await N_()).map(de);u.setQueryData(v,$)}catch(R){console.error("Failed to reload Supabase positions",R),await X()}},[de,p,u,v,X]),ue=b.useCallback(async()=>{I(),await Promise.all([X(),u.invalidateQueries({queryKey:["prices"]})])},[u,X,I]),H=b.useMemo(()=>Array.from(new Set(Q.map(R=>R.symbol.trim().toUpperCase()).filter(Boolean))),[Q]),K=H.join("|");b.useEffect(()=>{if(!H.length||!l||typeof window>"u")return;const $=window.location.origin.replace(/^http/,"ws").replace(/\/$/,"")+"/ws";let Y=null;try{Y=new WebSocket($)}catch{return}return Y.onopen=()=>{H.forEach(ne=>{try{Y?.send(JSON.stringify({type:"subscribe",symbol:ne}))}catch{}})},Y.onmessage=ne=>{try{const Z=JSON.parse(ne.data);if(Z?.type==="price_update"&&Z?.data&&typeof Z.data=="object"){const fe={};for(const[$e,Ge]of Object.entries(Z.data)){const me=String($e).toUpperCase(),ke=Number(Ge);Number.isFinite(ke)&&(fe[me]=ke)}Object.keys(fe).length>0&&C(fe)}}catch{}},()=>{if(Y){Y.onopen=null,Y.onmessage=null;try{Y.close()}catch{}}}},[l,C,H,K]);const G=b.useCallback((R,$)=>{const Y=R.toUpperCase(),ne=N[Y];if(Number.isFinite(ne))return ne;const Z=T(R);return typeof Z=="number"&&Number.isFinite(Z)?Z:$},[T,N]),{data:A}=pn({queryKey:["/api/ai/market-overview"],refetchInterval:12e4,queryFn:async()=>{const R=await Us("/api/ai/market-overview");if(!R.ok)throw new Error(await R.text().catch(()=>"Failed to load AI overview"));return R.json()},enabled:l}),[q,ye]=b.useState(!1),[ve,Ne]=b.useState({symbol:"",qty:"",avgPrice:""}),[Te,ce]=b.useState(null),we=b.useMemo(()=>{const R=ve.symbol.trim().toUpperCase(),$=Number(ve.qty),Y=Number(ve.avgPrice);return R.length>=2&&Number.isFinite($)&&$>0&&Number.isFinite(Y)&&Y>0},[ve]),Re=D2(),Ae=M2(),[Oe,Be]=b.useState(!1),Ye=()=>{r("/portfolio")||(Ne({symbol:"",qty:"",avgPrice:""}),ce(null),ye(!0))},xt=()=>{Oe||(ye(!1),ce(null))};b.useEffect(()=>{if(!q)return;const R=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=R}},[q]);async function Et(){if(!we||Oe)return;if(!e){ce("Please sign in to add a position.");return}ce(null);const R=ve.symbol.trim().toUpperCase(),$=Number(ve.qty),Y=Number(ve.avgPrice);Be(!0);let ne=null,Z=null;try{await IO(e.id,R,$,Y),await ie(),ne="supabase"}catch(fe){Z=fe,console.error("Add position via Supabase failed:",fe);try{await Re.mutateAsync({symbol:R,quantity:$,entryPrice:Y}),ne="fallback"}catch($e){Z=$e,console.error("Fallback add position failed:",$e)}}if(ne)await X(),ye(!1),Ne({symbol:"",qty:"",avgPrice:""}),ce(null);else{const fe=Z instanceof Error?Z.message:"Failed to add position";ce(fe)}Be(!1)}async function mn(R){if(!e)return;let $=null;try{await RO(R.id),await ie();return}catch(Y){$=Y,console.error("Delete via Supabase failed:",Y)}try{await Ae.mutateAsync(R.id)}catch(Y){console.error("Fallback delete failed:",Y);const ne=Y instanceof Error?Y.message:$ instanceof Error?$.message:"Failed to delete position";alert(ne)}}function Ut(R){i(`/analyse/${encodeURIComponent(R)}`)}const Ln="dashboard-card neon-hover !min-h-[64px]",rn={minHeight:64},P="!p-2 h-[64px] min-h-0 flex items-center justify-between";return d.jsxs("div",{className:"flex-1 overflow-hidden",children:[d.jsxs("div",{className:"p-4 sm:p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground break-words",children:"Your Portfolio"}),d.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Positions, P&L, and live performance."})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsxs(Ke,{variant:"outline",size:"sm",onClick:ue,className:"min-h-[44px]",children:[d.jsx(Xu,{className:`w-4 h-4 sm:mr-2 ${E?"animate-spin":""}`}),d.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),d.jsxs(Ke,{size:"sm",onClick:Ye,className:"min-h-[44px]",children:[d.jsx(vh,{className:"w-4 h-4 sm:mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"Add Position"})]})]})]}),!n&&!e&&d.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Please sign in at /account"}),se&&d.jsx("div",{className:"mb-4 rounded-md border border-amber-500/40 bg-amber-500/10 px-4 py-3 text-sm text-amber-100",children:"You're viewing cached positions. Changes will sync once the connection is restored."}),d.jsx("div",{className:"mb-6 hidden sm:block",children:d.jsx(O2,{symbols:["BTCUSDT","ETHUSDT"]})}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3 sm:gap-4 mb-6",children:[d.jsx(et,{className:`${Ln} bg-gradient-to-br from-primary/5 to-primary/10`,style:rn,children:d.jsx(tt,{className:P,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ur,{className:"w-5 h-5 text-primary"}),d.jsxs("div",{className:"leading-tight",children:[d.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Current Value"}),d.jsxs("div",{className:"text-base font-bold text-foreground",children:["$",U.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})}),d.jsx(et,{className:`${Ln} bg-gradient-to-br from-blue-500/5 to-blue-500/10`,style:rn,children:d.jsx(tt,{className:P,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(rO,{className:"w-5 h-5 text-blue-500"}),d.jsxs("div",{className:"leading-tight",children:[d.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Position Value"}),d.jsxs("div",{className:"text-base font-bold text-foreground",children:["$",z.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})}),d.jsx(et,{className:`${Ln} bg-gradient-to-br from-emerald-500/5 to-emerald-500/10`,style:rn,children:d.jsx(tt,{className:P,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(fm,{className:"w-5 h-5 text-emerald-600"}),d.jsxs("div",{className:"leading-tight",children:[d.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Total P&L"}),d.jsxs("div",{className:`text-base font-bold ${L>=0?"text-accent":"text-destructive"}`,children:[L>=0?"+":"","$",L.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),d.jsxs("div",{className:`text-[11px] ${D>=0?"text-accent":"text-destructive"}`,children:[D>=0?"+":"",D.toFixed(2),"%"]})]})]})})}),d.jsx(et,{className:`${Ln} bg-gradient-to-br from-purple-500/5 to-purple-500/10`,style:rn,children:d.jsx(tt,{className:P,children:d.jsxs("div",{className:"leading-tight",children:[d.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Positions"}),d.jsx("div",{className:"text-base font-bold text-foreground",children:Q.length})]})})}),d.jsx(yt,{href:"/ai-insights",className:"block",children:d.jsx(et,{className:`${Ln} bg-gradient-to-br from-indigo-500/5 to-indigo-500/10 cursor-pointer`,style:rn,children:d.jsx(tt,{className:P,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Po,{className:"w-5 h-5 text-indigo-500"}),d.jsxs("div",{className:"leading-tight",children:[d.jsx("div",{className:"text-sm font-semibold text-foreground",children:"AI Insights"}),d.jsx("div",{className:"text-base font-bold text-foreground",children:A?.signals?.length??0})]})]})})})})]}),d.jsxs(et,{className:"border-border",children:[d.jsxs(Sn,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 p-4 sm:p-6",children:[d.jsx(kn,{children:"Holdings"}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsx(yt,{href:"/analyse/BTCUSDT",children:d.jsxs(Ke,{variant:"outline",size:"sm",className:"min-h-[44px]",children:[d.jsx(__,{className:"w-4 h-4 sm:mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"Scan Market"})]})}),d.jsxs(Ke,{size:"sm",onClick:Ye,className:"min-h-[44px]",children:[d.jsx(vh,{className:"w-4 h-4 sm:mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"Add Position"})]})]})]}),d.jsx(tt,{className:"p-0 sm:p-6",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm min-w-full sm:min-w-[800px]",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-muted-foreground border-b border-border",children:[d.jsx("th",{className:"text-left py-3 px-2 sm:px-4 whitespace-nowrap",children:"COIN"}),d.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"QTY"}),d.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"ENTRY"}),d.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"CURRENT"}),d.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"ORDER"}),d.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"P&L"}),d.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"%"}),d.jsx("th",{className:"text-right py-3 px-2 sm:px-4 whitespace-nowrap",children:"ACTIONS"})]})}),V?d.jsx("tbody",{children:d.jsx("tr",{children:d.jsx("td",{colSpan:8,className:"py-6 text-center text-muted-foreground",children:"Loading your portfolio"})})}):re?d.jsx("tbody",{children:d.jsx("tr",{children:d.jsx("td",{colSpan:8,className:"py-6 text-center text-red-400",children:J})})}):Q.length===0?d.jsx("tbody",{children:d.jsx("tr",{children:d.jsx("td",{colSpan:8,className:"py-6 text-center",children:d.jsxs("div",{className:"inline-flex flex-col items-center",children:[d.jsx("p",{className:"text-foreground font-medium",children:"No positions yet"}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add your first position to start tracking P&L."}),d.jsxs(Ke,{size:"sm",className:"mt-3",onClick:Ye,children:[d.jsx(vh,{className:"w-4 h-4 mr-2"}),"Add Position"]})]})})})}):d.jsx("tbody",{children:Q.map(R=>{const $=R.symbol.toUpperCase(),Y=G($,R.livePrice??R.avgPrice),ne=Number(R.qty)||0,Z=Number(R.avgPrice)||0,fe=Number.isFinite(Y)?Y:Z,$e=ne*Z,me=ne*fe-$e,ke=Z>0?(fe-Z)/Z*100:0,qe=me>=0?"text-accent":"text-destructive";return d.jsxs("tr",{className:"border-b border-border/50",children:[d.jsx("td",{className:"py-3 px-2 sm:px-4 font-medium text-foreground whitespace-nowrap",children:$}),d.jsx("td",{className:"py-3 px-2 sm:px-4 text-right whitespace-nowrap text-xs sm:text-sm",children:R.qty}),d.jsxs("td",{className:"py-3 px-2 sm:px-4 text-right whitespace-nowrap text-xs sm:text-sm",children:["$",R.avgPrice.toLocaleString("en-US",{maximumFractionDigits:6})]}),d.jsxs("td",{className:"py-3 px-2 sm:px-4 text-right whitespace-nowrap text-xs sm:text-sm",children:["$",Y.toLocaleString("en-US",{maximumFractionDigits:6})]}),d.jsx("td",{className:"py-3 px-2 sm:px-4 text-right whitespace-nowrap text-xs sm:text-sm",children:_2($e)}),d.jsxs("td",{className:`py-3 px-2 sm:px-4 text-right whitespace-nowrap text-xs sm:text-sm ${qe}`,children:[me>=0?"+":"-","$",Math.abs(me).toLocaleString("en-US",{maximumFractionDigits:2})]}),d.jsxs("td",{className:`py-3 px-2 sm:px-4 text-right whitespace-nowrap text-xs sm:text-sm ${qe}`,children:[ke>=0?"+":"-",Math.abs(ke).toFixed(2),"%"]}),d.jsx("td",{className:"py-3 px-2 sm:px-4 text-right whitespace-nowrap",children:d.jsxs("div",{className:"inline-flex items-center gap-1 sm:gap-2",children:[d.jsxs(Ke,{size:"sm",variant:"outline",onClick:()=>Ut($),title:"Scan",className:"hidden sm:inline-flex",children:[d.jsx(ul,{className:"w-4 h-4 mr-1"})," Scan"]}),d.jsx(Ke,{size:"sm",variant:"outline",onClick:()=>Ut($),title:"Scan",className:"inline-flex sm:hidden min-h-[36px]",children:d.jsx(ul,{className:"w-4 h-4"})}),e&&d.jsx(Ke,{size:"sm",variant:"destructive",onClick:()=>mn(R),title:"Delete",className:"min-h-[36px]",children:d.jsx(pO,{className:"w-4 h-4"})})]})})]},R.id)})})]})})})]})]}),q&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[d.jsx("div",{className:"absolute inset-0 bg-black/80",onClick:xt}),d.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-2xl border border-white/10 bg-[#0f1526] shadow-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-5 border-b border-white/10 flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Add Position"}),d.jsx("button",{className:"p-1 rounded-md hover:bg-white/5",onClick:xt,"aria-label":"Close",children:d.jsx(yO,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-5",children:[d.jsx("label",{className:"text-sm text-muted-foreground",children:"Symbol (e.g., BTCUSDT)"}),d.jsx("input",{className:"mt-1 w-full rounded-md bg-[#12182a] border border-white/10 px-3 py-2 text-foreground outline-none",placeholder:"BTCUSDT",value:ve.symbol,onChange:R=>Ne($=>({...$,symbol:R.target.value})),autoComplete:"off"}),d.jsx("label",{className:"text-sm text-muted-foreground mt-4 block",children:"Quantity"}),d.jsx("input",{type:"number",min:"0",step:"any",className:"mt-1 w-full rounded-md bg-[#12182a] border border-white/10 px-3 py-2 text-foreground outline-none",placeholder:"e.g., 0.5",value:ve.qty,onChange:R=>Ne($=>({...$,qty:R.target.value})),autoComplete:"off"}),d.jsx("label",{className:"text-sm text-muted-foreground mt-4 block",children:"Average Entry Price (USDT)"}),d.jsx("input",{type:"number",min:"0",step:"any",className:"mt-1 w-full rounded-md bg-[#12182a] border border-white/10 px-3 py-2 text-foreground outline-none",placeholder:"e.g., 42000",value:ve.avgPrice,onChange:R=>Ne($=>({...$,avgPrice:R.target.value})),autoComplete:"off"}),Te&&d.jsx("div",{className:"mt-4 rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-sm text-red-300",children:Te}),d.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[d.jsx(Ke,{variant:"outline",onClick:xt,disabled:Oe,children:"Cancel"}),d.jsx(Ke,{onClick:Et,disabled:!we||Oe,children:Oe?"Saving":"Add Position"})]}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:["Tip: Use Binance spot symbols like ",d.jsx("span",{className:"font-mono",children:"BTCUSDT"}),","," ",d.jsx("span",{className:"font-mono",children:"ETHUSDT"}),"."]})]})]})]})]})}function wm({className:t,...e}){return d.jsx("div",{className:rt("animate-pulse rounded-md bg-muted",t),...e})}function xm(t){t.startsWith("#/")?window.location.hash=t.slice(1):window.location.assign(t)}const B_=new Intl.NumberFormat("en-US",{notation:"compact"}),vx="gainers_data_cache",wx="gainers_data_timestamp",U2=1e6,F2=t=>/(UP|DOWN|BULL|BEAR|3L|3S)(USDT)?$/i.test(t),oi=t=>{const e=Number(t);return Number.isFinite(e)?e:0};function V_(t){return t===null?"":t===0?"$0":`$${(t>=1?t.toFixed(2):t.toFixed(6)).replace(/\.0+$/,"").replace(/(\.\d*?)0+$/,"$1")}`}function $2(){return d.jsxs("main",{className:"p-4 text-foreground",children:[d.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"All Top Gainers"}),d.jsx("div",{className:"rounded-xl border border-border bg-card",children:d.jsx("div",{className:"space-y-2 p-6",children:Array.from({length:8}).map((t,e)=>d.jsx(wm,{className:"h-12 w-full rounded-lg bg-muted"},e))})})]})}function B2({index:t,symbol:e,name:n,change24h:r,price:i,volume:a,onAnalyse:l}){const u=Number.isFinite(r)?r:0,h=u>=0,p=a===null?"":`$${B_.format(a)}`;return d.jsxs("tr",{className:"hidden border-t border-border md:table-row hover:bg-muted/30 transition-colors",children:[d.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-muted-foreground",children:t+1}),d.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-medium",children:e}),n&&n!==e?d.jsx("span",{className:"text-xs text-muted-foreground",children:n}):null]})}),d.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right font-semibold",children:V_(i)}),d.jsxs("td",{className:`whitespace-nowrap px-4 py-3 text-right font-semibold ${h?"text-accent":"text-destructive"}`,children:[h?"+":"",u.toFixed(2),"%"]}),d.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right text-muted-foreground",children:p}),d.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right",children:d.jsx("button",{type:"button",onClick:()=>l(e),className:"inline-block rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 active:bg-primary/80 px-3 py-2 font-medium transition-all",children:"Analyse"})})]})}function V2({index:t,symbol:e,name:n,change24h:r,price:i,volume:a,onAnalyse:l}){const u=Number.isFinite(r)?r:0,h=u>=0,p=a===null?"":`$${B_.format(a)}`;return d.jsxs("div",{className:"md:hidden flex flex-col gap-3 rounded-lg border border-border bg-card p-4 hover:bg-card/80 transition-colors",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-semibold text-foreground",children:e}),n&&n!==e?d.jsx("span",{className:"text-xs text-muted-foreground",children:n}):null]}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",t+1]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Price"}),d.jsx("p",{className:"font-semibold text-foreground",children:V_(i)})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"24h Change"}),d.jsxs("p",{className:`font-semibold ${h?"text-accent":"text-destructive"}`,children:[h?"+":"",u.toFixed(2),"%"]})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Volume"}),d.jsx("p",{className:"font-semibold text-muted-foreground",children:p})]})]}),d.jsx("button",{type:"button",onClick:()=>l(e),className:"w-full rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 active:bg-primary/80 px-4 py-3 font-medium transition-all",children:"Analyse"})]})}function z2(){const[t,e]=b.useState(null),[n,r]=b.useState(!0),[i,a]=b.useState(null),[l,u]=b.useState(null),[h,p]=b.useState(!1),{requireLogin:g}=vm(),v=x=>{g("/gainers")||xm(`#/analyse/${x}`)},w=x=>x.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),k=async(x=!1)=>{x?p(!0):r(!0),a(null);try{const[_,N]=await Promise.all([fetch("https://api.binance.com/api/v3/exchangeInfo"),fetch("https://api.binance.com/api/v3/ticker/24hr")]);if(!_.ok)throw new Error(`exchangeInfo HTTP ${_.status}`);if(!N.ok)throw new Error(`ticker24hr HTTP ${N.status}`);const C=await _.json(),T=await N.json(),I=new Set((C?.symbols??[]).filter(D=>D?.status==="TRADING"&&D?.quoteAsset==="USDT"&&(D?.isSpotTradingAllowed===!0||(D?.permissions??[]).includes("SPOT"))).map(D=>String(D?.symbol))),U=T.filter(D=>{const z=String(D?.symbol||"");return!I.has(z)||F2(z)?!1:oi(D?.quoteVolume)>=U2}).map(D=>({symbol:D.symbol,name:D.symbol,price:oi(D.lastPrice??D.prevClosePrice??D.weightedAvgPrice),change24h:oi(D.priceChangePercent),volumeUSDT:oi(D.quoteVolume)})).sort((D,z)=>z.change24h-D.change24h).slice(0,20);U.length===0&&a("No gainers matched the SPOT/USDT/$1M filters.");const L=new Date;e(U),u(L),localStorage.setItem(vx,JSON.stringify(U)),localStorage.setItem(wx,L.toISOString())}catch(_){a(_?.message||"Failed to load gainers.")}finally{r(!1),p(!1)}};b.useEffect(()=>{const x=localStorage.getItem(vx),_=localStorage.getItem(wx);if(x&&_)try{e(JSON.parse(x)),u(new Date(_)),r(!1)}catch{k(!1)}else k(!1)},[]);const E=b.useMemo(()=>Array.isArray(t)?t.map(x=>{const _=String(x?.symbol??"");if(!_)return null;const N=x?.price,C=x?.volumeUSDT??x?.volume;return{symbol:_,name:x?.name??_,price:N==null?null:oi(N),change24h:oi(x?.change24h),volume:C==null?null:oi(C)}}).filter(x=>!!x):[],[t]);return n?d.jsx($2,{}):i?d.jsx("div",{className:"text-sm text-destructive p-4",children:i}):E.length?d.jsxs("main",{className:"w-full max-w-full overflow-x-hidden text-foreground px-3 sm:px-4 md:px-6 py-4",children:[d.jsxs("div",{className:"mb-6 flex items-center justify-between gap-3",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-base font-semibold md:text-lg",children:"Top Gainers"}),l&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last updated: ",w(l)]})]}),d.jsxs("button",{onClick:()=>k(!0),disabled:h,className:"flex items-center gap-2 border-2 border-primary text-primary bg-transparent hover:bg-primary/10 active:bg-primary/20 rounded-lg px-3 py-1.5 text-sm font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]",children:[d.jsx(Xu,{size:16,className:h?"animate-spin":""}),d.jsx("span",{className:"hidden sm:inline",children:h?"Refreshing":"Refresh"})]})]}),d.jsx("div",{className:"hidden md:block overflow-hidden rounded-xl border border-border bg-card",children:d.jsx("div",{className:"h-[78vh] overflow-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{className:"sticky top-0 z-10 bg-muted/50 text-muted-foreground backdrop-blur",children:d.jsxs("tr",{className:"border-b border-border",children:[d.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left font-semibold",children:"Rank"}),d.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left font-semibold",children:"Symbol"}),d.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-right font-semibold",children:"Price"}),d.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-right font-semibold",children:"24h Change"}),d.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-right font-semibold",children:"Volume"}),d.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-right font-semibold",children:"Quick Analysis"})]})}),d.jsx("tbody",{children:E.map((x,_)=>d.jsx(B2,{index:_,symbol:x.symbol,name:x.name,change24h:x.change24h,price:x.price,volume:x.volume,onAnalyse:v},`${x.symbol}-${_}`))})]})})}),d.jsx("div",{className:"md:hidden space-y-3",children:E.map((x,_)=>d.jsx(V2,{index:_,symbol:x.symbol,name:x.name,change24h:x.change24h,price:x.price,volume:x.volume,onAnalyse:v},`${x.symbol}-${_}`))})]}):d.jsx("div",{children:"No gainers data available"})}const xx="https://s3.tradingview.com/tv.js";let Ma=null;const W2=()=>typeof window>"u"?Promise.reject(new Error("TradingView requires a browser environment")):window.TradingView?Promise.resolve(window.TradingView):(Ma||(Ma=new Promise((t,e)=>{const n=(p,g,v)=>{p.removeEventListener("load",g),p.removeEventListener("error",v)},r=()=>{window.TradingView?t(window.TradingView):(Ma=null,e(new Error("TradingView script loaded but API is unavailable")))},i=p=>{Ma=null,e(p)},a=document.querySelector(`script[src="${xx}"]`);if(a){a.addEventListener("load",r,{once:!0}),a.addEventListener("error",i,{once:!0});return}const l=document.createElement("script");l.src=xx,l.async=!0;const u=()=>{n(l,u,h),r()},h=p=>{n(l,u,h),i(p)};l.addEventListener("load",u),l.addEventListener("error",h),document.head.appendChild(l)})),Ma),fo=t=>(t||"").toString().trim().toUpperCase().split(":").pop().replace(/\s+/g,""),bx=t=>{const e=(t||"").toLowerCase(),n={"15m":"15","30m":"30","45m":"45","1h":"60","2h":"120","3h":"180","4h":"240","6h":"360","8h":"480","12h":"720","1d":"D","1day":"D","1w":"W","1m":"M"};return e==="1day"?"D":e==="1w"?"W":e==="1m"?"M":n[e]??"240"};function H2({symbol:t="BTCUSDT",timeframe:e="4h"}){const n=b.useRef(null),r=b.useRef(null),i=b.useRef(null),a=b.useRef(!1),l=b.useRef(null),u=b.useRef(null),h=b.useRef(null),p=b.useRef(fo(t)),g=b.useRef(e),v=b.useRef(`tv-chart-${Math.random().toString(36).slice(2)}`),w=b.useCallback((x,_)=>{const N=i.current;if(!N||typeof N.activeChart!="function")return!1;try{return N.activeChart().setSymbol(`BINANCE:${x}`,bx(_),()=>{}),!0}catch(C){return console.error("[TVChart] failed to set symbol",C),!1}},[]),k=b.useRef(w);b.useEffect(()=>{k.current=w},[w]);const E=b.useCallback((x,_)=>{const N=fo(x||p.current||t||"BTCUSDT");if(!N)return;const I=`${_??g.current??e??"4h"}`.trim()||"4h";if(p.current=N,g.current=I,!a.current){l.current={symbol:N,timeframe:I};return}w(N,I)?l.current=null:l.current={symbol:N,timeframe:I}},[w,t,e]);return b.useEffect(()=>{p.current=fo(t),g.current=e,E(t,e)},[t,e,E]),b.useEffect(()=>{if(typeof window>"u")return;let x=!1;return W2().then(()=>{if(x||!r.current||!window.TradingView)return;const _=r.current;_.innerHTML="",a.current=!1;const N=fo(p.current||t||"BTCUSDT")||"BTCUSDT",C=g.current||e||"4h";p.current=N,g.current=C;try{i.current?.remove?.()}catch{}const T=new window.TradingView.widget({container_id:v.current,symbol:`BINANCE:${N}`,interval:bx(C),theme:"dark",autosize:!0,timezone:"Etc/UTC",hide_side_toolbar:!1,hide_top_toolbar:!1,withdateranges:!0,details:!1,allow_symbol_change:!0,studies:["RSI@tv-basicstudies"]});if(i.current=T,T.onChartReady?.(()=>{if(x)return;a.current=!0;const I=l.current,U=I?.symbol??p.current,L=I?.timeframe??g.current;U&&L&&k.current(U,L)&&(l.current=null)}),typeof ResizeObserver<"u"){try{u.current?.disconnect()}catch{}const I=new ResizeObserver(()=>{try{i.current?.resize?.()}catch{}});u.current=I;const U=n.current??r.current;U&&I.observe(U)}}).catch(_=>console.error("[TVChart] load error",_)),()=>{x=!0;try{u.current?.disconnect()}catch{}u.current=null;try{i.current?.remove?.()}catch{}i.current=null,a.current=!1,l.current=null,r.current&&(r.current.innerHTML="")}},[]),b.useEffect(()=>{if(typeof window>"u")return;const x=(_,N)=>{try{const C=fo(_);if(!C)return;const T=N&&`${N}`.trim()?N:g.current||e||"4h";E(C,T)}catch{}};return window.__tvSet=x,()=>{window.__tvSet===x&&(window.__tvSet=void 0)}},[E,e]),b.useEffect(()=>{const x=_=>{const{symbol:N,timeframe:C}=_.detail||{};N&&C&&E(N,C)};return window.addEventListener("tv:update",x),()=>{window.removeEventListener("tv:update",x)}},[E]),b.useEffect(()=>{if(typeof window>"u"||typeof window.fetch!="function"||h.current)return;let x=!1;const _=window.fetch.bind(window),N=async T=>{try{const[I,U]=T;let L,D=U?.method,z=null,Q=U?.body??null;if(I instanceof Request)L=I.url,D=I.method||D,z=I.clone(),Q=Q??null;else if(typeof I=="string"||I instanceof URL)L=I.toString();else if(I&&typeof I=="object"&&"url"in I){const X=I.url;typeof X=="string"&&(L=X)}if(!L||!L.includes("/api/scan"))return{matched:!1};let V,re;try{const X=new URL(L,window.location.origin);V=X.searchParams.get("symbol")??X.searchParams.get("pair")??void 0,re=X.searchParams.get("tf")??X.searchParams.get("timeframe")??void 0}catch{}const J=(D||(Q?"POST":"GET")).toUpperCase(),se=async X=>{if(X){try{const de=JSON.parse(X);if(de&&typeof de=="object"){const ie=de;V=ie.symbol??ie.pair??V,re=ie.tf??ie.timeframe??ie.interval??re}return}catch{}try{const de=new URLSearchParams(X);V=V??de.get("symbol")??de.get("pair")??void 0,re=re??de.get("tf")??de.get("timeframe")??void 0}catch{}}};if(J!=="GET"){if(z)try{const X=await z.text();await se(X)}catch{}else if(Q){if(typeof Q=="string")await se(Q);else if(typeof URLSearchParams<"u"&&Q instanceof URLSearchParams)await se(Q.toString());else if(typeof FormData<"u"&&Q instanceof FormData){const X=[];Q.forEach((de,ie)=>{typeof de=="string"&&X.push(`${encodeURIComponent(ie)}=${encodeURIComponent(de)}`)}),X.length>0&&await se(X.join("&"))}}}return{matched:!0,symbol:V,timeframe:re}}catch{return{matched:!1}}},C=(...T)=>(N(T).then(({matched:U,symbol:L,timeframe:D})=>{if(!U||x||!L)return;const z=fo(L);if(!z)return;const Q=D!=null?`${D}`:void 0,V=Q&&Q.trim()?Q.trim():void 0;E(z,V),window.dispatchEvent(new CustomEvent("tv:update",{detail:{symbol:z,timeframe:V}}))}).catch(()=>{}),_(...T));return window.fetch=C,h.current=()=>{window.fetch=_},()=>{x=!0;try{h.current?.()}catch{}h.current=null}},[E]),d.jsx("div",{ref:n,className:"h-[560px] w-full md:h-[620px]",children:d.jsx("div",{id:v.current,ref:r,className:"h-full w-full"})})}const bm=b.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:rt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));bm.displayName="Input";function _x(t,[e,n]){return Math.min(n,Math.max(e,t))}function it(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function Nl(t,e=[]){let n=[];function r(a,l){const u=b.createContext(l),h=n.length;n=[...n,l];const p=v=>{const{scope:w,children:k,...E}=v,x=w?.[t]?.[h]||u,_=b.useMemo(()=>E,Object.values(E));return d.jsx(x.Provider,{value:_,children:k})};p.displayName=a+"Provider";function g(v,w){const k=w?.[t]?.[h]||u,E=b.useContext(k);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,g]}const i=()=>{const a=n.map(l=>b.createContext(l));return function(u){const h=u?.[t]||a;return b.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return i.scopeName=t,[r,q2(i,...e)]}function q2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((u,{useScope:h,scopeName:p})=>{const v=h(a)[`__scope${p}`];return{...u,...v}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function z_(t){const e=t+"CollectionProvider",[n,r]=Nl(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:_,children:N}=x,C=lt.useRef(null),T=lt.useRef(new Map).current;return d.jsx(i,{scope:_,itemMap:T,collectionRef:C,children:N})};l.displayName=e;const u=t+"CollectionSlot",h=dl(u),p=lt.forwardRef((x,_)=>{const{scope:N,children:C}=x,T=a(u,N),I=Lt(_,T.collectionRef);return d.jsx(h,{ref:I,children:C})});p.displayName=u;const g=t+"CollectionItemSlot",v="data-radix-collection-item",w=dl(g),k=lt.forwardRef((x,_)=>{const{scope:N,children:C,...T}=x,I=lt.useRef(null),U=Lt(_,I),L=a(g,N);return lt.useEffect(()=>(L.itemMap.set(I,{ref:I,...T}),()=>void L.itemMap.delete(I))),d.jsx(w,{[v]:"",ref:U,children:C})});k.displayName=g;function E(x){const _=a(t+"CollectionConsumer",x);return lt.useCallback(()=>{const C=_.collectionRef.current;if(!C)return[];const T=Array.from(C.querySelectorAll(`[${v}]`));return Array.from(_.itemMap.values()).sort((L,D)=>T.indexOf(L.ref.current)-T.indexOf(D.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:l,Slot:p,ItemSlot:k},E,r]}var K2=b.createContext(void 0);function _m(t){const e=b.useContext(K2);return t||e||"ltr"}var G2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ct=G2.reduce((t,e)=>{const n=dl(`Primitive.${e}`),r=b.forwardRef((i,a)=>{const{asChild:l,...u}=i,h=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Q2(t,e){t&&ji.flushSync(()=>t.dispatchEvent(e))}function Rs(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>e.current?.(...n),[])}function J2(t,e=globalThis?.document){const n=Rs(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Z2="DismissableLayer",vp="dismissableLayer.update",Y2="dismissableLayer.pointerDownOutside",X2="dismissableLayer.focusOutside",Sx,W_=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),H_=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...h}=t,p=b.useContext(W_),[g,v]=b.useState(null),w=g?.ownerDocument??globalThis?.document,[,k]=b.useState({}),E=Lt(e,D=>v(D)),x=Array.from(p.layers),[_]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),N=x.indexOf(_),C=g?x.indexOf(g):-1,T=p.layersWithOutsidePointerEventsDisabled.size>0,I=C>=N,U=nD(D=>{const z=D.target,Q=[...p.branches].some(V=>V.contains(z));!I||Q||(i?.(D),l?.(D),D.defaultPrevented||u?.())},w),L=rD(D=>{const z=D.target;[...p.branches].some(V=>V.contains(z))||(a?.(D),l?.(D),D.defaultPrevented||u?.())},w);return J2(D=>{C===p.layers.size-1&&(r?.(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},w),b.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Sx=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),kx(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Sx)}},[g,w,n,p]),b.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),kx())},[g,p]),b.useEffect(()=>{const D=()=>k({});return document.addEventListener(vp,D),()=>document.removeEventListener(vp,D)},[]),d.jsx(ct.div,{...h,ref:E,style:{pointerEvents:T?I?"auto":"none":void 0,...t.style},onFocusCapture:it(t.onFocusCapture,L.onFocusCapture),onBlurCapture:it(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:it(t.onPointerDownCapture,U.onPointerDownCapture)})});H_.displayName=Z2;var eD="DismissableLayerBranch",tD=b.forwardRef((t,e)=>{const n=b.useContext(W_),r=b.useRef(null),i=Lt(e,r);return b.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),d.jsx(ct.div,{...t,ref:i})});tD.displayName=eD;function nD(t,e=globalThis?.document){const n=Rs(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let h=function(){q_(Y2,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function rD(t,e=globalThis?.document){const n=Rs(t),r=b.useRef(!1);return b.useEffect(()=>{const i=a=>{a.target&&!r.current&&q_(X2,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function kx(){const t=new CustomEvent(vp);document.dispatchEvent(t)}function q_(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Q2(i,a):i.dispatchEvent(a)}var Sh=0;function sD(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ex()),document.body.insertAdjacentElement("beforeend",t[1]??Ex()),Sh++,()=>{Sh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Sh--}},[])}function Ex(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var kh="focusScope.autoFocusOnMount",Eh="focusScope.autoFocusOnUnmount",Cx={bubbles:!1,cancelable:!0},iD="FocusScope",K_=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[u,h]=b.useState(null),p=Rs(i),g=Rs(a),v=b.useRef(null),w=Lt(e,x=>h(x)),k=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let x=function(T){if(k.paused||!u)return;const I=T.target;u.contains(I)?v.current=I:vs(v.current,{select:!0})},_=function(T){if(k.paused||!u)return;const I=T.relatedTarget;I!==null&&(u.contains(I)||vs(v.current,{select:!0}))},N=function(T){if(document.activeElement===document.body)for(const U of T)U.removedNodes.length>0&&vs(u)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const C=new MutationObserver(N);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),C.disconnect()}}},[r,u,k.paused]),b.useEffect(()=>{if(u){Tx.add(k);const x=document.activeElement;if(!u.contains(x)){const N=new CustomEvent(kh,Cx);u.addEventListener(kh,p),u.dispatchEvent(N),N.defaultPrevented||(oD(dD(G_(u)),{select:!0}),document.activeElement===x&&vs(u))}return()=>{u.removeEventListener(kh,p),setTimeout(()=>{const N=new CustomEvent(Eh,Cx);u.addEventListener(Eh,g),u.dispatchEvent(N),N.defaultPrevented||vs(x??document.body,{select:!0}),u.removeEventListener(Eh,g),Tx.remove(k)},0)}}},[u,p,g,k]);const E=b.useCallback(x=>{if(!n&&!r||k.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,N=document.activeElement;if(_&&N){const C=x.currentTarget,[T,I]=aD(C);T&&I?!x.shiftKey&&N===I?(x.preventDefault(),n&&vs(T,{select:!0})):x.shiftKey&&N===T&&(x.preventDefault(),n&&vs(I,{select:!0})):N===C&&x.preventDefault()}},[n,r,k.paused]);return d.jsx(ct.div,{tabIndex:-1,...l,ref:w,onKeyDown:E})});K_.displayName=iD;function oD(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(vs(r,{select:e}),document.activeElement!==n)return}function aD(t){const e=G_(t),n=Nx(e,t),r=Nx(e.reverse(),t);return[n,r]}function G_(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Nx(t,e){for(const n of t)if(!lD(n,{upTo:e}))return n}function lD(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cD(t){return t instanceof HTMLInputElement&&"select"in t}function vs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&cD(t)&&e&&t.select()}}var Tx=uD();function uD(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=jx(t,e),t.unshift(e)},remove(e){t=jx(t,e),t[0]?.resume()}}}function jx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function dD(t){return t.filter(e=>e.tagName!=="A")}var Zt=globalThis?.document?b.useLayoutEffect:()=>{},fD=Fp[" useId ".trim().toString()]||(()=>{}),hD=0;function Tl(t){const[e,n]=b.useState(fD());return Zt(()=>{n(r=>r??String(hD++))},[t]),t||(e?`radix-${e}`:"")}const pD=["top","right","bottom","left"],As=Math.min,bn=Math.max,Iu=Math.round,Zc=Math.floor,gr=t=>({x:t,y:t}),mD={left:"right",right:"left",bottom:"top",top:"bottom"},gD={start:"end",end:"start"};function wp(t,e,n){return bn(t,As(e,n))}function Br(t,e){return typeof t=="function"?t(e):t}function Vr(t){return t.split("-")[0]}function Go(t){return t.split("-")[1]}function Sm(t){return t==="x"?"y":"x"}function km(t){return t==="y"?"height":"width"}const yD=new Set(["top","bottom"]);function pr(t){return yD.has(Vr(t))?"y":"x"}function Em(t){return Sm(pr(t))}function vD(t,e,n){n===void 0&&(n=!1);const r=Go(t),i=Em(t),a=km(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Ru(l)),[l,Ru(l)]}function wD(t){const e=Ru(t);return[xp(t),e,xp(e)]}function xp(t){return t.replace(/start|end/g,e=>gD[e])}const Px=["left","right"],Ix=["right","left"],xD=["top","bottom"],bD=["bottom","top"];function _D(t,e,n){switch(t){case"top":case"bottom":return n?e?Ix:Px:e?Px:Ix;case"left":case"right":return e?xD:bD;default:return[]}}function SD(t,e,n,r){const i=Go(t);let a=_D(Vr(t),n==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(xp)))),a}function Ru(t){return t.replace(/left|right|bottom|top/g,e=>mD[e])}function kD(t){return{top:0,right:0,bottom:0,left:0,...t}}function Q_(t){return typeof t!="number"?kD(t):{top:t,right:t,bottom:t,left:t}}function Au(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Rx(t,e,n){let{reference:r,floating:i}=t;const a=pr(e),l=Em(e),u=km(l),h=Vr(e),p=a==="y",g=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,w=r[u]/2-i[u]/2;let k;switch(h){case"top":k={x:g,y:r.y-i.height};break;case"bottom":k={x:g,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:v};break;case"left":k={x:r.x-i.width,y:v};break;default:k={x:r.x,y:r.y}}switch(Go(e)){case"start":k[l]-=w*(n&&p?-1:1);break;case"end":k[l]+=w*(n&&p?-1:1);break}return k}const ED=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:v}=Rx(p,r,h),w=r,k={},E=0;for(let x=0;x<u.length;x++){const{name:_,fn:N}=u[x],{x:C,y:T,data:I,reset:U}=await N({x:g,y:v,initialPlacement:r,placement:w,strategy:i,middlewareData:k,rects:p,platform:l,elements:{reference:t,floating:e}});g=C??g,v=T??v,k={...k,[_]:{...k[_],...I}},U&&E<=50&&(E++,typeof U=="object"&&(U.placement&&(w=U.placement),U.rects&&(p=U.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):U.rects),{x:g,y:v}=Rx(p,w,h)),x=-1)}return{x:g,y:v,placement:w,strategy:i,middlewareData:k}};async function fl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:u,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:w=!1,padding:k=0}=Br(e,t),E=Q_(k),_=u[w?v==="floating"?"reference":"floating":v],N=Au(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(_)))==null||n?_:_.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:h})),C=v==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),I=await(a.isElement==null?void 0:a.isElement(T))?await(a.getScale==null?void 0:a.getScale(T))||{x:1,y:1}:{x:1,y:1},U=Au(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:T,strategy:h}):C);return{top:(N.top-U.top+E.top)/I.y,bottom:(U.bottom-N.bottom+E.bottom)/I.y,left:(N.left-U.left+E.left)/I.x,right:(U.right-N.right+E.right)/I.x}}const CD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:g=0}=Br(t,e)||{};if(p==null)return{};const v=Q_(g),w={x:n,y:r},k=Em(i),E=km(k),x=await l.getDimensions(p),_=k==="y",N=_?"top":"left",C=_?"bottom":"right",T=_?"clientHeight":"clientWidth",I=a.reference[E]+a.reference[k]-w[k]-a.floating[E],U=w[k]-a.reference[k],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let D=L?L[T]:0;(!D||!await(l.isElement==null?void 0:l.isElement(L)))&&(D=u.floating[T]||a.floating[E]);const z=I/2-U/2,Q=D/2-x[E]/2-1,V=As(v[N],Q),re=As(v[C],Q),J=V,se=D-x[E]-re,X=D/2-x[E]/2+z,de=wp(J,X,se),ie=!h.arrow&&Go(i)!=null&&X!==de&&a.reference[E]/2-(X<J?V:re)-x[E]/2<0,ue=ie?X<J?X-J:X-se:0;return{[k]:w[k]+ue,data:{[k]:de,centerOffset:X-de-ue,...ie&&{alignmentOffset:ue}},reset:ie}}}),ND=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:x=!0,..._}=Br(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=Vr(i),C=pr(u),T=Vr(u)===u,I=await(h.isRTL==null?void 0:h.isRTL(p.floating)),U=w||(T||!x?[Ru(u)]:wD(u)),L=E!=="none";!w&&L&&U.push(...SD(u,x,E,I));const D=[u,...U],z=await fl(e,_),Q=[];let V=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&Q.push(z[N]),v){const X=vD(i,l,I);Q.push(z[X[0]],z[X[1]])}if(V=[...V,{placement:i,overflows:Q}],!Q.every(X=>X<=0)){var re,J;const X=(((re=a.flip)==null?void 0:re.index)||0)+1,de=D[X];if(de&&(!(v==="alignment"?C!==pr(de):!1)||V.every(H=>pr(H.placement)===C?H.overflows[0]>0:!0)))return{data:{index:X,overflows:V},reset:{placement:de}};let ie=(J=V.filter(ue=>ue.overflows[0]<=0).sort((ue,H)=>ue.overflows[1]-H.overflows[1])[0])==null?void 0:J.placement;if(!ie)switch(k){case"bestFit":{var se;const ue=(se=V.filter(H=>{if(L){const K=pr(H.placement);return K===C||K==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(K=>K>0).reduce((K,G)=>K+G,0)]).sort((H,K)=>H[1]-K[1])[0])==null?void 0:se[0];ue&&(ie=ue);break}case"initialPlacement":ie=u;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function Ax(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ox(t){return pD.some(e=>t[e]>=0)}const TD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Br(t,e);switch(r){case"referenceHidden":{const a=await fl(e,{...i,elementContext:"reference"}),l=Ax(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Ox(l)}}}case"escaped":{const a=await fl(e,{...i,altBoundary:!0}),l=Ax(a,n.floating);return{data:{escapedOffsets:l,escaped:Ox(l)}}}default:return{}}}}},J_=new Set(["left","top"]);async function jD(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Vr(n),u=Go(n),h=pr(n)==="y",p=J_.has(l)?-1:1,g=a&&h?-1:1,v=Br(e,t);let{mainAxis:w,crossAxis:k,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof E=="number"&&(k=u==="end"?E*-1:E),h?{x:k*g,y:w*p}:{x:w*p,y:k*g}}const PD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:l,middlewareData:u}=e,h=await jD(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+h.x,y:a+h.y,data:{...h,placement:l}}}}},ID=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:_=>{let{x:N,y:C}=_;return{x:N,y:C}}},...h}=Br(t,e),p={x:n,y:r},g=await fl(e,h),v=pr(Vr(i)),w=Sm(v);let k=p[w],E=p[v];if(a){const _=w==="y"?"top":"left",N=w==="y"?"bottom":"right",C=k+g[_],T=k-g[N];k=wp(C,k,T)}if(l){const _=v==="y"?"top":"left",N=v==="y"?"bottom":"right",C=E+g[_],T=E-g[N];E=wp(C,E,T)}const x=u.fn({...e,[w]:k,[v]:E});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[w]:a,[v]:l}}}}}},RD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=Br(t,e),g={x:n,y:r},v=pr(i),w=Sm(v);let k=g[w],E=g[v];const x=Br(u,e),_=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(h){const T=w==="y"?"height":"width",I=a.reference[w]-a.floating[T]+_.mainAxis,U=a.reference[w]+a.reference[T]-_.mainAxis;k<I?k=I:k>U&&(k=U)}if(p){var N,C;const T=w==="y"?"width":"height",I=J_.has(Vr(i)),U=a.reference[v]-a.floating[T]+(I&&((N=l.offset)==null?void 0:N[v])||0)+(I?0:_.crossAxis),L=a.reference[v]+a.reference[T]+(I?0:((C=l.offset)==null?void 0:C[v])||0)-(I?_.crossAxis:0);E<U?E=U:E>L&&(E=L)}return{[w]:k,[v]:E}}}},AD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:l,elements:u}=e,{apply:h=()=>{},...p}=Br(t,e),g=await fl(e,p),v=Vr(i),w=Go(i),k=pr(i)==="y",{width:E,height:x}=a.floating;let _,N;v==="top"||v==="bottom"?(_=v,N=w===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(N=v,_=w==="end"?"top":"bottom");const C=x-g.top-g.bottom,T=E-g.left-g.right,I=As(x-g[_],C),U=As(E-g[N],T),L=!e.middlewareData.shift;let D=I,z=U;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(z=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=C),L&&!w){const V=bn(g.left,0),re=bn(g.right,0),J=bn(g.top,0),se=bn(g.bottom,0);k?z=E-2*(V!==0||re!==0?V+re:bn(g.left,g.right)):D=x-2*(J!==0||se!==0?J+se:bn(g.top,g.bottom))}await h({...e,availableWidth:z,availableHeight:D});const Q=await l.getDimensions(u.floating);return E!==Q.width||x!==Q.height?{reset:{rects:!0}}:{}}}};function ed(){return typeof window<"u"}function Qo(t){return Z_(t)?(t.nodeName||"").toLowerCase():"#document"}function En(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function br(t){var e;return(e=(Z_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Z_(t){return ed()?t instanceof Node||t instanceof En(t).Node:!1}function tr(t){return ed()?t instanceof Element||t instanceof En(t).Element:!1}function wr(t){return ed()?t instanceof HTMLElement||t instanceof En(t).HTMLElement:!1}function Dx(t){return!ed()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof En(t).ShadowRoot}const OD=new Set(["inline","contents"]);function jl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=nr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!OD.has(i)}const DD=new Set(["table","td","th"]);function MD(t){return DD.has(Qo(t))}const LD=[":popover-open",":modal"];function td(t){return LD.some(e=>{try{return t.matches(e)}catch{return!1}})}const UD=["transform","translate","scale","rotate","perspective"],FD=["transform","translate","scale","rotate","perspective","filter"],$D=["paint","layout","strict","content"];function Cm(t){const e=Nm(),n=tr(t)?nr(t):t;return UD.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||FD.some(r=>(n.willChange||"").includes(r))||$D.some(r=>(n.contain||"").includes(r))}function BD(t){let e=Os(t);for(;wr(e)&&!Fo(e);){if(Cm(e))return e;if(td(e))return null;e=Os(e)}return null}function Nm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const VD=new Set(["html","body","#document"]);function Fo(t){return VD.has(Qo(t))}function nr(t){return En(t).getComputedStyle(t)}function nd(t){return tr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Os(t){if(Qo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Dx(t)&&t.host||br(t);return Dx(e)?e.host:e}function Y_(t){const e=Os(t);return Fo(e)?t.ownerDocument?t.ownerDocument.body:t.body:wr(e)&&jl(e)?e:Y_(e)}function hl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Y_(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),l=En(i);if(a){const u=bp(l);return e.concat(l,l.visualViewport||[],jl(i)?i:[],u&&n?hl(u):[])}return e.concat(i,hl(i,[],n))}function bp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function X_(t){const e=nr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=wr(t),a=i?t.offsetWidth:n,l=i?t.offsetHeight:r,u=Iu(n)!==a||Iu(r)!==l;return u&&(n=a,r=l),{width:n,height:r,$:u}}function Tm(t){return tr(t)?t:t.contextElement}function Ro(t){const e=Tm(t);if(!wr(e))return gr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=X_(e);let l=(a?Iu(n.width):n.width)/r,u=(a?Iu(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const zD=gr(0);function eS(t){const e=En(t);return!Nm()||!e.visualViewport?zD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function WD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==En(t)?!1:e}function bi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Tm(t);let l=gr(1);e&&(r?tr(r)&&(l=Ro(r)):l=Ro(t));const u=WD(a,n,r)?eS(a):gr(0);let h=(i.left+u.x)/l.x,p=(i.top+u.y)/l.y,g=i.width/l.x,v=i.height/l.y;if(a){const w=En(a),k=r&&tr(r)?En(r):r;let E=w,x=bp(E);for(;x&&r&&k!==E;){const _=Ro(x),N=x.getBoundingClientRect(),C=nr(x),T=N.left+(x.clientLeft+parseFloat(C.paddingLeft))*_.x,I=N.top+(x.clientTop+parseFloat(C.paddingTop))*_.y;h*=_.x,p*=_.y,g*=_.x,v*=_.y,h+=T,p+=I,E=En(x),x=bp(E)}}return Au({width:g,height:v,x:h,y:p})}function rd(t,e){const n=nd(t).scrollLeft;return e?e.left+n:bi(br(t)).left+n}function tS(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-rd(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function HD(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",l=br(r),u=e?td(e.floating):!1;if(r===l||u&&a)return n;let h={scrollLeft:0,scrollTop:0},p=gr(1);const g=gr(0),v=wr(r);if((v||!v&&!a)&&((Qo(r)!=="body"||jl(l))&&(h=nd(r)),wr(r))){const k=bi(r);p=Ro(r),g.x=k.x+r.clientLeft,g.y=k.y+r.clientTop}const w=l&&!v&&!a?tS(l,h):gr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+g.x+w.x,y:n.y*p.y-h.scrollTop*p.y+g.y+w.y}}function qD(t){return Array.from(t.getClientRects())}function KD(t){const e=br(t),n=nd(t),r=t.ownerDocument.body,i=bn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=bn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+rd(t);const u=-n.scrollTop;return nr(r).direction==="rtl"&&(l+=bn(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:u}}const Mx=25;function GD(t,e){const n=En(t),r=br(t),i=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,h=0;if(i){a=i.width,l=i.height;const g=Nm();(!g||g&&e==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}const p=rd(r);if(p<=0){const g=r.ownerDocument,v=g.body,w=getComputedStyle(v),k=g.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,E=Math.abs(r.clientWidth-v.clientWidth-k);E<=Mx&&(a-=E)}else p<=Mx&&(a+=p);return{width:a,height:l,x:u,y:h}}const QD=new Set(["absolute","fixed"]);function JD(t,e){const n=bi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=wr(t)?Ro(t):gr(1),l=t.clientWidth*a.x,u=t.clientHeight*a.y,h=i*a.x,p=r*a.y;return{width:l,height:u,x:h,y:p}}function Lx(t,e,n){let r;if(e==="viewport")r=GD(t,n);else if(e==="document")r=KD(br(t));else if(tr(e))r=JD(e,n);else{const i=eS(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Au(r)}function nS(t,e){const n=Os(t);return n===e||!tr(n)||Fo(n)?!1:nr(n).position==="fixed"||nS(n,e)}function ZD(t,e){const n=e.get(t);if(n)return n;let r=hl(t,[],!1).filter(u=>tr(u)&&Qo(u)!=="body"),i=null;const a=nr(t).position==="fixed";let l=a?Os(t):t;for(;tr(l)&&!Fo(l);){const u=nr(l),h=Cm(l);!h&&u.position==="fixed"&&(i=null),(a?!h&&!i:!h&&u.position==="static"&&!!i&&QD.has(i.position)||jl(l)&&!h&&nS(t,l))?r=r.filter(g=>g!==l):i=u,l=Os(l)}return e.set(t,r),r}function YD(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?td(e)?[]:ZD(e,this._c):[].concat(n),r],u=l[0],h=l.reduce((p,g)=>{const v=Lx(e,g,i);return p.top=bn(v.top,p.top),p.right=As(v.right,p.right),p.bottom=As(v.bottom,p.bottom),p.left=bn(v.left,p.left),p},Lx(e,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function XD(t){const{width:e,height:n}=X_(t);return{width:e,height:n}}function eM(t,e,n){const r=wr(e),i=br(e),a=n==="fixed",l=bi(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const h=gr(0);function p(){h.x=rd(i)}if(r||!r&&!a)if((Qo(e)!=="body"||jl(i))&&(u=nd(e)),r){const k=bi(e,!0,a,e);h.x=k.x+e.clientLeft,h.y=k.y+e.clientTop}else i&&p();a&&!r&&i&&p();const g=i&&!r&&!a?tS(i,u):gr(0),v=l.left+u.scrollLeft-h.x-g.x,w=l.top+u.scrollTop-h.y-g.y;return{x:v,y:w,width:l.width,height:l.height}}function Ch(t){return nr(t).position==="static"}function Ux(t,e){if(!wr(t)||nr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return br(t)===n&&(n=n.ownerDocument.body),n}function rS(t,e){const n=En(t);if(td(t))return n;if(!wr(t)){let i=Os(t);for(;i&&!Fo(i);){if(tr(i)&&!Ch(i))return i;i=Os(i)}return n}let r=Ux(t,e);for(;r&&MD(r)&&Ch(r);)r=Ux(r,e);return r&&Fo(r)&&Ch(r)&&!Cm(r)?n:r||BD(t)||n}const tM=async function(t){const e=this.getOffsetParent||rS,n=this.getDimensions,r=await n(t.floating);return{reference:eM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nM(t){return nr(t).direction==="rtl"}const rM={convertOffsetParentRelativeRectToViewportRelativeRect:HD,getDocumentElement:br,getClippingRect:YD,getOffsetParent:rS,getElementRects:tM,getClientRects:qD,getDimensions:XD,getScale:Ro,isElement:tr,isRTL:nM};function sS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sM(t,e){let n=null,r;const i=br(t);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const p=t.getBoundingClientRect(),{left:g,top:v,width:w,height:k}=p;if(u||e(),!w||!k)return;const E=Zc(v),x=Zc(i.clientWidth-(g+w)),_=Zc(i.clientHeight-(v+k)),N=Zc(g),T={rootMargin:-E+"px "+-x+"px "+-_+"px "+-N+"px",threshold:bn(0,As(1,h))||1};let I=!0;function U(L){const D=L[0].intersectionRatio;if(D!==h){if(!I)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!sS(p,t.getBoundingClientRect())&&l(),I=!1}try{n=new IntersectionObserver(U,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(U,T)}n.observe(t)}return l(!0),a}function iM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=Tm(t),g=i||a?[...p?hl(p):[],...hl(e)]:[];g.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const v=p&&u?sM(p,n):null;let w=-1,k=null;l&&(k=new ResizeObserver(N=>{let[C]=N;C&&C.target===p&&k&&(k.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var T;(T=k)==null||T.observe(e)})),n()}),p&&!h&&k.observe(p),k.observe(e));let E,x=h?bi(t):null;h&&_();function _(){const N=bi(t);x&&!sS(x,N)&&n(),x=N,E=requestAnimationFrame(_)}return n(),()=>{var N;g.forEach(C=>{i&&C.removeEventListener("scroll",n),a&&C.removeEventListener("resize",n)}),v?.(),(N=k)==null||N.disconnect(),k=null,h&&cancelAnimationFrame(E)}}const oM=PD,aM=ID,lM=ND,cM=AD,uM=TD,Fx=CD,dM=RD,fM=(t,e,n)=>{const r=new Map,i={platform:rM,...n},a={...i.platform,_c:r};return ED(t,e,{...i,platform:a})};var hM=typeof document<"u",pM=function(){},fu=hM?b.useLayoutEffect:pM;function Ou(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ou(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Ou(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function iS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $x(t,e){const n=iS(t);return Math.round(e*n)/n}function Nh(t){const e=b.useRef(t);return fu(()=>{e.current=t}),e}function mM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=t,[g,v]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,k]=b.useState(r);Ou(w,r)||k(r);const[E,x]=b.useState(null),[_,N]=b.useState(null),C=b.useCallback(H=>{H!==L.current&&(L.current=H,x(H))},[]),T=b.useCallback(H=>{H!==D.current&&(D.current=H,N(H))},[]),I=a||E,U=l||_,L=b.useRef(null),D=b.useRef(null),z=b.useRef(g),Q=h!=null,V=Nh(h),re=Nh(i),J=Nh(p),se=b.useCallback(()=>{if(!L.current||!D.current)return;const H={placement:e,strategy:n,middleware:w};re.current&&(H.platform=re.current),fM(L.current,D.current,H).then(K=>{const G={...K,isPositioned:J.current!==!1};X.current&&!Ou(z.current,G)&&(z.current=G,ji.flushSync(()=>{v(G)}))})},[w,e,n,re,J]);fu(()=>{p===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,v(H=>({...H,isPositioned:!1})))},[p]);const X=b.useRef(!1);fu(()=>(X.current=!0,()=>{X.current=!1}),[]),fu(()=>{if(I&&(L.current=I),U&&(D.current=U),I&&U){if(V.current)return V.current(I,U,se);se()}},[I,U,se,V,Q]);const de=b.useMemo(()=>({reference:L,floating:D,setReference:C,setFloating:T}),[C,T]),ie=b.useMemo(()=>({reference:I,floating:U}),[I,U]),ue=b.useMemo(()=>{const H={position:n,left:0,top:0};if(!ie.floating)return H;const K=$x(ie.floating,g.x),G=$x(ie.floating,g.y);return u?{...H,transform:"translate("+K+"px, "+G+"px)",...iS(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:G}},[n,u,ie.floating,g.x,g.y]);return b.useMemo(()=>({...g,update:se,refs:de,elements:ie,floatingStyles:ue}),[g,se,de,ie,ue])}const gM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Fx({element:r.current,padding:i}).fn(n):{}:r?Fx({element:r,padding:i}).fn(n):{}}}},yM=(t,e)=>({...oM(t),options:[t,e]}),vM=(t,e)=>({...aM(t),options:[t,e]}),wM=(t,e)=>({...dM(t),options:[t,e]}),xM=(t,e)=>({...lM(t),options:[t,e]}),bM=(t,e)=>({...cM(t),options:[t,e]}),_M=(t,e)=>({...uM(t),options:[t,e]}),SM=(t,e)=>({...gM(t),options:[t,e]});var kM="Arrow",oS=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return d.jsx(ct.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});oS.displayName=kM;var EM=oS;function CM(t){const[e,n]=b.useState(void 0);return Zt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jm="Popper",[aS,lS]=Nl(jm),[NM,cS]=aS(jm),uS=t=>{const{__scopePopper:e,children:n}=t,[r,i]=b.useState(null);return d.jsx(NM,{scope:e,anchor:r,onAnchorChange:i,children:n})};uS.displayName=jm;var dS="PopperAnchor",fS=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=cS(dS,n),l=b.useRef(null),u=Lt(e,l),h=b.useRef(null);return b.useEffect(()=>{const p=h.current;h.current=r?.current||l.current,p!==h.current&&a.onAnchorChange(h.current)}),r?null:d.jsx(ct.div,{...i,ref:u})});fS.displayName=dS;var Pm="PopperContent",[TM,jM]=aS(Pm),hS=b.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:k="optimized",onPlaced:E,...x}=t,_=cS(Pm,n),[N,C]=b.useState(null),T=Lt(e,ce=>C(ce)),[I,U]=b.useState(null),L=CM(I),D=L?.width??0,z=L?.height??0,Q=r+(a!=="center"?"-"+a:""),V=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},re=Array.isArray(p)?p:[p],J=re.length>0,se={padding:V,boundary:re.filter(IM),altBoundary:J},{refs:X,floatingStyles:de,placement:ie,isPositioned:ue,middlewareData:H}=mM({strategy:"fixed",placement:Q,whileElementsMounted:(...ce)=>iM(...ce,{animationFrame:k==="always"}),elements:{reference:_.anchor},middleware:[yM({mainAxis:i+z,alignmentAxis:l}),h&&vM({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?wM():void 0,...se}),h&&xM({...se}),bM({...se,apply:({elements:ce,rects:we,availableWidth:Re,availableHeight:Ae})=>{const{width:Oe,height:Be}=we.reference,Ye=ce.floating.style;Ye.setProperty("--radix-popper-available-width",`${Re}px`),Ye.setProperty("--radix-popper-available-height",`${Ae}px`),Ye.setProperty("--radix-popper-anchor-width",`${Oe}px`),Ye.setProperty("--radix-popper-anchor-height",`${Be}px`)}}),I&&SM({element:I,padding:u}),RM({arrowWidth:D,arrowHeight:z}),w&&_M({strategy:"referenceHidden",...se})]}),[K,G]=gS(ie),A=Rs(E);Zt(()=>{ue&&A?.()},[ue,A]);const q=H.arrow?.x,ye=H.arrow?.y,ve=H.arrow?.centerOffset!==0,[Ne,Te]=b.useState();return Zt(()=>{N&&Te(window.getComputedStyle(N).zIndex)},[N]),d.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:ue?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(TM,{scope:n,placedSide:K,onArrowChange:U,arrowX:q,arrowY:ye,shouldHideArrow:ve,children:d.jsx(ct.div,{"data-side":K,"data-align":G,...x,ref:T,style:{...x.style,animation:ue?void 0:"none"}})})})});hS.displayName=Pm;var pS="PopperArrow",PM={top:"bottom",right:"left",bottom:"top",left:"right"},mS=b.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=jM(pS,r),l=PM[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(EM,{...i,ref:n,style:{...i.style,display:"block"}})})});mS.displayName=pS;function IM(t){return t!==null}var RM=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,u=l?0:t.arrowWidth,h=l?0:t.arrowHeight,[p,g]=gS(n),v={start:"0%",center:"50%",end:"100%"}[g],w=(i.arrow?.x??0)+u/2,k=(i.arrow?.y??0)+h/2;let E="",x="";return p==="bottom"?(E=l?v:`${w}px`,x=`${-h}px`):p==="top"?(E=l?v:`${w}px`,x=`${r.floating.height+h}px`):p==="right"?(E=`${-h}px`,x=l?v:`${k}px`):p==="left"&&(E=`${r.floating.width+h}px`,x=l?v:`${k}px`),{data:{x:E,y:x}}}});function gS(t){const[e,n="center"]=t.split("-");return[e,n]}var AM=uS,OM=fS,DM=hS,MM=mS,LM="Portal",yS=b.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=b.useState(!1);Zt(()=>a(!0),[]);const l=n||i&&globalThis?.document?.body;return l?GA.createPortal(d.jsx(ct.div,{...r,ref:e}),l):null});yS.displayName=LM;var UM=Fp[" useInsertionEffect ".trim().toString()]||Zt;function Du({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,l]=FM({defaultProp:e,onChange:n}),u=t!==void 0,h=u?t:i;{const g=b.useRef(t!==void 0);b.useEffect(()=>{const v=g.current;v!==u&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const p=b.useCallback(g=>{if(u){const v=$M(g)?g(t):g;v!==t&&l.current?.(v)}else a(g)},[u,t,a,l]);return[h,p]}function FM({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),i=b.useRef(n),a=b.useRef(e);return UM(()=>{a.current=e},[e]),b.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function $M(t){return typeof t=="function"}function BM(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var vS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),VM="VisuallyHidden",zM=b.forwardRef((t,e)=>d.jsx(ct.span,{...t,ref:e,style:{...vS,...t.style}}));zM.displayName=VM;var WM=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ho=new WeakMap,Yc=new WeakMap,Xc={},Th=0,wS=function(t){return t&&(t.host||wS(t.parentNode))},HM=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},qM=function(t,e,n,r){var i=HM(e,Array.isArray(t)?t:[t]);Xc[n]||(Xc[n]=new WeakMap);var a=Xc[n],l=[],u=new Set,h=new Set(i),p=function(v){!v||u.has(v)||(u.add(v),p(v.parentNode))};i.forEach(p);var g=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(w){if(u.has(w))g(w);else try{var k=w.getAttribute(r),E=k!==null&&k!=="false",x=(ho.get(w)||0)+1,_=(a.get(w)||0)+1;ho.set(w,x),a.set(w,_),l.push(w),x===1&&E&&Yc.set(w,!0),_===1&&w.setAttribute(n,"true"),E||w.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",w,N)}})};return g(e),u.clear(),Th++,function(){l.forEach(function(v){var w=ho.get(v)-1,k=a.get(v)-1;ho.set(v,w),a.set(v,k),w||(Yc.has(v)||v.removeAttribute(r),Yc.delete(v)),k||v.removeAttribute(n)}),Th--,Th||(ho=new WeakMap,ho=new WeakMap,Yc=new WeakMap,Xc={})}},KM=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=WM(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),qM(r,i,n,"aria-hidden")):function(){return null}},hr=function(){return hr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},hr.apply(this,arguments)};function xS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function GM(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var hu="right-scroll-bar-position",pu="width-before-scroll-bar",QM="with-scroll-bars-hidden",JM="--removed-body-scroll-bar-size";function jh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZM(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var YM=typeof window<"u"?b.useLayoutEffect:b.useEffect,Bx=new WeakMap;function XM(t,e){var n=ZM(null,function(r){return t.forEach(function(i){return jh(i,r)})});return YM(function(){var r=Bx.get(n);if(r){var i=new Set(r),a=new Set(t),l=n.current;i.forEach(function(u){a.has(u)||jh(u,null)}),a.forEach(function(u){i.has(u)||jh(u,l)})}Bx.set(n,t)},[t]),n}function eL(t){return t}function tL(t,e){e===void 0&&(e=eL);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var h=function(){var g=l;l=[],g.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),n}}}};return i}function nL(t){t===void 0&&(t={});var e=tL(null);return e.options=hr({async:!0,ssr:!1},t),e}var bS=function(t){var e=t.sideCar,n=xS(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,hr({},n))};bS.isSideCarExport=!0;function rL(t,e){return t.useMedium(e),bS}var _S=nL(),Ph=function(){},sd=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:Ph,onWheelCapture:Ph,onTouchMoveCapture:Ph}),i=r[0],a=r[1],l=t.forwardProps,u=t.children,h=t.className,p=t.removeScrollBar,g=t.enabled,v=t.shards,w=t.sideCar,k=t.noRelative,E=t.noIsolation,x=t.inert,_=t.allowPinchZoom,N=t.as,C=N===void 0?"div":N,T=t.gapMode,I=xS(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=w,L=XM([n,e]),D=hr(hr({},I),i);return b.createElement(b.Fragment,null,g&&b.createElement(U,{sideCar:_S,removeScrollBar:p,shards:v,noRelative:k,noIsolation:E,inert:x,setCallbacks:a,allowPinchZoom:!!_,lockRef:n,gapMode:T}),l?b.cloneElement(b.Children.only(u),hr(hr({},D),{ref:L})):b.createElement(C,hr({},D,{className:h,ref:L}),u))});sd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sd.classNames={fullWidth:pu,zeroRight:hu};var sL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iL(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=sL();return e&&t.setAttribute("nonce",e),t}function oL(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function aL(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var lL=function(){var t=0,e=null;return{add:function(n){t==0&&(e=iL())&&(oL(e,n),aL(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},cL=function(){var t=lL();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},SS=function(){var t=cL(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},uL={left:0,top:0,right:0,gap:0},Ih=function(t){return parseInt(t||"",10)||0},dL=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Ih(n),Ih(r),Ih(i)]},fL=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return uL;var e=dL(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},hL=SS(),Ao="data-scroll-locked",pL=function(t,e,n,r){var i=t.left,a=t.top,l=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(QM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ao,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hu,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(pu,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(hu," .").concat(hu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pu," .").concat(pu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ao,`] {
    `).concat(JM,": ").concat(u,`px;
  }
`)},Vx=function(){var t=parseInt(document.body.getAttribute(Ao)||"0",10);return isFinite(t)?t:0},mL=function(){b.useEffect(function(){return document.body.setAttribute(Ao,(Vx()+1).toString()),function(){var t=Vx()-1;t<=0?document.body.removeAttribute(Ao):document.body.setAttribute(Ao,t.toString())}},[])},gL=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;mL();var a=b.useMemo(function(){return fL(i)},[i]);return b.createElement(hL,{styles:pL(a,!e,i,n?"":"!important")})},_p=!1;if(typeof window<"u")try{var eu=Object.defineProperty({},"passive",{get:function(){return _p=!0,!0}});window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{_p=!1}var po=_p?{passive:!1}:!1,yL=function(t){return t.tagName==="TEXTAREA"},kS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!yL(t)&&n[e]==="visible")},vL=function(t){return kS(t,"overflowY")},wL=function(t){return kS(t,"overflowX")},zx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=ES(t,r);if(i){var a=CS(t,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},xL=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},bL=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},ES=function(t,e){return t==="v"?vL(e):wL(e)},CS=function(t,e){return t==="v"?xL(e):bL(e)},_L=function(t,e){return t==="h"&&e==="rtl"?-1:1},SL=function(t,e,n,r,i){var a=_L(t,window.getComputedStyle(e).direction),l=a*r,u=n.target,h=e.contains(u),p=!1,g=l>0,v=0,w=0;do{if(!u)break;var k=CS(t,u),E=k[0],x=k[1],_=k[2],N=x-_-a*E;(E||N)&&ES(t,u)&&(v+=N,w+=E);var C=u.parentNode;u=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(g&&Math.abs(v)<1||!g&&Math.abs(w)<1)&&(p=!0),p},tu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Wx=function(t){return[t.deltaX,t.deltaY]},Hx=function(t){return t&&"current"in t?t.current:t},kL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},EL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},CL=0,mo=[];function NL(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(CL++)[0],a=b.useState(SS)[0],l=b.useRef(t);b.useEffect(function(){l.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=GM([t.lockRef.current],(t.shards||[]).map(Hx),!0).filter(Boolean);return x.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=b.useCallback(function(x,_){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var N=tu(x),C=n.current,T="deltaX"in x?x.deltaX:C[0]-N[0],I="deltaY"in x?x.deltaY:C[1]-N[1],U,L=x.target,D=Math.abs(T)>Math.abs(I)?"h":"v";if("touches"in x&&D==="h"&&L.type==="range")return!1;var z=zx(D,L);if(!z)return!0;if(z?U=D:(U=D==="v"?"h":"v",z=zx(D,L)),!z)return!1;if(!r.current&&"changedTouches"in x&&(T||I)&&(r.current=U),!U)return!0;var Q=r.current||U;return SL(Q,_,x,Q==="h"?T:I)},[]),h=b.useCallback(function(x){var _=x;if(!(!mo.length||mo[mo.length-1]!==a)){var N="deltaY"in _?Wx(_):tu(_),C=e.current.filter(function(U){return U.name===_.type&&(U.target===_.target||_.target===U.shadowParent)&&kL(U.delta,N)})[0];if(C&&C.should){_.cancelable&&_.preventDefault();return}if(!C){var T=(l.current.shards||[]).map(Hx).filter(Boolean).filter(function(U){return U.contains(_.target)}),I=T.length>0?u(_,T[0]):!l.current.noIsolation;I&&_.cancelable&&_.preventDefault()}}},[]),p=b.useCallback(function(x,_,N,C){var T={name:x,delta:_,target:N,should:C,shadowParent:TL(N)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(I){return I!==T})},1)},[]),g=b.useCallback(function(x){n.current=tu(x),r.current=void 0},[]),v=b.useCallback(function(x){p(x.type,Wx(x),x.target,u(x,t.lockRef.current))},[]),w=b.useCallback(function(x){p(x.type,tu(x),x.target,u(x,t.lockRef.current))},[]);b.useEffect(function(){return mo.push(a),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",h,po),document.addEventListener("touchmove",h,po),document.addEventListener("touchstart",g,po),function(){mo=mo.filter(function(x){return x!==a}),document.removeEventListener("wheel",h,po),document.removeEventListener("touchmove",h,po),document.removeEventListener("touchstart",g,po)}},[]);var k=t.removeScrollBar,E=t.inert;return b.createElement(b.Fragment,null,E?b.createElement(a,{styles:EL(i)}):null,k?b.createElement(gL,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function TL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jL=rL(_S,NL);var NS=b.forwardRef(function(t,e){return b.createElement(sd,hr({},t,{ref:e,sideCar:jL}))});NS.classNames=sd.classNames;var PL=[" ","Enter","ArrowUp","ArrowDown"],IL=[" ","Enter"],_i="Select",[id,od,RL]=z_(_i),[Jo]=Nl(_i,[RL,lS]),ad=lS(),[AL,Bs]=Jo(_i),[OL,DL]=Jo(_i),TS=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:u,onValueChange:h,dir:p,name:g,autoComplete:v,disabled:w,required:k,form:E}=t,x=ad(e),[_,N]=b.useState(null),[C,T]=b.useState(null),[I,U]=b.useState(!1),L=_m(p),[D,z]=Du({prop:r,defaultProp:i??!1,onChange:a,caller:_i}),[Q,V]=Du({prop:l,defaultProp:u,onChange:h,caller:_i}),re=b.useRef(null),J=_?E||!!_.closest("form"):!0,[se,X]=b.useState(new Set),de=Array.from(se).map(ie=>ie.props.value).join(";");return d.jsx(AM,{...x,children:d.jsxs(AL,{required:k,scope:e,trigger:_,onTriggerChange:N,valueNode:C,onValueNodeChange:T,valueNodeHasChildren:I,onValueNodeHasChildrenChange:U,contentId:Tl(),value:Q,onValueChange:V,open:D,onOpenChange:z,dir:L,triggerPointerDownPosRef:re,disabled:w,children:[d.jsx(id.Provider,{scope:e,children:d.jsx(OL,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(ie=>{X(ue=>new Set(ue).add(ie))},[]),onNativeOptionRemove:b.useCallback(ie=>{X(ue=>{const H=new Set(ue);return H.delete(ie),H})},[]),children:n})}),J?d.jsxs(YS,{"aria-hidden":!0,required:k,tabIndex:-1,name:g,autoComplete:v,value:Q,onChange:ie=>V(ie.target.value),disabled:w,form:E,children:[Q===void 0?d.jsx("option",{value:""}):null,Array.from(se)]},de):null]})})};TS.displayName=_i;var jS="SelectTrigger",PS=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=ad(n),l=Bs(jS,n),u=l.disabled||r,h=Lt(e,l.onTriggerChange),p=od(n),g=b.useRef("touch"),[v,w,k]=ek(x=>{const _=p().filter(T=>!T.disabled),N=_.find(T=>T.value===l.value),C=tk(_,x,N);C!==void 0&&l.onValueChange(C.value)}),E=x=>{u||(l.onOpenChange(!0),k()),x&&(l.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return d.jsx(OM,{asChild:!0,...a,children:d.jsx(ct.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":XS(l.value)?"":void 0,...i,ref:h,onClick:it(i.onClick,x=>{x.currentTarget.focus(),g.current!=="mouse"&&E(x)}),onPointerDown:it(i.onPointerDown,x=>{g.current=x.pointerType;const _=x.target;_.hasPointerCapture(x.pointerId)&&_.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(E(x),x.preventDefault())}),onKeyDown:it(i.onKeyDown,x=>{const _=v.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&w(x.key),!(_&&x.key===" ")&&PL.includes(x.key)&&(E(),x.preventDefault())})})})});PS.displayName=jS;var IS="SelectValue",RS=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:l="",...u}=t,h=Bs(IS,n),{onValueNodeHasChildrenChange:p}=h,g=a!==void 0,v=Lt(e,h.onValueNodeChange);return Zt(()=>{p(g)},[p,g]),d.jsx(ct.span,{...u,ref:v,style:{pointerEvents:"none"},children:XS(h.value)?d.jsx(d.Fragment,{children:l}):a})});RS.displayName=IS;var ML="SelectIcon",AS=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return d.jsx(ct.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});AS.displayName=ML;var LL="SelectPortal",OS=t=>d.jsx(yS,{asChild:!0,...t});OS.displayName=LL;var Si="SelectContent",DS=b.forwardRef((t,e)=>{const n=Bs(Si,t.__scopeSelect),[r,i]=b.useState();if(Zt(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?ji.createPortal(d.jsx(MS,{scope:t.__scopeSelect,children:d.jsx(id.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),a):null}return d.jsx(LS,{...t,ref:e})});DS.displayName=Si;var Gn=10,[MS,Vs]=Jo(Si),UL="SelectContentImpl",FL=dl("SelectContent.RemoveScroll"),LS=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:h,align:p,alignOffset:g,arrowPadding:v,collisionBoundary:w,collisionPadding:k,sticky:E,hideWhenDetached:x,avoidCollisions:_,...N}=t,C=Bs(Si,n),[T,I]=b.useState(null),[U,L]=b.useState(null),D=Lt(e,ce=>I(ce)),[z,Q]=b.useState(null),[V,re]=b.useState(null),J=od(n),[se,X]=b.useState(!1),de=b.useRef(!1);b.useEffect(()=>{if(T)return KM(T)},[T]),sD();const ie=b.useCallback(ce=>{const[we,...Re]=J().map(Be=>Be.ref.current),[Ae]=Re.slice(-1),Oe=document.activeElement;for(const Be of ce)if(Be===Oe||(Be?.scrollIntoView({block:"nearest"}),Be===we&&U&&(U.scrollTop=0),Be===Ae&&U&&(U.scrollTop=U.scrollHeight),Be?.focus(),document.activeElement!==Oe))return},[J,U]),ue=b.useCallback(()=>ie([z,T]),[ie,z,T]);b.useEffect(()=>{se&&ue()},[se,ue]);const{onOpenChange:H,triggerPointerDownPosRef:K}=C;b.useEffect(()=>{if(T){let ce={x:0,y:0};const we=Ae=>{ce={x:Math.abs(Math.round(Ae.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(Ae.pageY)-(K.current?.y??0))}},Re=Ae=>{ce.x<=10&&ce.y<=10?Ae.preventDefault():T.contains(Ae.target)||H(!1),document.removeEventListener("pointermove",we),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Re,{capture:!0})}}},[T,H,K]),b.useEffect(()=>{const ce=()=>H(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[H]);const[G,A]=ek(ce=>{const we=J().filter(Oe=>!Oe.disabled),Re=we.find(Oe=>Oe.ref.current===document.activeElement),Ae=tk(we,ce,Re);Ae&&setTimeout(()=>Ae.ref.current.focus())}),q=b.useCallback((ce,we,Re)=>{const Ae=!de.current&&!Re;(C.value!==void 0&&C.value===we||Ae)&&(Q(ce),Ae&&(de.current=!0))},[C.value]),ye=b.useCallback(()=>T?.focus(),[T]),ve=b.useCallback((ce,we,Re)=>{const Ae=!de.current&&!Re;(C.value!==void 0&&C.value===we||Ae)&&re(ce)},[C.value]),Ne=r==="popper"?Sp:US,Te=Ne===Sp?{side:u,sideOffset:h,align:p,alignOffset:g,arrowPadding:v,collisionBoundary:w,collisionPadding:k,sticky:E,hideWhenDetached:x,avoidCollisions:_}:{};return d.jsx(MS,{scope:n,content:T,viewport:U,onViewportChange:L,itemRefCallback:q,selectedItem:z,onItemLeave:ye,itemTextRefCallback:ve,focusSelectedItem:ue,selectedItemText:V,position:r,isPositioned:se,searchRef:G,children:d.jsx(NS,{as:FL,allowPinchZoom:!0,children:d.jsx(K_,{asChild:!0,trapped:C.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:it(i,ce=>{C.trigger?.focus({preventScroll:!0}),ce.preventDefault()}),children:d.jsx(H_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:d.jsx(Ne,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ce=>ce.preventDefault(),...N,...Te,onPlaced:()=>X(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:it(N.onKeyDown,ce=>{const we=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!we&&ce.key.length===1&&A(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Ae=J().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const Oe=ce.target,Be=Ae.indexOf(Oe);Ae=Ae.slice(Be+1)}setTimeout(()=>ie(Ae)),ce.preventDefault()}})})})})})})});LS.displayName=UL;var $L="SelectItemAlignedPosition",US=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Bs(Si,n),l=Vs(Si,n),[u,h]=b.useState(null),[p,g]=b.useState(null),v=Lt(e,D=>g(D)),w=od(n),k=b.useRef(!1),E=b.useRef(!0),{viewport:x,selectedItem:_,selectedItemText:N,focusSelectedItem:C}=l,T=b.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&p&&x&&_&&N){const D=a.trigger.getBoundingClientRect(),z=p.getBoundingClientRect(),Q=a.valueNode.getBoundingClientRect(),V=N.getBoundingClientRect();if(a.dir!=="rtl"){const Oe=V.left-z.left,Be=Q.left-Oe,Ye=D.left-Be,xt=D.width+Ye,Et=Math.max(xt,z.width),mn=window.innerWidth-Gn,Ut=_x(Be,[Gn,Math.max(Gn,mn-Et)]);u.style.minWidth=xt+"px",u.style.left=Ut+"px"}else{const Oe=z.right-V.right,Be=window.innerWidth-Q.right-Oe,Ye=window.innerWidth-D.right-Be,xt=D.width+Ye,Et=Math.max(xt,z.width),mn=window.innerWidth-Gn,Ut=_x(Be,[Gn,Math.max(Gn,mn-Et)]);u.style.minWidth=xt+"px",u.style.right=Ut+"px"}const re=w(),J=window.innerHeight-Gn*2,se=x.scrollHeight,X=window.getComputedStyle(p),de=parseInt(X.borderTopWidth,10),ie=parseInt(X.paddingTop,10),ue=parseInt(X.borderBottomWidth,10),H=parseInt(X.paddingBottom,10),K=de+ie+se+H+ue,G=Math.min(_.offsetHeight*5,K),A=window.getComputedStyle(x),q=parseInt(A.paddingTop,10),ye=parseInt(A.paddingBottom,10),ve=D.top+D.height/2-Gn,Ne=J-ve,Te=_.offsetHeight/2,ce=_.offsetTop+Te,we=de+ie+ce,Re=K-we;if(we<=ve){const Oe=re.length>0&&_===re[re.length-1].ref.current;u.style.bottom="0px";const Be=p.clientHeight-x.offsetTop-x.offsetHeight,Ye=Math.max(Ne,Te+(Oe?ye:0)+Be+ue),xt=we+Ye;u.style.height=xt+"px"}else{const Oe=re.length>0&&_===re[0].ref.current;u.style.top="0px";const Ye=Math.max(ve,de+x.offsetTop+(Oe?q:0)+Te)+Re;u.style.height=Ye+"px",x.scrollTop=we-ve+x.offsetTop}u.style.margin=`${Gn}px 0`,u.style.minHeight=G+"px",u.style.maxHeight=J+"px",r?.(),requestAnimationFrame(()=>k.current=!0)}},[w,a.trigger,a.valueNode,u,p,x,_,N,a.dir,r]);Zt(()=>T(),[T]);const[I,U]=b.useState();Zt(()=>{p&&U(window.getComputedStyle(p).zIndex)},[p]);const L=b.useCallback(D=>{D&&E.current===!0&&(T(),C?.(),E.current=!1)},[T,C]);return d.jsx(VL,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:k,onScrollButtonChange:L,children:d.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:d.jsx(ct.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});US.displayName=$L;var BL="SelectPopperPosition",Sp=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Gn,...a}=t,l=ad(n);return d.jsx(DM,{...l,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sp.displayName=BL;var[VL,Im]=Jo(Si,{}),kp="SelectViewport",FS=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Vs(kp,n),l=Im(kp,n),u=Lt(e,a.onViewportChange),h=b.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(id.Slot,{scope:n,children:d.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:it(i.onScroll,p=>{const g=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:w}=l;if(w?.current&&v){const k=Math.abs(h.current-g.scrollTop);if(k>0){const E=window.innerHeight-Gn*2,x=parseFloat(v.style.minHeight),_=parseFloat(v.style.height),N=Math.max(x,_);if(N<E){const C=N+k,T=Math.min(E,C),I=C-T;v.style.height=T+"px",v.style.bottom==="0px"&&(g.scrollTop=I>0?I:0,v.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});FS.displayName=kp;var $S="SelectGroup",[zL,WL]=Jo($S),HL=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Tl();return d.jsx(zL,{scope:n,id:i,children:d.jsx(ct.div,{role:"group","aria-labelledby":i,...r,ref:e})})});HL.displayName=$S;var BS="SelectLabel",VS=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=WL(BS,n);return d.jsx(ct.div,{id:i.id,...r,ref:e})});VS.displayName=BS;var Mu="SelectItem",[qL,zS]=Jo(Mu),WS=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...l}=t,u=Bs(Mu,n),h=Vs(Mu,n),p=u.value===r,[g,v]=b.useState(a??""),[w,k]=b.useState(!1),E=Lt(e,C=>h.itemRefCallback?.(C,r,i)),x=Tl(),_=b.useRef("touch"),N=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(qL,{scope:n,value:r,disabled:i,textId:x,isSelected:p,onItemTextChange:b.useCallback(C=>{v(T=>T||(C?.textContent??"").trim())},[]),children:d.jsx(id.ItemSlot,{scope:n,value:r,disabled:i,textValue:g,children:d.jsx(ct.div,{role:"option","aria-labelledby":x,"data-highlighted":w?"":void 0,"aria-selected":p&&w,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:E,onFocus:it(l.onFocus,()=>k(!0)),onBlur:it(l.onBlur,()=>k(!1)),onClick:it(l.onClick,()=>{_.current!=="mouse"&&N()}),onPointerUp:it(l.onPointerUp,()=>{_.current==="mouse"&&N()}),onPointerDown:it(l.onPointerDown,C=>{_.current=C.pointerType}),onPointerMove:it(l.onPointerMove,C=>{_.current=C.pointerType,i?h.onItemLeave?.():_.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:it(l.onPointerLeave,C=>{C.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:it(l.onKeyDown,C=>{h.searchRef?.current!==""&&C.key===" "||(IL.includes(C.key)&&N(),C.key===" "&&C.preventDefault())})})})})});WS.displayName=Mu;var Ha="SelectItemText",HS=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,l=Bs(Ha,n),u=Vs(Ha,n),h=zS(Ha,n),p=DL(Ha,n),[g,v]=b.useState(null),w=Lt(e,N=>v(N),h.onItemTextChange,N=>u.itemTextRefCallback?.(N,h.value,h.disabled)),k=g?.textContent,E=b.useMemo(()=>d.jsx("option",{value:h.value,disabled:h.disabled,children:k},h.value),[h.disabled,h.value,k]),{onNativeOptionAdd:x,onNativeOptionRemove:_}=p;return Zt(()=>(x(E),()=>_(E)),[x,_,E]),d.jsxs(d.Fragment,{children:[d.jsx(ct.span,{id:h.textId,...a,ref:w}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?ji.createPortal(a.children,l.valueNode):null]})});HS.displayName=Ha;var qS="SelectItemIndicator",KS=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return zS(qS,n).isSelected?d.jsx(ct.span,{"aria-hidden":!0,...r,ref:e}):null});KS.displayName=qS;var Ep="SelectScrollUpButton",GS=b.forwardRef((t,e)=>{const n=Vs(Ep,t.__scopeSelect),r=Im(Ep,t.__scopeSelect),[i,a]=b.useState(!1),l=Lt(e,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=h.scrollTop>0;a(p)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?d.jsx(JS,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});GS.displayName=Ep;var Cp="SelectScrollDownButton",QS=b.forwardRef((t,e)=>{const n=Vs(Cp,t.__scopeSelect),r=Im(Cp,t.__scopeSelect),[i,a]=b.useState(!1),l=Lt(e,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<p;a(g)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?d.jsx(JS,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});QS.displayName=Cp;var JS=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Vs("SelectScrollButton",n),l=b.useRef(null),u=od(n),h=b.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return b.useEffect(()=>()=>h(),[h]),Zt(()=>{u().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),d.jsx(ct.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:it(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:it(i.onPointerMove,()=>{a.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:it(i.onPointerLeave,()=>{h()})})}),KL="SelectSeparator",ZS=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(ct.div,{"aria-hidden":!0,...r,ref:e})});ZS.displayName=KL;var Np="SelectArrow",GL=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ad(n),a=Bs(Np,n),l=Vs(Np,n);return a.open&&l.position==="popper"?d.jsx(MM,{...i,...r,ref:e}):null});GL.displayName=Np;var QL="SelectBubbleInput",YS=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=b.useRef(null),a=Lt(r,i),l=BM(e);return b.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==e&&g){const v=new Event("change",{bubbles:!0});g.call(u,e),u.dispatchEvent(v)}},[l,e]),d.jsx(ct.select,{...n,style:{...vS,...n.style},ref:a,defaultValue:e})});YS.displayName=QL;function XS(t){return t===""||t===void 0}function ek(t){const e=Rs(t),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(l=>{const u=n.current+l;e(u),(function h(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(u)},[e]),a=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function tk(t,e,n){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=JL(t,Math.max(a,0));i.length===1&&(l=l.filter(p=>p!==n));const h=l.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function JL(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ZL=TS,nk=PS,YL=RS,XL=AS,e4=OS,rk=DS,t4=FS,sk=VS,ik=WS,n4=HS,r4=KS,ok=GS,ak=QS,lk=ZS;const s4=ZL,i4=YL,ck=b.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(nk,{ref:r,className:rt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(XL,{asChild:!0,children:d.jsx(b_,{className:"h-4 w-4 opacity-50"})})]}));ck.displayName=nk.displayName;const uk=b.forwardRef(({className:t,...e},n)=>d.jsx(ok,{ref:n,className:rt("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(nO,{className:"h-4 w-4"})}));uk.displayName=ok.displayName;const dk=b.forwardRef(({className:t,...e},n)=>d.jsx(ak,{ref:n,className:rt("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(b_,{className:"h-4 w-4"})}));dk.displayName=ak.displayName;const fk=b.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>d.jsx(e4,{children:d.jsxs(rk,{ref:i,className:rt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(uk,{}),d.jsx(t4,{className:rt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(dk,{})]})}));fk.displayName=rk.displayName;const o4=b.forwardRef(({className:t,...e},n)=>d.jsx(sk,{ref:n,className:rt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));o4.displayName=sk.displayName;const hk=b.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(ik,{ref:r,className:rt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(r4,{children:d.jsx(tO,{className:"h-4 w-4"})})}),d.jsx(n4,{children:e})]}));hk.displayName=ik.displayName;const a4=b.forwardRef(({className:t,...e},n)=>d.jsx(lk,{ref:n,className:rt("-mx-1 my-1 h-px bg-muted",t),...e}));a4.displayName=lk.displayName;const l4=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:rt("w-full caption-bottom text-sm",t),...e})}));l4.displayName="Table";const c4=b.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:rt("[&_tr]:border-b",t),...e}));c4.displayName="TableHeader";const u4=b.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:rt("[&_tr:last-child]:border-0",t),...e}));u4.displayName="TableBody";const d4=b.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:rt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));d4.displayName="TableFooter";const f4=b.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:rt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));f4.displayName="TableRow";const h4=b.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:rt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));h4.displayName="TableHead";const p4=b.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:rt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));p4.displayName="TableCell";const m4=b.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:rt("mt-4 text-sm text-muted-foreground",t),...e}));m4.displayName="TableCaption";const g4=b.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:rt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));g4.displayName="Textarea";function Rh(t){return t instanceof Error?/^401: .*Unauthorized/.test(t.message):!1}function pk(t){if(!t||typeof t!="object")return null;const e=t;if(Array.isArray(e.data)){const[n]=e.data;return n&&typeof n=="object"?n:null}return e.data&&typeof e.data=="object"?pk(e.data):t?.symbol?t:null}const qx={bullish:{bg:"bg-emerald-500/10",ring:"ring-emerald-500/30",text:"text-emerald-400"},neutral:{bg:"bg-amber-500/10",ring:"ring-amber-500/30",text:"text-amber-400"},bearish:{bg:"bg-rose-500/10",ring:"ring-rose-500/30",text:"text-rose-400"}};function Ah({rows:t=[],emptyState:e}){const n=t.length>0;return d.jsxs("section",{className:`
        rounded-2xl border border-border bg-card backdrop-blur
        overflow-hidden flex flex-col mb-8
      `,"aria-label":"Breakdown Technicals",children:[d.jsx("header",{className:"sticky top-0 z-10 bg-muted/60 backdrop-blur px-4 md:px-5 py-3 border-b border-border",children:d.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[d.jsx("span",{className:"i-lucide-list-checks h-5 w-5 opacity-80"}),"Breakdown Technicals"]})}),d.jsx("div",{className:`
          flex-1 overflow-y-auto overscroll-contain px-4 md:px-5 py-4
          space-y-3 min-h-[400px] md:min-h-[520px] lg:min-h-[620px]
        `,style:{maxHeight:"70vh"},children:n?d.jsx("ul",{className:"grid gap-3",children:t.map((r,i)=>{const a=qx[r.signal]??qx.neutral;return d.jsxs("li",{className:`rounded-xl ring-1 ${a.ring} ${a.bg} p-4 md:p-5`,children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsx("div",{className:"text-base font-medium",children:r.title}),d.jsx("div",{className:`text-sm font-semibold tabular-nums ${a.text}`,children:r.value})]}),r.reason&&d.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:r.reason}),d.jsx("div",{className:`mt-2 text-xs uppercase tracking-wide ${a.text}`,children:r.signal})]},`${r.title}-${i}`)})}):e??d.jsx("div",{className:"flex h-full w-full items-center justify-center py-12 text-center text-muted-foreground",children:d.jsx("div",{children:"No technical checks yet."})})})]})}function y4({symbol:t,tf:e}){return pn({queryKey:["aiSummary",t,e],queryFn:async()=>{const n=await Sl("/api/ai/summary",{method:"POST",body:JSON.stringify({symbol:t,tf:e})});return typeof n?.data=="string"?n.data:""},staleTime:300*1e3,gcTime:1440*60*1e3,enabled:!1})}function v4({symbol:t,tf:e}){const n=xr(),{data:r,isLoading:i,isError:a,isFetching:l}=y4({symbol:t,tf:e}),u=async()=>{await n.fetchQuery({queryKey:["aiSummary",t,e],queryFn:async()=>{const{apiFetchLocal:g}=await Ei(async()=>{const{apiFetchLocal:w}=await Promise.resolve().then(()=>AP);return{apiFetchLocal:w}},void 0),v=await g("/api/ai/summary",{method:"POST",body:JSON.stringify({symbol:t,tf:e})});return typeof v?.data=="string"?v.data:""}})},h=async()=>{if(!(typeof navigator>"u"||!navigator?.clipboard))try{await navigator.clipboard.writeText(r||"")}catch(g){console.warn("Failed to copy AI summary",g)}},p=b.useMemo(()=>i?"Generating":a?"Failed to generate. Try again.":r||"Click Generate to start analysis.",[r,a,i]);return d.jsxs("div",{className:"flex h-full flex-col rounded-2xl border border-border/70 bg-card/70 p-4",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"AI Summary"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(Ke,{variant:"default",size:"sm",onClick:u,disabled:l||i,children:[d.jsx(gO,{className:rt("mr-2 h-4 w-4",(l||i)&&"animate-spin")}),"Generate"]}),d.jsx(Ke,{variant:"ghost",size:"sm",onClick:h,disabled:!r,"aria-label":"Copy summary",children:d.jsx(sO,{className:"h-4 w-4"})})]})]}),d.jsx("div",{className:"mt-3 flex-1 overflow-auto whitespace-pre-wrap text-sm leading-6",children:p}),d.jsxs("div",{className:"mt-3 text-xs text-muted-foreground",children:["Powered by Gemini  Context: ",t," ",e]})]})}function Oh(t){let e=(t||"").toUpperCase().replace(/[^A-Z0-9]/g,"");return e?(e.endsWith("USD")&&!e.endsWith("USDT")&&(e=e.slice(0,-3)+"USDT"),/(USDT|BTC|BUSD|FDUSD|TUSD|USDC)$/.test(e)||(e+="USDT"),e):"BTCUSDT"}function kt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function w4(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Kx=6e4,Gx=525600,ko=43200,Lu=1440;let x4={};function mk(){return x4}function Uu(t){const e=kt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function tl(t,e){const n=kt(t),r=kt(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function gk(t){return w4(t,Date.now())}function b4(t,e){const n=kt(t),r=kt(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function yk(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function _4(t,e){return+kt(t)-+kt(e)}function S4(t){const e=kt(t);return e.setHours(23,59,59,999),e}function k4(t){const e=kt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function E4(t){const e=kt(t);return+S4(e)==+k4(e)}function C4(t,e){const n=kt(t),r=kt(e),i=tl(n,r),a=Math.abs(b4(n,r));let l;if(a<1)l=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let u=tl(n,r)===-i;E4(kt(t))&&a===1&&tl(t,r)===1&&(u=!1),l=i*(a-Number(u))}return l===0?0:l}function N4(t,e,n){const r=_4(t,e)/1e3;return yk(n?.roundingMethod)(r)}const T4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j4=(t,e,n)=>{let r;const i=T4[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Dh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const P4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},I4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},R4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},A4={date:Dh({formats:P4,defaultWidth:"full"}),time:Dh({formats:I4,defaultWidth:"full"}),dateTime:Dh({formats:R4,defaultWidth:"full"})},O4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},D4=(t,e,n,r)=>O4[t];function La(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,u=n?.width?String(n.width):l;i=t.formattingValues[u]||t.formattingValues[l]}else{const l=t.defaultWidth,u=n?.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[l]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const M4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},L4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},U4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},F4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},B4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},V4=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},z4={ordinalNumber:V4,era:La({values:M4,defaultWidth:"wide"}),quarter:La({values:L4,defaultWidth:"wide",argumentCallback:t=>t-1}),month:La({values:U4,defaultWidth:"wide"}),day:La({values:F4,defaultWidth:"wide"}),dayPeriod:La({values:$4,defaultWidth:"wide",formattingValues:B4,defaultFormattingWidth:"wide"})};function Ua(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?H4(u,v=>v.test(l)):W4(u,v=>v.test(l));let p;p=t.valueCallback?t.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const g=e.slice(l.length);return{value:p,rest:g}}}function W4(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function H4(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function q4(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let l=t.valueCallback?t.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(i.length);return{value:l,rest:u}}}const K4=/^(\d+)(th|st|nd|rd)?/i,G4=/\d+/i,Q4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},J4={any:[/^b/i,/^(a|c)/i]},Z4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Y4={any:[/1/i,/2/i,/3/i,/4/i]},X4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iU={ordinalNumber:q4({matchPattern:K4,parsePattern:G4,valueCallback:t=>parseInt(t,10)}),era:Ua({matchPatterns:Q4,defaultMatchWidth:"wide",parsePatterns:J4,defaultParseWidth:"any"}),quarter:Ua({matchPatterns:Z4,defaultMatchWidth:"wide",parsePatterns:Y4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ua({matchPatterns:X4,defaultMatchWidth:"wide",parsePatterns:eU,defaultParseWidth:"any"}),day:Ua({matchPatterns:tU,defaultMatchWidth:"wide",parsePatterns:nU,defaultParseWidth:"any"}),dayPeriod:Ua({matchPatterns:rU,defaultMatchWidth:"any",parsePatterns:sU,defaultParseWidth:"any"})},vk={code:"en-US",formatDistance:j4,formatLong:A4,formatRelative:D4,localize:z4,match:iU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oU(t,e,n){const r=mk(),i=n?.locale??r.locale??vk,a=2520,l=tl(t,e);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:l});let h,p;l>0?(h=kt(e),p=kt(t)):(h=kt(t),p=kt(e));const g=N4(p,h),v=(Uu(p)-Uu(h))/1e3,w=Math.round((g-v)/60);let k;if(w<2)return n?.includeSeconds?g<5?i.formatDistance("lessThanXSeconds",5,u):g<10?i.formatDistance("lessThanXSeconds",10,u):g<20?i.formatDistance("lessThanXSeconds",20,u):g<40?i.formatDistance("halfAMinute",0,u):g<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):w===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",w,u);if(w<45)return i.formatDistance("xMinutes",w,u);if(w<90)return i.formatDistance("aboutXHours",1,u);if(w<Lu){const E=Math.round(w/60);return i.formatDistance("aboutXHours",E,u)}else{if(w<a)return i.formatDistance("xDays",1,u);if(w<ko){const E=Math.round(w/Lu);return i.formatDistance("xDays",E,u)}else if(w<ko*2)return k=Math.round(w/ko),i.formatDistance("aboutXMonths",k,u)}if(k=C4(p,h),k<12){const E=Math.round(w/ko);return i.formatDistance("xMonths",E,u)}else{const E=k%12,x=Math.trunc(k/12);return E<3?i.formatDistance("aboutXYears",x,u):E<9?i.formatDistance("overXYears",x,u):i.formatDistance("almostXYears",x+1,u)}}function aU(t,e,n){const r=mk(),i=n?.locale??r.locale??vk,a=tl(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:a});let u,h;a>0?(u=kt(e),h=kt(t)):(u=kt(t),h=kt(e));const p=yk(n?.roundingMethod??"round"),g=h.getTime()-u.getTime(),v=g/Kx,w=Uu(h)-Uu(u),k=(g-w)/Kx,E=n?.unit;let x;if(E?x=E:v<1?x="second":v<60?x="minute":v<Lu?x="hour":k<ko?x="day":k<Gx?x="month":x="year",x==="second"){const _=p(g/1e3);return i.formatDistance("xSeconds",_,l)}else if(x==="minute"){const _=p(v);return i.formatDistance("xMinutes",_,l)}else if(x==="hour"){const _=p(v/60);return i.formatDistance("xHours",_,l)}else if(x==="day"){const _=p(k/Lu);return i.formatDistance("xDays",_,l)}else if(x==="month"){const _=p(k/ko);return _===12&&E!=="month"?i.formatDistance("xYears",1,l):i.formatDistance("xMonths",_,l)}else{const _=p(k/Gx);return i.formatDistance("xYears",_,l)}}function lU(t,e){return oU(t,gk(t),e)}function wk(t,e){return aU(t,gk(t),e)}const Tp="4h",ws="BTCUSDT",go="analyse-status",mu=[{value:"15m",label:"15min",display:"15m",backend:"15m",legacy:["15"]},{value:"1h",label:"1hr",display:"1h",backend:"1h",legacy:["60"]},{value:"4h",label:"4hr",display:"4h",backend:"4h",legacy:["240"]},{value:"1d",label:"1Day",display:"1D",backend:"1d",legacy:["D","1day"]},{value:"1w",label:"1Week",display:"1W",backend:"1w",legacy:["W"]}];function cU({status:t}){return null}function Fa(t){const e=(t||"").trim().toUpperCase();return e?e.endsWith("USDT")?e:`${e}USDT`:ws}function ai(t){const e=(t||"").toUpperCase();return e.endsWith("USDT")?`${e.slice(0,-4)}/USDT`:e||ws}const nu=t=>{const e=(t||"").toString().trim().toUpperCase();return(e.includes(":")?e.split(":").pop():e).replace(/\s+/g,"")},uU=mu.reduce((t,e)=>(t[e.value.toLowerCase()]=e,t[e.backend.toLowerCase()]=e,e.legacy?.forEach(n=>{t[n.toLowerCase()]=e}),t),{});function Qx(t){return t?uU[t.toLowerCase()]?.value??Tp:Tp}function dU(t){const e=new URLSearchParams(typeof window<"u"?window.location.search.replace(/^\?/,""):"");return t&&new URLSearchParams(t).forEach((r,i)=>{e.set(i,r)}),e.toString()}function fU(){if(typeof window>"u"||!window.location.search)return;const t=new URL(window.location.href);t.search&&(t.search="",window.history.replaceState(null,"",t.toString()))}function Jx(t){const e=t.replace(/[_-]+/g," ").trim();return e?e.split(" ").filter(Boolean).map(n=>n[0].toUpperCase()+n.slice(1)).join(" "):t}function hU(t){if(!t)return[];const e=Ps(t.breakdown);if(e.length>0)return e;const n=Ps(t.technicals);if(n.length>0)return n;const r=Ps(t.checks);if(r.length>0)return r;const i=t.indicators;return i&&typeof i=="object"&&!Array.isArray(i)?Object.entries(i).map(([a,l])=>{if(!l||typeof l!="object")return{title:Jx(a),value:l,signal:void 0,reason:void 0};const u=typeof l.value=="number"||typeof l.value=="string"?l.value:(typeof l.score=="number",l.score);return{title:Jx(a),value:u,signal:l.signal,reason:l.reason??l.description}}).filter(a=>a?.title):[]}const ru=({label:t,value:e,hint:n,tone:r="default",icon:i})=>{const a=r==="up"?"text-emerald-400":r==="down"?"text-rose-400":"text-slate-200";return d.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-700/60 bg-slate-800/40 px-3 py-1.5 shadow-sm ring-1 ring-black/5",role:"status","aria-label":t,title:typeof e=="string"?`${t}: ${e}`:t,children:[i?d.jsx("span",{className:"opacity-80",children:i}):null,d.jsx("span",{className:"text-xs text-slate-400",children:t}),d.jsx("span",{className:`text-sm font-semibold ${a}`,children:e}),n?d.jsx("span",{className:"text-[11px] text-slate-500",children:n}):null]})};function pU(){const{toast:t}=C_(),e=xr(),{signInWithGoogle:n}=Hr(),{loading:r}=$s(),{requireLogin:i,user:a}=vm(),l=!!a,u=a?.id??null,h=mm(),p=h===!0,g=h===!1,v=h===null,[w,k]=yI("/analyse/:symbol?"),[E,x]=Wr(),_=b.useMemo(()=>{const me=E??"",ke=me.startsWith("#")?me.slice(1):me,[qe="",Qe=""]=ke.split("?");return{path:qe?qe.startsWith("/")?qe:`/${qe}`:"/",hashSearch:Qe,search:dU(Qe)}},[E]),N=b.useMemo(()=>new URLSearchParams(_.search),[_.search]),C=N.get("symbol"),T=N.get("tf"),I=Fa(k?.symbol||C||ws),U=Qx(T||void 0),[L,D]=b.useState(I),[z,Q]=b.useState(U),[V,re]=b.useState(nu(I)),[J,se]=b.useState(U),[X,de]=b.useState(()=>`tv-${Date.now()}`),ie=b.useRef(!1),[ue,H]=b.useState(I||ws),[K,G]=b.useState(null),[A,q]=b.useState(!1),ye=b.useRef(null),ve=b.useRef(""),Ne=b.useRef(I),Te=b.useRef(!0),ce=b.useRef(!!(k?.symbol||C));b.useEffect(()=>(q(!1),()=>{try{ye.current?.abort()}catch{}}),[]),b.useEffect(()=>{const me=Fa(k?.symbol||C||ws);me!==L&&(ie.current=!0,D(me));const ke=Qx(T||void 0);ke!==z&&(ie.current=!0,Q(ke))},[k?.symbol,C,T]);const we=me=>{const ke=(me||"").toUpperCase();return ke.endsWith("USDT")?ke.slice(0,-4):ke};b.useEffect(()=>{H(we(L)||we(ws))},[L]),b.useEffect(()=>{if(Te.current&&L){Te.current=!1;const me=setTimeout(()=>{Ut(L,z)},100);return()=>clearTimeout(me)}},[]),b.useEffect(()=>{if(!w)return;if(ie.current){ie.current=!1;return}const me=new URLSearchParams(_.search);me.set("tf",z);const ke=me.toString(),qe=`/analyse/${L}`,Qe=ke?`${qe}?${ke}`:qe;`${_.path}${_.hashSearch?`?${_.hashSearch}`:""}`!==Qe&&(x(Qe),fU())},[L,z,_.path,_.search,_.hashSearch,w]);const[Re,Ae]=b.useState(null);b.useEffect(()=>{if(Ae(null),!p||!L)return;const me=L.toUpperCase();let ke=!0;const qe=F_(L,{onMessage:Qe=>{ke&&(Qe.symbol||"").toUpperCase()===me&&Ae({symbol:Qe.symbol,lastPrice:Qe.lastPrice,priceChange:Qe.priceChange,priceChangePercent:Qe.priceChangePercent,highPrice:Qe.highPrice,lowPrice:Qe.lowPrice,volume:Qe.volume,quoteVolume:Qe.quoteVolume})}});return()=>{ke=!1,qe?.()}},[L,z,p]);const Oe=(Re?.symbol||"").toUpperCase()===L.toUpperCase()?Re:null,Be=!Oe,Ye=Be?0:parseFloat(Oe?.priceChangePercent||"0"),xt=Ye>0,Et=Be?"Loading...":"...";Number(K?.totalScore??0);const mn=si(K?.recommendation||"hold");mn.toLowerCase(),mn.replace(/_/g," ").toUpperCase();const Ut=b.useCallback(async(me,ke)=>{const Qe=Fa(me??L??ue??ws),mt=nu(Qe||ws),Wt=ke??z??Tp,rr=`${mt}|${Wt}`;if(rr===ve.current&&A)return;ve.current=rr;try{ye.current?.abort()}catch{}const Nn=new AbortController;ye.current=Nn,q(!0),G(null),re(mt),se(Wt),de(`tv-${mt}-${Wt}-${Date.now()}`);let _r;try{_r=setTimeout(()=>Nn.abort(),25e3);const qr=mu.find(Al=>Al.value===Wt)?.backend??Wt??"1d",Pi=Oh(Qe);t.dismiss(go),t.loading("Analysing",{id:go}),window.dispatchEvent(new CustomEvent("tv:update",{detail:{symbol:mt,timeframe:qr}}));const Fn=await Us("/api/scanner/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:Pi,timeframe:qr,userId:u}),signal:Nn.signal});if(Fn.status===401)throw new Error("401: Unauthorized");if(!Fn.ok)throw new Error(`Scan HTTP ${Fn.status}`);const Kr=await Fn.json().catch(()=>null),Ii=pk(Kr);if(!Ii){t.error("Analysis unavailable",{id:go}),G(null);return}const Rl=si(Ii.symbol||Pi).toUpperCase();t.success(`${Rl} analysed`,{id:go}),G(Ii),e.invalidateQueries({queryKey:["aiSummary",mt,Wt]}),e.invalidateQueries({queryKey:["scan-history"]}),window.__tvSet?.(mt,Wt),console.log("[Analyse] Run Analysis ",mt,Wt)}catch(Un){Un?.name==="AbortError"?console.warn("[Analyse] scan aborted"):Rh(Un)?(t.dismiss(go),t({title:"Sign in required",description:"Please sign back in to analyze symbols.",variant:"destructive"}),n().catch(qr=>{console.error("Failed to sign in after unauthorized error",qr)})):(t.error("Analysis failed",{id:go}),console.error("[Analyse] scan failed",Un))}finally{_r&&clearTimeout(_r),ye.current=null,q(!1)}},[A,e,L,n,ue,z,t,u]);b.useEffect(()=>{if(a){if(Te.current){Te.current=!1,Ne.current=L,ce.current&&L&&p&&Ut(L,z);return}!L||L===Ne.current||(Ne.current=L,p&&Ut(L,z))}},[a,L,z,p]);const Ln=pn({queryKey:["watchlist"],enabled:l&&p,staleTime:6e4,queryFn:async()=>{const ke=await(await Qa("GET","/api/watchlist")).json();if(Array.isArray(ke))return ke;const qe=ke&&typeof ke=="object"?ke.items:null;return Array.isArray(qe)?qe:[]}}),rn=Ps(Ln.data);b.useMemo(()=>mu.find(me=>me.value===z),[z]);const P=vu({mutationFn:async me=>await(await Qa("POST","/api/watchlist",{symbol:Oh(me)})).json(),onSuccess:()=>{t({title:"Added to watchlist",description:`${ai(L)} is now on your radar.`}),e.invalidateQueries({queryKey:["watchlist"]})},onError:me=>{if(Rh(me)){t({title:"Sign in required",description:"Please sign in to manage your watchlist.",variant:"destructive"}),n().catch(ke=>{console.error("Failed to sign in after unauthorized error",ke)});return}t({title:"Could not add symbol",description:"Please try again in a moment.",variant:"destructive"})}}),R=vu({mutationFn:async me=>await(await Qa("DELETE",`/api/watchlist/${Oh(me)}`)).json(),onSuccess:()=>{t({title:"Removed from watchlist",description:`${ai(L)} was removed from your list.`}),e.invalidateQueries({queryKey:["watchlist"]})},onError:me=>{if(Rh(me)){t({title:"Sign in required",description:"Please sign in to manage your watchlist.",variant:"destructive"}),n().catch(ke=>{console.error("Failed to sign in after unauthorized error",ke)});return}t({title:"Could not update watchlist",description:"Please try again in a moment.",variant:"destructive"})}}),Y=rn.map(me=>(me.symbol||"").toUpperCase()).includes(L.toUpperCase()),ne=()=>{if(!p){g&&t({title:"Backend required",description:"Log into a backend-enabled deployment to manage your watchlist.",variant:"destructive"});return}if(!l){t({title:"Sign in required",description:"Log in to manage your watchlist and save scans.",variant:"destructive"});return}Y?R.mutate(L):P.mutate(L)},Z=()=>{const me=(ue||"").trim().toUpperCase();if(!me){t({title:"Invalid input",description:"Enter a coin symbol (e.g., BTC, ETH, SOL)",variant:"destructive"});return}const ke=Fa(me);if(D(ke),G(null),H(we(ke)),re(nu(ke)),se(z),!p){g?t({title:"Backend required",description:`Symbol set to ${ai(ke)}. Connect this dashboard to your backend build to load analysis.`,variant:"destructive"}):v&&t({title:"Symbol updated",description:`Waiting for backend status before loading ${ai(ke)}.`});return}if(!l){t({title:"Symbol updated",description:`Showing ${ai(ke)} price data. Sign in to run full analysis.`});return}t({title:"Symbol updated",description:`Loading ${ai(ke)} chart`})},fe=b.useCallback(()=>{const me=(ue||"").trim().toUpperCase();let ke=L;if(me&&me!==L&&me!==we(L)){const mt=Fa(me);ke=mt,D(mt),H(we(mt))}if(!ke){t({title:"Invalid symbol",description:"Select a valid symbol first.",variant:"destructive"});return}const qe=nu(ke);if(!p){re(qe),se(z),de(`tv-${qe}-${z}-${Date.now()}`),g?t({title:"Backend required",variant:"destructive"}):v&&t({title:"Please wait",description:"Still checking backend status. Try again in a moment."});return}const Qe=ai(ke);t({title:"Symbol updated",description:`Analyzing ${Qe}`}),G(null),Ut(ke,z)},[g,v,p,Ut,L,ue,z,t]),$e=b.useCallback(()=>{i("/analyse")||fe()},[fe,i]),Ge=me=>{me.key==="Enter"&&Z()};return Be||yo(Oe?.lastPrice),Be||(Ye>0,`${Ye.toFixed(2)}`),Be||Zx(Oe?.quoteVolume),Be||(d.Fragment,yo(Oe?.lowPrice),yo(Oe?.highPrice)),r?null:d.jsx("div",{className:"w-full max-w-screen-2xl 2xl:max-w-[1800px] mx-auto px-4 lg:px-6",children:d.jsxs("div",{className:"flex flex-col gap-5 py-6",children:[d.jsx(cU,{status:h}),d.jsx("header",{className:"flex flex-col gap-2",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"flex min-w-0 items-center gap-2 break-keep whitespace-normal text-3xl font-bold text-foreground",children:[d.jsx(pm,{className:"h-7 w-7 text-primary"}),d.jsx("span",{className:"min-w-0 overflow-hidden text-ellipsis whitespace-nowrap",children:"Decision Hub"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time charts, quantitative scans, and idea discovery in one cockpit."})]}),d.jsxs(Ke,{variant:Y?"secondary":"outline",onClick:ne,disabled:P.isPending||R.isPending||!p,children:[d.jsx(hO,{className:`h-4 w-4 ${Y?"fill-yellow-400 text-yellow-400":""}`}),d.jsx("span",{className:"ml-2",children:Y?"Watching":"Add to Watchlist"})]})]})}),d.jsxs("div",{className:"rounded-xl border border-slate-700/60 bg-slate-900/40 p-3 md:p-3",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("div",{className:"min-w-[260px] grow lg:basis-[66%]",children:d.jsxs("div",{className:"relative",children:[d.jsx(bm,{placeholder:"Enter coin (BTC, ETH, SOL...)",value:ue,onChange:me=>H(me.target.value.toUpperCase()),onKeyPress:Ge,className:"h-11 w-full min-w-0 pl-10","data-testid":"input-search-symbol"}),d.jsx(ul,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})]})}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground md:text-sm",children:[d.jsx(wh,{className:"h-4 w-4"}),d.jsx("span",{className:"whitespace-nowrap",children:"Timeframe"}),d.jsxs(s4,{value:z,onValueChange:Q,children:[d.jsx(ck,{className:"h-9 min-w-[140px] border-border/60 bg-background/70 text-left text-foreground","data-testid":"select-timeframe",children:d.jsx(i4,{})}),d.jsx(fk,{children:mu.map(me=>d.jsx(hk,{value:me.value,children:me.label},me.value))})]})]}),d.jsx("button",{type:"button",onClick:$e,disabled:A,className:"ml-auto rounded-lg bg-primary text-primary-foreground px-4 py-2 text-sm font-medium hover:bg-primary/90 active:bg-primary/80 disabled:opacity-60 transition-colors","data-testid":"button-scan",children:A?"Scanning":"Run Analysis"})]}),d.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 md:gap-4",children:[d.jsx(ru,{label:"Current Price",value:Be?Et:yo(Oe?.lastPrice),icon:d.jsx(fp,{className:"h-3.5 w-3.5 text-emerald-300"})}),d.jsx(ru,{label:"24h Change",value:Be?Et:`${Ye>0?"+":""}${Ye.toFixed(2)}%`,tone:Be?"default":Ye>0?"up":Ye<0?"down":"default",icon:Be?d.jsx(Ur,{className:"h-3.5 w-3.5 text-slate-300"}):xt?d.jsx(Ur,{className:"h-3.5 w-3.5 text-emerald-300"}):Ye<0?d.jsx(mp,{className:"h-3.5 w-3.5 text-rose-300"}):d.jsx(Ur,{className:"h-3.5 w-3.5 text-slate-300"})}),d.jsx(ru,{label:"24h Volume",value:Be?Et:Zx(Oe?.quoteVolume),icon:d.jsx(pp,{className:"h-3.5 w-3.5 text-sky-300"})}),d.jsx(ru,{label:"Today's Range",value:Be?Et:`${yo(Oe?.lowPrice)} - ${yo(Oe?.highPrice)}`,icon:d.jsx(wh,{className:"h-3.5 w-3.5 text-amber-300"})})]})]}),!1,d.jsx("div",{className:"mt-4",children:d.jsxs("div",{className:`
            grid gap-6 items-start content-start
            grid-cols-1
            xl:grid-cols-[minmax(0,1fr)_minmax(0,2fr)_minmax(0,1fr)]
          `,children:[d.jsx("section",{className:"min-w-0 overflow-hidden",children:K?(()=>{const qe=hU(K).map(Qe=>{const mt=si(Qe?.signal).toLowerCase(),Wt=mt==="bullish"||mt==="bearish"?mt:"neutral",rr=Qe?.value,Nn=typeof rr=="number"?rr:si(rr);return{title:si(Qe?.title||Qe?.key||Qe?.name),value:Nn,signal:Wt,reason:Qe?.reason?si(Qe.reason):Qe?.description?si(Qe.description):void 0}}).filter(Qe=>Qe.title);return qe.length===0?d.jsx(Ah,{rows:[]}):d.jsx(Ah,{rows:qe})})():d.jsx(Ah,{rows:[],emptyState:d.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[d.jsx(ul,{className:"mx-auto mb-4 h-12 w-12 opacity-40"}),d.jsx("h4",{className:"text-lg font-medium text-white",children:"No analysis yet"}),d.jsx("p",{className:"mx-auto mt-1 max-w-xs text-sm",children:"Run a scan to unlock AI-enhanced technical breakdowns across all indicators."})]})})}),d.jsx("section",{className:"min-w-0 overflow-hidden",children:d.jsxs(et,{className:"flex h-full flex-col border-border/70 bg-card/70",children:[d.jsx(Sn,{className:"pb-2",children:d.jsx(kn,{className:"text-lg font-semibold",children:"Price Action"})}),d.jsx(tt,{className:"p-0",children:d.jsx("div",{className:"h-[560px] min-w-0 overflow-hidden rounded-xl border border-slate-700/60 bg-slate-900/40 md:h-[620px]",children:d.jsx("div",{className:"h-full w-full",children:d.jsx(H2,{symbol:V,timeframe:J},X)})})})]})}),d.jsx("section",{className:"min-w-0 overflow-hidden",children:d.jsx(v4,{symbol:L,tf:z})})]})})]})})}function yo(t){const e=parseFloat(t||"0");return Number.isNaN(e)?"$0.00":e>=1e3?`$${e.toLocaleString(void 0,{maximumFractionDigits:2})}`:e>=1?`$${e.toFixed(4)}`:`$${e.toFixed(8)}`}function Zx(t){const e=parseFloat(t||"0");return Number.isNaN(e)?"$0.00":e>=1e9?`$${(e/1e9).toFixed(2)}B`:e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${(e/1e3).toFixed(2)}K`:`$${e.toFixed(2)}`}function mU(t){const e=(t||"").toUpperCase();return e?e.endsWith("USDT")?`${e.slice(0,-4)}/USDT`:e:"BTC/USDT"}function gU(t){if(!t&&t!==0)return null;const e=t instanceof Date?t:typeof t=="number"?new Date(t*1e3):new Date(t);return Number.isNaN(e.getTime())?null:wk(e,{addSuffix:!0})}function yU(){const{isAuthenticated:t,isLoading:e}=Hr(),n=pn({queryKey:["watchlist-page",t],queryFn:async()=>{const u=await(await Qa("GET","/api/watchlist")).json();return Ps(u)},enabled:t}),r=b.useMemo(()=>n.data?Ps(n.data):[],[n.data]),i=()=>{xm("#/account")},a=d.jsxs("div",{className:"rounded-xl border border-dashed border-border/60 bg-background/40 p-6 text-center",children:[d.jsx(XA,{className:"mx-auto mb-3 h-10 w-10 text-primary"}),d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Build your first watchlist"}),d.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Add any market from the Analyse workspace to begin tracking live performance."}),d.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:justify-center",children:[d.jsx(yt,{href:"/analyse/BTCUSDT",children:d.jsxs(Ke,{variant:"default",className:"w-full sm:w-auto",children:[d.jsx(ax,{className:"mr-2 h-4 w-4"}),"Browse analysis"]})}),d.jsx(yt,{href:"/analyse/BTCUSDT",children:d.jsxs(Ke,{className:"w-full sm:w-auto",children:[d.jsx(hp,{className:"mr-2 h-4 w-4"}),"Open scanner"]})})]})]});return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground sm:text-3xl",children:"Watchlist"}),d.jsx("p",{className:"text-sm text-muted-foreground sm:text-base",children:"Keep your high-priority markets close and jump straight into analysis with a single tap."})]}),t?d.jsxs(Ke,{variant:"outline",onClick:()=>n.refetch(),disabled:n.isLoading||n.isRefetching,className:"w-full sm:w-auto",children:[d.jsx(dO,{className:"mr-2 h-4 w-4"})," Refresh"]}):null]}),d.jsxs(et,{className:"border-border/70 bg-card/70",children:[d.jsxs(Sn,{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{children:[d.jsx(kn,{className:"text-xl font-semibold text-foreground",children:"Saved markets"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Markets you have marked from the Analyse workspace."})]}),r.length>0?d.jsxs(Xn,{variant:"default",className:"w-fit",children:[r.length," ",r.length===1?"symbol":"symbols"]}):null]}),d.jsx(tt,{className:"space-y-4",children:t?n.isLoading||n.isRefetching?d.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((l,u)=>d.jsx(wm,{className:"h-12 w-full rounded-xl"},u))}):n.error?d.jsxs("div",{className:"rounded-xl border border-destructive/30 bg-destructive/10 p-4 text-center",children:[d.jsx("p",{className:"text-sm font-medium text-destructive",children:"Unable to load watchlist right now."}),d.jsx("p",{className:"mt-2 text-xs text-destructive/80",children:"Please retry in a moment. If the problem persists, verify your network connection."}),d.jsx(Ke,{variant:"outline",className:"mt-4",onClick:()=>n.refetch(),disabled:n.isRefetching,children:"Try again"})]}):r.length===0?a:d.jsx("div",{className:"space-y-3",children:r.map(l=>{const u=gU(l.createdAt),h=mU(l.symbol),p=(l.symbol||"").toUpperCase();return d.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-border/60 bg-card/60 p-4 transition hover:border-primary/60 hover:bg-primary/5 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-base font-semibold text-foreground",children:h}),d.jsx("p",{className:"text-xs text-muted-foreground",children:u?`Added ${u}`:"Saved market"})]}),d.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[d.jsx(yt,{href:`/analyse/${p}`,className:"w-full sm:w-auto",children:d.jsxs(Ke,{className:"w-full",children:[d.jsx(hp,{className:"mr-2 h-4 w-4"}),"Open in Analyse"]})}),d.jsx(yt,{href:`/charts/${p}`,className:"w-full sm:w-auto",children:d.jsxs(Ke,{variant:"outline",className:"w-full",children:[d.jsx(ax,{className:"mr-2 h-4 w-4"}),"View chart"]})})]})]},l.id)})}):d.jsxs("div",{className:"rounded-xl border border-border/60 bg-card/60 p-6 text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Sign in to sync your watchlist"}),d.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Log in to securely store markets across devices and unlock instant access from the dashboard."}),d.jsx(Ke,{onClick:i,className:"mt-4",disabled:e,children:"Start with Google"})]})})]})]})}function vU(t){const e=(t||"").toUpperCase();return e?e.endsWith("USDT")?`${e.slice(0,-4)}/USDT`:e:"BTC/USDT"}const wU=[{id:"breakout",title:"Breakout watcher",description:"Alert when price moves 5% within the selected timeframe.",badge:"Momentum"},{id:"reversal",title:"Trend reversal",description:"Get notified when RSI crosses bullish or bearish thresholds.",badge:"Technicals"},{id:"volume",title:"Volume spike",description:"Ping when 24h volume surges above the rolling average.",badge:"Liquidity"}];function xU(){const{isAuthenticated:t,isLoading:e}=Hr(),n=pn({queryKey:["alerts-watchlist",t],queryFn:async()=>{const l=await(await Qa("GET","/api/watchlist")).json();return Ps(l)},enabled:t}),r=b.useMemo(()=>n.data?Ps(n.data):[],[n.data]),i=()=>{xm("#/account")};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Smart alerts"}),d.jsx("p",{className:"text-muted-foreground",children:"Stay ahead of market swings with proactive notifications tied to your watchlist."})]}),t?d.jsxs(Xn,{variant:"outline",className:"w-fit gap-2 px-3 py-1 text-sm",children:[d.jsx(hm,{className:"h-4 w-4"})," Synced with watchlist"]}):null]}),d.jsxs(et,{className:"border-border/70 bg-card/70",children:[d.jsx(Sn,{children:d.jsx(kn,{className:"text-xl font-semibold text-foreground",children:"Active markets"})}),d.jsx(tt,{className:"space-y-4",children:t?n.isLoading||n.isRefetching?d.jsx("div",{className:"space-y-2",children:Array.from({length:4}).map((a,l)=>d.jsx(wm,{className:"h-12 w-full rounded-xl"},l))}):n.error?d.jsxs("div",{className:"rounded-xl border border-destructive/30 bg-destructive/10 p-4 text-center",children:[d.jsx("p",{className:"text-sm font-medium text-destructive",children:"We couldn't fetch your saved markets."}),d.jsx("p",{className:"mt-2 text-xs text-destructive/80",children:"Refresh the page or try again in a few moments."}),d.jsx(Ke,{variant:"outline",className:"mt-4",onClick:()=>n.refetch(),disabled:n.isRefetching,children:"Retry"})]}):r.length===0?d.jsxs("div",{className:"rounded-xl border border-dashed border-border/60 bg-background/40 p-6 text-center",children:[d.jsx(uO,{className:"mx-auto mb-3 h-10 w-10 text-primary"}),d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No markets are being monitored yet"}),d.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Star at least one pair from the watchlist or charts to begin receiving price movement alerts."}),d.jsx(yt,{href:"/watchlist",children:d.jsx(Ke,{variant:"default",className:"mt-4",children:"Manage watchlist"})})]}):d.jsx("div",{className:"space-y-3",children:r.map(a=>{const l=vU(a.symbol),u=(a.symbol||"").toUpperCase();return d.jsxs("div",{className:`flex flex-col gap-3 rounded-xl border border-border/60 bg-card/60 p-4 transition hover:border-pri
mary/60 hover:bg-primary/5 sm:flex-row sm:items-center sm:justify-between`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs(Xn,{variant:"default",className:"gap-1",children:[d.jsx(k_,{className:"h-3.5 w-3.5"}),"Priority"]}),d.jsx("p",{className:"text-base font-semibold text-foreground",children:l})]}),d.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[d.jsx(yt,{href:`/analyse/${u}`,className:"w-full sm:w-auto",children:d.jsx(Ke,{className:"w-full",children:"Configure in Analyse"})}),d.jsx(yt,{href:`/charts/${u}`,className:"w-full sm:w-auto",children:d.jsx(Ke,{variant:"outline",className:"w-full",children:"Monitor live chart"})})]})]},a.id)})}):d.jsxs("div",{className:"rounded-xl border border-border/60 bg-card/60 p-6 text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Sign in to configure alerts"}),d.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Alerts follow the symbols you star. Connect your account to start receiving timely nudges."}),d.jsx(Ke,{onClick:i,className:"mt-4",disabled:e,children:"Start with Google"})]})})]}),d.jsxs(et,{className:"border-border/70 bg-card/60",children:[d.jsx(Sn,{children:d.jsxs(kn,{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[d.jsx(E_,{className:"h-5 w-5 text-primary"})," Suggested triggers"]})}),d.jsx(tt,{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:wU.map(a=>d.jsxs("div",{className:"rounded-xl border border-border/60 bg-card/80 p-4",children:[d.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[d.jsx("p",{className:"font-semibold text-foreground text-sm",children:a.title}),d.jsx(Xn,{variant:"outline",className:"text-xs w-fit",children:a.badge})]}),d.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:a.description})]},a.id))})]}),d.jsxs(et,{className:"border-border/70 bg-card/60",children:[d.jsx(Sn,{children:d.jsxs(kn,{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[d.jsx(fO,{className:"h-5 w-5 text-primary"})," Delivery preferences"]})}),d.jsxs(tt,{className:"space-y-3 text-sm text-muted-foreground",children:[d.jsx("p",{children:"Alerts arrive instantly on the device you're signed into. We'll surface urgent moves in-app and follow up with email summaries for anything you miss."}),d.jsx("p",{children:"Prefer quieter trading sessions? Toggle Do Not Disturb from the top navigation to pause alerts while keeping your watchlist intact."})]})]})]})}var nt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const l of i)a[l]=l;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),l={};for(const u of a)l[u]=i[u];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.push(l);return a},t.find=(i,a)=>{for(const l of i)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(nt||(nt={}));var Yx;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Yx||(Yx={}));const Se=nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xs=t=>{switch(typeof t){case"undefined":return Se.undefined;case"string":return Se.string;case"number":return Number.isNaN(t)?Se.nan:Se.number;case"boolean":return Se.boolean;case"function":return Se.function;case"bigint":return Se.bigint;case"symbol":return Se.symbol;case"object":return Array.isArray(t)?Se.array:t===null?Se.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Se.promise:typeof Map<"u"&&t instanceof Map?Se.map:typeof Set<"u"&&t instanceof Set?Se.set:typeof Date<"u"&&t instanceof Date?Se.date:Se.object;default:return Se.unknown}},le=nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class zr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let u=r,h=0;for(;h<l.path.length;){const p=l.path[h];h===l.path.length-1?(u[p]=u[p]||{_errors:[]},u[p]._errors.push(n(l))):u[p]=u[p]||{_errors:[]},u=u[p],h++}}};return i(this),r}static assert(e){if(!(e instanceof zr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}zr.create=t=>new zr(t);const jp=(t,e)=>{let n;switch(t.code){case le.invalid_type:t.received===Se.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,nt.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${nt.joinValues(t.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${nt.joinValues(t.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${nt.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:nt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case le.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case le.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=e.defaultError,nt.assertNever(t)}return{message:n}};let bU=jp;function _U(){return bU}const SU=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],l={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let u="";const h=r.filter(p=>!!p).slice().reverse();for(const p of h)u=p(l,{data:e,defaultError:u}).message;return{...i,path:a,message:u}};function pe(t,e){const n=_U(),r=SU({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===jp?void 0:jp].filter(i=>!!i)});t.common.issues.push(r)}class Cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Ue;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,l=await i.value;r.push({key:a,value:l})}return Cn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:l}=i;if(a.status==="aborted"||l.status==="aborted")return Ue;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[a.value]=l.value)}return{status:e.value,value:r}}}const Ue=Object.freeze({status:"aborted"}),qa=t=>({status:"dirty",value:t}),Mn=t=>({status:"valid",value:t}),Xx=t=>t.status==="aborted",eb=t=>t.status==="dirty",$o=t=>t.status==="valid",Fu=t=>typeof Promise<"u"&&t instanceof Promise;var Ce;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Ce||(Ce={}));class Ds{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const tb=(t,e)=>{if($o(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new zr(t.common.issues);return this._error=n,this._error}}};function He(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,u)=>{const{message:h}=t;return l.code==="invalid_enum_value"?{message:h??u.defaultError}:typeof u.data>"u"?{message:h??r??u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:h??n??u.defaultError}},description:i}}class Ze{get description(){return this._def.description}_getType(e){return xs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:xs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Cn,ctx:{common:e.parent.common,data:e.data,parsedType:xs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Fu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xs(e)},i=this._parseSync({data:e,path:r.path,parent:r});return tb(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xs(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return $o(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>$o(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xs(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Fu(i)?i:Promise.resolve(i));return tb(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const l=e(i),u=()=>a.addIssue({code:le.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(h=>h?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Vo({schema:this,typeName:Fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Is.create(this,this._def)}nullable(){return zo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yr.create(this)}promise(){return zu.create(this,this._def)}or(e){return Bu.create([this,e],this._def)}and(e){return Vu.create(this,e,this._def)}transform(e){return new Vo({...He(this._def),schema:this,typeName:Fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ip({...He(this._def),innerType:this,defaultValue:n,typeName:Fe.ZodDefault})}brand(){return new qU({typeName:Fe.ZodBranded,type:this,...He(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Rp({...He(this._def),innerType:this,catchValue:n,typeName:Fe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Rm.create(this,e)}readonly(){return Ap.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kU=/^c[^\s-]{8,}$/i,EU=/^[0-9a-z]+$/,CU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,NU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TU=/^[a-z0-9_-]{21}$/i,jU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,PU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,IU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,RU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Mh;const AU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,OU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,DU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,MU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,UU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",FU=new RegExp(`^${xk}$`);function bk(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function $U(t){return new RegExp(`^${bk(t)}$`)}function BU(t){let e=`${xk}T${bk(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function VU(t,e){return!!((e==="v4"||!e)&&AU.test(t)||(e==="v6"||!e)&&DU.test(t))}function zU(t,e){if(!jU.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function WU(t,e){return!!((e==="v4"||!e)&&OU.test(t)||(e==="v6"||!e)&&MU.test(t))}class Cs extends Ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Se.string){const a=this._getOrReturnCtx(e);return pe(a,{code:le.invalid_type,expected:Se.string,received:a.parsedType}),Ue}const r=new Cn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),pe(i,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),pe(i,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,u=e.data.length<a.value;(l||u)&&(i=this._getOrReturnCtx(e,i),l?pe(i,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&pe(i,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")IU.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"email",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Mh||(Mh=new RegExp(RU,"u")),Mh.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"emoji",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")NU.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"uuid",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")TU.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"nanoid",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")kU.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"cuid",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")EU.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"cuid2",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")CU.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"ulid",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),pe(i,{validation:"url",code:le.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"regex",code:le.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),pe(i,{code:le.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),pe(i,{code:le.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),pe(i,{code:le.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?BU(a).test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{code:le.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?FU.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{code:le.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?$U(a).test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{code:le.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?PU.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"duration",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?VU(e.data,a.version)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"ip",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?zU(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"jwt",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?WU(e.data,a.version)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"cidr",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?LU.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"base64",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?UU.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"base64url",code:le.invalid_string,message:a.message}),r.dirty()):nt.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:le.invalid_string,...Ce.errToObj(r)})}_addCheck(e){return new Cs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ce.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ce.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ce.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ce.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ce.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ce.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ce.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ce.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ce.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ce.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Ce.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Ce.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Ce.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ce.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Ce.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ce.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ce.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ce.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ce.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ce.errToObj(n)})}nonempty(e){return this.min(1,Ce.errToObj(e))}trim(){return new Cs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Cs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Cs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Cs.create=t=>new Cs({checks:[],typeName:Fe.ZodString,coerce:t?.coerce??!1,...He(t)});function HU(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),l=Number.parseInt(e.toFixed(i).replace(".",""));return a%l/10**i}class pl extends Ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Se.number){const a=this._getOrReturnCtx(e);return pe(a,{code:le.invalid_type,expected:Se.number,received:a.parsedType}),Ue}let r;const i=new Cn;for(const a of this._def.checks)a.kind==="int"?nt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),pe(r,{code:le.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:le.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:le.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?HU(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),pe(r,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),pe(r,{code:le.not_finite,message:a.message}),i.dirty()):nt.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ce.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ce.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ce.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ce.toString(n))}setLimit(e,n,r,i){return new pl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ce.toString(i)}]})}_addCheck(e){return new pl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ce.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ce.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ce.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ce.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ce.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&nt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}pl.create=t=>new pl({checks:[],typeName:Fe.ZodNumber,coerce:t?.coerce||!1,...He(t)});class ml extends Ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Se.bigint)return this._getInvalidInput(e);let r;const i=new Cn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:le.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:le.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):nt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return pe(n,{code:le.invalid_type,expected:Se.bigint,received:n.parsedType}),Ue}gte(e,n){return this.setLimit("min",e,!0,Ce.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ce.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ce.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ce.toString(n))}setLimit(e,n,r,i){return new ml({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ce.toString(i)}]})}_addCheck(e){return new ml({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ce.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ce.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ml.create=t=>new ml({checks:[],typeName:Fe.ZodBigInt,coerce:t?.coerce??!1,...He(t)});class nb extends Ze{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Se.boolean){const r=this._getOrReturnCtx(e);return pe(r,{code:le.invalid_type,expected:Se.boolean,received:r.parsedType}),Ue}return Mn(e.data)}}nb.create=t=>new nb({typeName:Fe.ZodBoolean,coerce:t?.coerce||!1,...He(t)});class $u extends Ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Se.date){const a=this._getOrReturnCtx(e);return pe(a,{code:le.invalid_type,expected:Se.date,received:a.parsedType}),Ue}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return pe(a,{code:le.invalid_date}),Ue}const r=new Cn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),pe(i,{code:le.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),pe(i,{code:le.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):nt.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $u({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ce.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ce.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}$u.create=t=>new $u({checks:[],coerce:t?.coerce||!1,typeName:Fe.ZodDate,...He(t)});class rb extends Ze{_parse(e){if(this._getType(e)!==Se.symbol){const r=this._getOrReturnCtx(e);return pe(r,{code:le.invalid_type,expected:Se.symbol,received:r.parsedType}),Ue}return Mn(e.data)}}rb.create=t=>new rb({typeName:Fe.ZodSymbol,...He(t)});class sb extends Ze{_parse(e){if(this._getType(e)!==Se.undefined){const r=this._getOrReturnCtx(e);return pe(r,{code:le.invalid_type,expected:Se.undefined,received:r.parsedType}),Ue}return Mn(e.data)}}sb.create=t=>new sb({typeName:Fe.ZodUndefined,...He(t)});class ib extends Ze{_parse(e){if(this._getType(e)!==Se.null){const r=this._getOrReturnCtx(e);return pe(r,{code:le.invalid_type,expected:Se.null,received:r.parsedType}),Ue}return Mn(e.data)}}ib.create=t=>new ib({typeName:Fe.ZodNull,...He(t)});class ob extends Ze{constructor(){super(...arguments),this._any=!0}_parse(e){return Mn(e.data)}}ob.create=t=>new ob({typeName:Fe.ZodAny,...He(t)});class ab extends Ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mn(e.data)}}ab.create=t=>new ab({typeName:Fe.ZodUnknown,...He(t)});class Ms extends Ze{_parse(e){const n=this._getOrReturnCtx(e);return pe(n,{code:le.invalid_type,expected:Se.never,received:n.parsedType}),Ue}}Ms.create=t=>new Ms({typeName:Fe.ZodNever,...He(t)});class lb extends Ze{_parse(e){if(this._getType(e)!==Se.undefined){const r=this._getOrReturnCtx(e);return pe(r,{code:le.invalid_type,expected:Se.void,received:r.parsedType}),Ue}return Mn(e.data)}}lb.create=t=>new lb({typeName:Fe.ZodVoid,...He(t)});class yr extends Ze{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Se.array)return pe(n,{code:le.invalid_type,expected:Se.array,received:n.parsedType}),Ue;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,u=n.data.length<i.exactLength.value;(l||u)&&(pe(n,{code:l?le.too_big:le.too_small,minimum:u?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(pe(n,{code:le.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(pe(n,{code:le.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,u)=>i.type._parseAsync(new Ds(n,l,n.path,u)))).then(l=>Cn.mergeArray(r,l));const a=[...n.data].map((l,u)=>i.type._parseSync(new Ds(n,l,n.path,u)));return Cn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new yr({...this._def,minLength:{value:e,message:Ce.toString(n)}})}max(e,n){return new yr({...this._def,maxLength:{value:e,message:Ce.toString(n)}})}length(e,n){return new yr({...this._def,exactLength:{value:e,message:Ce.toString(n)}})}nonempty(e){return this.min(1,e)}}yr.create=(t,e)=>new yr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Fe.ZodArray,...He(e)});function _o(t){if(t instanceof Pt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Is.create(_o(r))}return new Pt({...t._def,shape:()=>e})}else return t instanceof yr?new yr({...t._def,type:_o(t.element)}):t instanceof Is?Is.create(_o(t.unwrap())):t instanceof zo?zo.create(_o(t.unwrap())):t instanceof ki?ki.create(t.items.map(e=>_o(e))):t}class Pt extends Ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=nt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Se.object){const p=this._getOrReturnCtx(e);return pe(p,{code:le.invalid_type,expected:Se.object,received:p.parsedType}),Ue}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ms&&this._def.unknownKeys==="strip"))for(const p in i.data)l.includes(p)||u.push(p);const h=[];for(const p of l){const g=a[p],v=i.data[p];h.push({key:{status:"valid",value:p},value:g._parse(new Ds(i,v,i.path,p)),alwaysSet:p in i.data})}if(this._def.catchall instanceof Ms){const p=this._def.unknownKeys;if(p==="passthrough")for(const g of u)h.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if(p==="strict")u.length>0&&(pe(i,{code:le.unrecognized_keys,keys:u}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const g of u){const v=i.data[g];h.push({key:{status:"valid",value:g},value:p._parse(new Ds(i,v,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const p=[];for(const g of h){const v=await g.key,w=await g.value;p.push({key:v,value:w,alwaysSet:g.alwaysSet})}return p}).then(p=>Cn.mergeObjectSync(r,p)):Cn.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(e){return Ce.errToObj,new Pt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:Ce.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Pt({...this._def,unknownKeys:"strip"})}passthrough(){return new Pt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Pt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Pt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Fe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Pt({...this._def,catchall:e})}pick(e){const n={};for(const r of nt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Pt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of nt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Pt({...this._def,shape:()=>n})}deepPartial(){return _o(this)}partial(e){const n={};for(const r of nt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Pt({...this._def,shape:()=>n})}required(e){const n={};for(const r of nt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Is;)a=a._def.innerType;n[r]=a}return new Pt({...this._def,shape:()=>n})}keyof(){return _k(nt.objectKeys(this.shape))}}Pt.create=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strip",catchall:Ms.create(),typeName:Fe.ZodObject,...He(e)});Pt.strictCreate=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strict",catchall:Ms.create(),typeName:Fe.ZodObject,...He(e)});Pt.lazycreate=(t,e)=>new Pt({shape:t,unknownKeys:"strip",catchall:Ms.create(),typeName:Fe.ZodObject,...He(e)});class Bu extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const l=a.map(u=>new zr(u.ctx.common.issues));return pe(n,{code:le.invalid_union,unionErrors:l}),Ue}if(n.common.async)return Promise.all(r.map(async a=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let a;const l=[];for(const h of r){const p={...n,common:{...n.common,issues:[]},parent:null},g=h._parseSync({data:n.data,path:n.path,parent:p});if(g.status==="valid")return g;g.status==="dirty"&&!a&&(a={result:g,ctx:p}),p.common.issues.length&&l.push(p.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const u=l.map(h=>new zr(h));return pe(n,{code:le.invalid_union,unionErrors:u}),Ue}}get options(){return this._def.options}}Bu.create=(t,e)=>new Bu({options:t,typeName:Fe.ZodUnion,...He(e)});function Pp(t,e){const n=xs(t),r=xs(e);if(t===e)return{valid:!0,data:t};if(n===Se.object&&r===Se.object){const i=nt.objectKeys(e),a=nt.objectKeys(t).filter(u=>i.indexOf(u)!==-1),l={...t,...e};for(const u of a){const h=Pp(t[u],e[u]);if(!h.valid)return{valid:!1};l[u]=h.data}return{valid:!0,data:l}}else if(n===Se.array&&r===Se.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const l=t[a],u=e[a],h=Pp(l,u);if(!h.valid)return{valid:!1};i.push(h.data)}return{valid:!0,data:i}}else return n===Se.date&&r===Se.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Vu extends Ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,l)=>{if(Xx(a)||Xx(l))return Ue;const u=Pp(a.value,l.value);return u.valid?((eb(a)||eb(l))&&n.dirty(),{status:n.value,value:u.data}):(pe(r,{code:le.invalid_intersection_types}),Ue)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,l])=>i(a,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Vu.create=(t,e,n)=>new Vu({left:t,right:e,typeName:Fe.ZodIntersection,...He(n)});class ki extends Ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.array)return pe(r,{code:le.invalid_type,expected:Se.array,received:r.parsedType}),Ue;if(r.data.length<this._def.items.length)return pe(r,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&r.data.length>this._def.items.length&&(pe(r,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((l,u)=>{const h=this._def.items[u]||this._def.rest;return h?h._parse(new Ds(r,l,r.path,u)):null}).filter(l=>!!l);return r.common.async?Promise.all(a).then(l=>Cn.mergeArray(n,l)):Cn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new ki({...this._def,rest:e})}}ki.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ki({items:t,typeName:Fe.ZodTuple,rest:null,...He(e)})};class cb extends Ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.map)return pe(r,{code:le.invalid_type,expected:Se.map,received:r.parsedType}),Ue;const i=this._def.keyType,a=this._def.valueType,l=[...r.data.entries()].map(([u,h],p)=>({key:i._parse(new Ds(r,u,r.path,[p,"key"])),value:a._parse(new Ds(r,h,r.path,[p,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const h of l){const p=await h.key,g=await h.value;if(p.status==="aborted"||g.status==="aborted")return Ue;(p.status==="dirty"||g.status==="dirty")&&n.dirty(),u.set(p.value,g.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const h of l){const p=h.key,g=h.value;if(p.status==="aborted"||g.status==="aborted")return Ue;(p.status==="dirty"||g.status==="dirty")&&n.dirty(),u.set(p.value,g.value)}return{status:n.value,value:u}}}}cb.create=(t,e,n)=>new cb({valueType:e,keyType:t,typeName:Fe.ZodMap,...He(n)});class gl extends Ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.set)return pe(r,{code:le.invalid_type,expected:Se.set,received:r.parsedType}),Ue;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(pe(r,{code:le.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(pe(r,{code:le.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function l(h){const p=new Set;for(const g of h){if(g.status==="aborted")return Ue;g.status==="dirty"&&n.dirty(),p.add(g.value)}return{status:n.value,value:p}}const u=[...r.data.values()].map((h,p)=>a._parse(new Ds(r,h,r.path,p)));return r.common.async?Promise.all(u).then(h=>l(h)):l(u)}min(e,n){return new gl({...this._def,minSize:{value:e,message:Ce.toString(n)}})}max(e,n){return new gl({...this._def,maxSize:{value:e,message:Ce.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}gl.create=(t,e)=>new gl({valueType:t,minSize:null,maxSize:null,typeName:Fe.ZodSet,...He(e)});class ub extends Ze{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ub.create=(t,e)=>new ub({getter:t,typeName:Fe.ZodLazy,...He(e)});class db extends Ze{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return pe(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:e.data}}get value(){return this._def.value}}db.create=(t,e)=>new db({value:t,typeName:Fe.ZodLiteral,...He(e)});function _k(t,e){return new Bo({values:t,typeName:Fe.ZodEnum,...He(e)})}class Bo extends Ze{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return pe(n,{expected:nt.joinValues(r),received:n.parsedType,code:le.invalid_type}),Ue}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return pe(n,{received:n.data,code:le.invalid_enum_value,options:r}),Ue}return Mn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Bo.create(e,{...this._def,...n})}exclude(e,n=this._def){return Bo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Bo.create=_k;class fb extends Ze{_parse(e){const n=nt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Se.string&&r.parsedType!==Se.number){const i=nt.objectValues(n);return pe(r,{expected:nt.joinValues(i),received:r.parsedType,code:le.invalid_type}),Ue}if(this._cache||(this._cache=new Set(nt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=nt.objectValues(n);return pe(r,{received:r.data,code:le.invalid_enum_value,options:i}),Ue}return Mn(e.data)}get enum(){return this._def.values}}fb.create=(t,e)=>new fb({values:t,typeName:Fe.ZodNativeEnum,...He(e)});class zu extends Ze{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.promise&&n.common.async===!1)return pe(n,{code:le.invalid_type,expected:Se.promise,received:n.parsedType}),Ue;const r=n.parsedType===Se.promise?n.data:Promise.resolve(n.data);return Mn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}zu.create=(t,e)=>new zu({type:t,typeName:Fe.ZodPromise,...He(e)});class Vo extends Ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:l=>{pe(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const l=i.transform(r.data,a);if(r.common.async)return Promise.resolve(l).then(async u=>{if(n.value==="aborted")return Ue;const h=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return h.status==="aborted"?Ue:h.status==="dirty"||n.value==="dirty"?qa(h.value):h});{if(n.value==="aborted")return Ue;const u=this._def.schema._parseSync({data:l,path:r.path,parent:r});return u.status==="aborted"?Ue:u.status==="dirty"||n.value==="dirty"?qa(u.value):u}}if(i.type==="refinement"){const l=u=>{const h=i.refinement(u,a);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Ue:(u.status==="dirty"&&n.dirty(),l(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Ue:(u.status==="dirty"&&n.dirty(),l(u.value).then(()=>({status:n.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!$o(l))return Ue;const u=i.transform(l.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>$o(l)?Promise.resolve(i.transform(l.value,a)).then(u=>({status:n.value,value:u})):Ue);nt.assertNever(i)}}Vo.create=(t,e,n)=>new Vo({schema:t,typeName:Fe.ZodEffects,effect:e,...He(n)});Vo.createWithPreprocess=(t,e,n)=>new Vo({schema:e,effect:{type:"preprocess",transform:t},typeName:Fe.ZodEffects,...He(n)});class Is extends Ze{_parse(e){return this._getType(e)===Se.undefined?Mn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Is.create=(t,e)=>new Is({innerType:t,typeName:Fe.ZodOptional,...He(e)});class zo extends Ze{_parse(e){return this._getType(e)===Se.null?Mn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zo.create=(t,e)=>new zo({innerType:t,typeName:Fe.ZodNullable,...He(e)});class Ip extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Se.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ip.create=(t,e)=>new Ip({innerType:t,typeName:Fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...He(e)});class Rp extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Fu(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new zr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new zr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Rp.create=(t,e)=>new Rp({innerType:t,typeName:Fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...He(e)});class hb extends Ze{_parse(e){if(this._getType(e)!==Se.nan){const r=this._getOrReturnCtx(e);return pe(r,{code:le.invalid_type,expected:Se.nan,received:r.parsedType}),Ue}return{status:"valid",value:e.data}}}hb.create=t=>new hb({typeName:Fe.ZodNaN,...He(t)});class qU extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Rm extends Ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ue:a.status==="dirty"?(n.dirty(),qa(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ue:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Rm({in:e,out:n,typeName:Fe.ZodPipeline})}}class Ap extends Ze{_parse(e){const n=this._def.innerType._parse(e),r=i=>($o(i)&&(i.value=Object.freeze(i.value)),i);return Fu(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Ap.create=(t,e)=>new Ap({innerType:t,typeName:Fe.ZodReadonly,...He(e)});var Fe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Fe||(Fe={}));const Oo=Cs.create;Ms.create;yr.create;const Am=Pt.create;Bu.create;Vu.create;ki.create;Bo.create;zu.create;Is.create;zo.create;var Pl=t=>t.type==="checkbox",gi=t=>t instanceof Date,tn=t=>t==null;const Sk=t=>typeof t=="object";var Rt=t=>!tn(t)&&!Array.isArray(t)&&Sk(t)&&!gi(t),KU=t=>Rt(t)&&t.target?Pl(t.target)?t.target.checked:t.target.value:t,GU=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,QU=(t,e)=>t.has(GU(e)),JU=t=>{const e=t.constructor&&t.constructor.prototype;return Rt(e)&&e.hasOwnProperty("isPrototypeOf")},Om=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Om&&(t instanceof Blob||r))&&(n||Rt(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!JU(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=zt(t[i]));else return t;return e}var ld=t=>/^\w*$/.test(t),It=t=>t===void 0,Dm=t=>Array.isArray(t)?t.filter(Boolean):[],Mm=t=>Dm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),be=(t,e,n)=>{if(!e||!Rt(t))return n;const r=(ld(e)?[e]:Mm(e)).reduce((i,a)=>tn(i)?i:i[a],t);return It(r)||r===t?It(t[e])?n:t[e]:r},ur=t=>typeof t=="boolean",ot=(t,e,n)=>{let r=-1;const i=ld(e)?[e]:Mm(e),a=i.length,l=a-1;for(;++r<a;){const u=i[r];let h=n;if(r!==l){const p=t[u];h=Rt(p)||Array.isArray(p)?p:isNaN(+i[r+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=h,t=t[u]}};const pb={BLUR:"blur",FOCUS_OUT:"focusout"},Jn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Rr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZU=lt.createContext(null);ZU.displayName="HookFormContext";var YU=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const l=a;return e._proxyFormState[l]!==Jn.all&&(e._proxyFormState[l]=!r||Jn.all),t[l]}});return i};const XU=typeof window<"u"?lt.useLayoutEffect:lt.useEffect;var _n=t=>typeof t=="string",eF=(t,e,n,r,i)=>_n(t)?(r&&e.watch.add(t),be(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),be(n,a))):(r&&(e.watchAll=!0),n),Op=t=>tn(t)||!Sk(t);function Es(t,e,n=new WeakSet){if(Op(t)||Op(e))return t===e;if(gi(t)&&gi(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const a of r){const l=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const u=e[a];if(gi(l)&&gi(u)||Rt(l)&&Rt(u)||Array.isArray(l)&&Array.isArray(u)?!Es(l,u,n):l!==u)return!1}}return!0}var kk=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},nl=t=>Array.isArray(t)?t:[t],mb=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function Ek(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],a=e[r];if(i&&Rt(i)&&a){const l=Ek(i,a);Rt(l)&&(n[r]=l)}else t[r]&&(n[r]=a)}return n}var hn=t=>Rt(t)&&!Object.keys(t).length,Lm=t=>t.type==="file",Zn=t=>typeof t=="function",Wu=t=>{if(!Om)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ck=t=>t.type==="select-multiple",Um=t=>t.type==="radio",tF=t=>Um(t)||Pl(t),Lh=t=>Wu(t)&&t.isConnected;function nF(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=It(t)?r++:t[e[r++]];return t}function rF(t){for(const e in t)if(t.hasOwnProperty(e)&&!It(t[e]))return!1;return!0}function Nt(t,e){const n=Array.isArray(e)?e:ld(e)?[e]:Mm(e),r=n.length===1?t:nF(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(Rt(r)&&hn(r)||Array.isArray(r)&&rF(r))&&Nt(t,n.slice(0,-1)),t}var sF=t=>{for(const e in t)if(Zn(t[e]))return!0;return!1};function Nk(t){return Array.isArray(t)||Rt(t)&&!sF(t)}function Dp(t,e={}){for(const n in t)Nk(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Dp(t[n],e[n])):tn(t[n])||(e[n]=!0);return e}function So(t,e,n){n||(n=Dp(e));for(const r in t)Nk(t[r])?It(e)||Op(n[r])?n[r]=Dp(t[r],Array.isArray(t[r])?[]:{}):So(t[r],tn(e)?{}:e[r],n[r]):n[r]=!Es(t[r],e[r]);return n}const gb={value:!1,isValid:!1},yb={value:!0,isValid:!0};var Tk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!It(t[0].attributes.value)?It(t[0].value)||t[0].value===""?yb:{value:t[0].value,isValid:!0}:yb:gb}return gb},jk=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>It(t)?t:e?t===""?NaN:t&&+t:n&&_n(t)?new Date(t):r?r(t):t;const vb={isValid:!1,value:null};var Pk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,vb):vb;function wb(t){const e=t.ref;return Lm(e)?e.files:Um(e)?Pk(t.refs).value:Ck(e)?[...e.selectedOptions].map(({value:n})=>n):Pl(e)?Tk(t.refs).value:jk(It(e.value)?t.ref.value:e.value,t)}var iF=(t,e,n,r)=>{const i={};for(const a of t){const l=be(e,a);l&&ot(i,a,l._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Hu=t=>t instanceof RegExp,$a=t=>It(t)?t:Hu(t)?t.source:Rt(t)?Hu(t.value)?t.value.source:t.value:t,xb=t=>({isOnSubmit:!t||t===Jn.onSubmit,isOnBlur:t===Jn.onBlur,isOnChange:t===Jn.onChange,isOnAll:t===Jn.all,isOnTouch:t===Jn.onTouched});const bb="AsyncFunction";var oF=t=>!!t&&!!t.validate&&!!(Zn(t.validate)&&t.validate.constructor.name===bb||Rt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===bb)),aF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),_b=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const rl=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const a=be(t,i);if(a){const{_f:l,...u}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],i)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(rl(u,e))break}else if(Rt(u)&&rl(u,e))break}}};function Sb(t,e,n){const r=be(t,n);if(r||ld(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),l=be(e,a),u=be(t,a);if(l&&!Array.isArray(l)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};if(u&&u.root&&u.root.type)return{name:`${a}.root`,error:u.root};i.pop()}return{name:n}}var lF=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return hn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!r||Jn.all))},cF=(t,e,n)=>!t||!e||t===e||nl(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),uF=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,dF=(t,e)=>!Dm(be(t,e)).length&&Nt(t,e),fF=(t,e,n)=>{const r=nl(be(t,n));return ot(r,"root",e[n]),ot(t,n,r),t};function kb(t,e,n="validate"){if(_n(t)||Array.isArray(t)&&t.every(_n)||ur(t)&&!t)return{type:n,message:_n(t)?t:"",ref:e}}var vo=t=>Rt(t)&&!Hu(t)?t:{value:t,message:""},Eb=async(t,e,n,r,i,a)=>{const{ref:l,refs:u,required:h,maxLength:p,minLength:g,min:v,max:w,pattern:k,validate:E,name:x,valueAsNumber:_,mount:N}=t._f,C=be(n,x);if(!N||e.has(x))return{};const T=u?u[0]:l,I=J=>{i&&T.reportValidity&&(T.setCustomValidity(ur(J)?"":J||""),T.reportValidity())},U={},L=Um(l),D=Pl(l),z=L||D,Q=(_||Lm(l))&&It(l.value)&&It(C)||Wu(l)&&l.value===""||C===""||Array.isArray(C)&&!C.length,V=kk.bind(null,x,r,U),re=(J,se,X,de=Rr.maxLength,ie=Rr.minLength)=>{const ue=J?se:X;U[x]={type:J?de:ie,message:ue,ref:l,...V(J?de:ie,ue)}};if(a?!Array.isArray(C)||!C.length:h&&(!z&&(Q||tn(C))||ur(C)&&!C||D&&!Tk(u).isValid||L&&!Pk(u).isValid)){const{value:J,message:se}=_n(h)?{value:!!h,message:h}:vo(h);if(J&&(U[x]={type:Rr.required,message:se,ref:T,...V(Rr.required,se)},!r))return I(se),U}if(!Q&&(!tn(v)||!tn(w))){let J,se;const X=vo(w),de=vo(v);if(!tn(C)&&!isNaN(C)){const ie=l.valueAsNumber||C&&+C;tn(X.value)||(J=ie>X.value),tn(de.value)||(se=ie<de.value)}else{const ie=l.valueAsDate||new Date(C),ue=G=>new Date(new Date().toDateString()+" "+G),H=l.type=="time",K=l.type=="week";_n(X.value)&&C&&(J=H?ue(C)>ue(X.value):K?C>X.value:ie>new Date(X.value)),_n(de.value)&&C&&(se=H?ue(C)<ue(de.value):K?C<de.value:ie<new Date(de.value))}if((J||se)&&(re(!!J,X.message,de.message,Rr.max,Rr.min),!r))return I(U[x].message),U}if((p||g)&&!Q&&(_n(C)||a&&Array.isArray(C))){const J=vo(p),se=vo(g),X=!tn(J.value)&&C.length>+J.value,de=!tn(se.value)&&C.length<+se.value;if((X||de)&&(re(X,J.message,se.message),!r))return I(U[x].message),U}if(k&&!Q&&_n(C)){const{value:J,message:se}=vo(k);if(Hu(J)&&!C.match(J)&&(U[x]={type:Rr.pattern,message:se,ref:l,...V(Rr.pattern,se)},!r))return I(se),U}if(E){if(Zn(E)){const J=await E(C,n),se=kb(J,T);if(se&&(U[x]={...se,...V(Rr.validate,se.message)},!r))return I(se.message),U}else if(Rt(E)){let J={};for(const se in E){if(!hn(J)&&!r)break;const X=kb(await E[se](C,n),T,se);X&&(J={...X,...V(se,X.message)},I(X.message),r&&(U[x]=J))}if(!hn(J)&&(U[x]={ref:T,...J},!r))return U}}return I(!0),U};const hF={mode:Jn.onSubmit,reValidateMode:Jn.onChange,shouldFocusError:!0};function pF(t={}){let e={...hF,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Zn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Rt(e.defaultValues)||Rt(e.values)?zt(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:zt(i),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,p=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...g};const w={array:mb(),state:mb()},k=e.criteriaMode===Jn.all,E=P=>R=>{clearTimeout(p),p=setTimeout(P,R)},x=async P=>{if(!e.disabled&&(g.isValid||v.isValid||P)){const R=e.resolver?hn((await D()).errors):await Q(r,!0);R!==n.isValid&&w.state.next({isValid:R})}},_=(P,R)=>{!e.disabled&&(g.isValidating||g.validatingFields||v.isValidating||v.validatingFields)&&((P||Array.from(u.mount)).forEach($=>{$&&(R?ot(n.validatingFields,$,R):Nt(n.validatingFields,$))}),w.state.next({validatingFields:n.validatingFields,isValidating:!hn(n.validatingFields)}))},N=(P,R=[],$,Y,ne=!0,Z=!0)=>{if(Y&&$&&!e.disabled){if(l.action=!0,Z&&Array.isArray(be(r,P))){const fe=$(be(r,P),Y.argA,Y.argB);ne&&ot(r,P,fe)}if(Z&&Array.isArray(be(n.errors,P))){const fe=$(be(n.errors,P),Y.argA,Y.argB);ne&&ot(n.errors,P,fe),dF(n.errors,P)}if((g.touchedFields||v.touchedFields)&&Z&&Array.isArray(be(n.touchedFields,P))){const fe=$(be(n.touchedFields,P),Y.argA,Y.argB);ne&&ot(n.touchedFields,P,fe)}(g.dirtyFields||v.dirtyFields)&&(n.dirtyFields=So(i,a)),w.state.next({name:P,isDirty:re(P,R),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ot(a,P,R)},C=(P,R)=>{ot(n.errors,P,R),w.state.next({errors:n.errors})},T=P=>{n.errors=P,w.state.next({errors:n.errors,isValid:!1})},I=(P,R,$,Y)=>{const ne=be(r,P);if(ne){const Z=be(a,P,It($)?be(i,P):$);It(Z)||Y&&Y.defaultChecked||R?ot(a,P,R?Z:wb(ne._f)):X(P,Z),l.mount&&x()}},U=(P,R,$,Y,ne)=>{let Z=!1,fe=!1;const $e={name:P};if(!e.disabled){if(!$||Y){(g.isDirty||v.isDirty)&&(fe=n.isDirty,n.isDirty=$e.isDirty=re(),Z=fe!==$e.isDirty);const Ge=Es(be(i,P),R);fe=!!be(n.dirtyFields,P),Ge?Nt(n.dirtyFields,P):ot(n.dirtyFields,P,!0),$e.dirtyFields=n.dirtyFields,Z=Z||(g.dirtyFields||v.dirtyFields)&&fe!==!Ge}if($){const Ge=be(n.touchedFields,P);Ge||(ot(n.touchedFields,P,$),$e.touchedFields=n.touchedFields,Z=Z||(g.touchedFields||v.touchedFields)&&Ge!==$)}Z&&ne&&w.state.next($e)}return Z?$e:{}},L=(P,R,$,Y)=>{const ne=be(n.errors,P),Z=(g.isValid||v.isValid)&&ur(R)&&n.isValid!==R;if(e.delayError&&$?(h=E(()=>C(P,$)),h(e.delayError)):(clearTimeout(p),h=null,$?ot(n.errors,P,$):Nt(n.errors,P)),($?!Es(ne,$):ne)||!hn(Y)||Z){const fe={...Y,...Z&&ur(R)?{isValid:R}:{},errors:n.errors,name:P};n={...n,...fe},w.state.next(fe)}},D=async P=>{_(P,!0);const R=await e.resolver(a,e.context,iF(P||u.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(P),R},z=async P=>{const{errors:R}=await D(P);if(P)for(const $ of P){const Y=be(R,$);Y?ot(n.errors,$,Y):Nt(n.errors,$)}else n.errors=R;return R},Q=async(P,R,$={valid:!0})=>{for(const Y in P){const ne=P[Y];if(ne){const{_f:Z,...fe}=ne;if(Z){const $e=u.array.has(Z.name),Ge=ne._f&&oF(ne._f);Ge&&g.validatingFields&&_([Z.name],!0);const me=await Eb(ne,u.disabled,a,k,e.shouldUseNativeValidation&&!R,$e);if(Ge&&g.validatingFields&&_([Z.name]),me[Z.name]&&($.valid=!1,R))break;!R&&(be(me,Z.name)?$e?fF(n.errors,me,Z.name):ot(n.errors,Z.name,me[Z.name]):Nt(n.errors,Z.name))}!hn(fe)&&await Q(fe,R,$)}}return $.valid},V=()=>{for(const P of u.unMount){const R=be(r,P);R&&(R._f.refs?R._f.refs.every($=>!Lh($)):!Lh(R._f.ref))&&ce(P)}u.unMount=new Set},re=(P,R)=>!e.disabled&&(P&&R&&ot(a,P,R),!Es(G(),i)),J=(P,R,$)=>eF(P,u,{...l.mount?a:It(R)?i:_n(P)?{[P]:R}:R},$,R),se=P=>Dm(be(l.mount?a:i,P,e.shouldUnregister?be(i,P,[]):[])),X=(P,R,$={})=>{const Y=be(r,P);let ne=R;if(Y){const Z=Y._f;Z&&(!Z.disabled&&ot(a,P,jk(R,Z)),ne=Wu(Z.ref)&&tn(R)?"":R,Ck(Z.ref)?[...Z.ref.options].forEach(fe=>fe.selected=ne.includes(fe.value)):Z.refs?Pl(Z.ref)?Z.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(ne)?fe.checked=!!ne.find($e=>$e===fe.value):fe.checked=ne===fe.value||!!ne)}):Z.refs.forEach(fe=>fe.checked=fe.value===ne):Lm(Z.ref)?Z.ref.value="":(Z.ref.value=ne,Z.ref.type||w.state.next({name:P,values:zt(a)})))}($.shouldDirty||$.shouldTouch)&&U(P,ne,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&K(P)},de=(P,R,$)=>{for(const Y in R){if(!R.hasOwnProperty(Y))return;const ne=R[Y],Z=P+"."+Y,fe=be(r,Z);(u.array.has(P)||Rt(ne)||fe&&!fe._f)&&!gi(ne)?de(Z,ne,$):X(Z,ne,$)}},ie=(P,R,$={})=>{const Y=be(r,P),ne=u.array.has(P),Z=zt(R);ot(a,P,Z),ne?(w.array.next({name:P,values:zt(a)}),(g.isDirty||g.dirtyFields||v.isDirty||v.dirtyFields)&&$.shouldDirty&&w.state.next({name:P,dirtyFields:So(i,a),isDirty:re(P,Z)})):Y&&!Y._f&&!tn(Z)?de(P,Z,$):X(P,Z,$),_b(P,u)&&w.state.next({...n,name:P}),w.state.next({name:l.mount?P:void 0,values:zt(a)})},ue=async P=>{l.mount=!0;const R=P.target;let $=R.name,Y=!0;const ne=be(r,$),Z=Ge=>{Y=Number.isNaN(Ge)||gi(Ge)&&isNaN(Ge.getTime())||Es(Ge,be(a,$,Ge))},fe=xb(e.mode),$e=xb(e.reValidateMode);if(ne){let Ge,me;const ke=R.type?wb(ne._f):KU(P),qe=P.type===pb.BLUR||P.type===pb.FOCUS_OUT,Qe=!aF(ne._f)&&!e.resolver&&!be(n.errors,$)&&!ne._f.deps||uF(qe,be(n.touchedFields,$),n.isSubmitted,$e,fe),mt=_b($,u,qe);ot(a,$,ke),qe?(!R||!R.readOnly)&&(ne._f.onBlur&&ne._f.onBlur(P),h&&h(0)):ne._f.onChange&&ne._f.onChange(P);const Wt=U($,ke,qe),rr=!hn(Wt)||mt;if(!qe&&w.state.next({name:$,type:P.type,values:zt(a)}),Qe)return(g.isValid||v.isValid)&&(e.mode==="onBlur"?qe&&x():qe||x()),rr&&w.state.next({name:$,...mt?{}:Wt});if(!qe&&mt&&w.state.next({...n}),e.resolver){const{errors:Nn}=await D([$]);if(Z(ke),Y){const _r=Sb(n.errors,r,$),Un=Sb(Nn,r,_r.name||$);Ge=Un.error,$=Un.name,me=hn(Nn)}}else _([$],!0),Ge=(await Eb(ne,u.disabled,a,k,e.shouldUseNativeValidation))[$],_([$]),Z(ke),Y&&(Ge?me=!1:(g.isValid||v.isValid)&&(me=await Q(r,!0)));Y&&(ne._f.deps&&(!Array.isArray(ne._f.deps)||ne._f.deps.length>0)&&K(ne._f.deps),L($,me,Ge,Wt))}},H=(P,R)=>{if(be(n.errors,R)&&P.focus)return P.focus(),1},K=async(P,R={})=>{let $,Y;const ne=nl(P);if(e.resolver){const Z=await z(It(P)?P:ne);$=hn(Z),Y=P?!ne.some(fe=>be(Z,fe)):$}else P?(Y=(await Promise.all(ne.map(async Z=>{const fe=be(r,Z);return await Q(fe&&fe._f?{[Z]:fe}:fe)}))).every(Boolean),!(!Y&&!n.isValid)&&x()):Y=$=await Q(r);return w.state.next({...!_n(P)||(g.isValid||v.isValid)&&$!==n.isValid?{}:{name:P},...e.resolver||!P?{isValid:$}:{},errors:n.errors}),R.shouldFocus&&!Y&&rl(r,H,P?ne:u.mount),Y},G=(P,R)=>{let $={...l.mount?a:i};return R&&($=Ek(R.dirtyFields?n.dirtyFields:n.touchedFields,$)),It(P)?$:_n(P)?be($,P):P.map(Y=>be($,Y))},A=(P,R)=>({invalid:!!be((R||n).errors,P),isDirty:!!be((R||n).dirtyFields,P),error:be((R||n).errors,P),isValidating:!!be(n.validatingFields,P),isTouched:!!be((R||n).touchedFields,P)}),q=P=>{P&&nl(P).forEach(R=>Nt(n.errors,R)),w.state.next({errors:P?n.errors:{}})},ye=(P,R,$)=>{const Y=(be(r,P,{_f:{}})._f||{}).ref,ne=be(n.errors,P)||{},{ref:Z,message:fe,type:$e,...Ge}=ne;ot(n.errors,P,{...Ge,...R,ref:Y}),w.state.next({name:P,errors:n.errors,isValid:!1}),$&&$.shouldFocus&&Y&&Y.focus&&Y.focus()},ve=(P,R)=>Zn(P)?w.state.subscribe({next:$=>"values"in $&&P(J(void 0,R),$)}):J(P,R,!0),Ne=P=>w.state.subscribe({next:R=>{cF(P.name,R.name,P.exact)&&lF(R,P.formState||g,Ut,P.reRenderRoot)&&P.callback({values:{...a},...n,...R,defaultValues:i})}}).unsubscribe,Te=P=>(l.mount=!0,v={...v,...P.formState},Ne({...P,formState:v})),ce=(P,R={})=>{for(const $ of P?nl(P):u.mount)u.mount.delete($),u.array.delete($),R.keepValue||(Nt(r,$),Nt(a,$)),!R.keepError&&Nt(n.errors,$),!R.keepDirty&&Nt(n.dirtyFields,$),!R.keepTouched&&Nt(n.touchedFields,$),!R.keepIsValidating&&Nt(n.validatingFields,$),!e.shouldUnregister&&!R.keepDefaultValue&&Nt(i,$);w.state.next({values:zt(a)}),w.state.next({...n,...R.keepDirty?{isDirty:re()}:{}}),!R.keepIsValid&&x()},we=({disabled:P,name:R})=>{(ur(P)&&l.mount||P||u.disabled.has(R))&&(P?u.disabled.add(R):u.disabled.delete(R))},Re=(P,R={})=>{let $=be(r,P);const Y=ur(R.disabled)||ur(e.disabled);return ot(r,P,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:P}},name:P,mount:!0,...R}}),u.mount.add(P),$?we({disabled:ur(R.disabled)?R.disabled:e.disabled,name:P}):I(P,!0,R.value),{...Y?{disabled:R.disabled||e.disabled}:{},...e.progressive?{required:!!R.required,min:$a(R.min),max:$a(R.max),minLength:$a(R.minLength),maxLength:$a(R.maxLength),pattern:$a(R.pattern)}:{},name:P,onChange:ue,onBlur:ue,ref:ne=>{if(ne){Re(P,R),$=be(r,P);const Z=It(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,fe=tF(Z),$e=$._f.refs||[];if(fe?$e.find(Ge=>Ge===Z):Z===$._f.ref)return;ot(r,P,{_f:{...$._f,...fe?{refs:[...$e.filter(Lh),Z,...Array.isArray(be(i,P))?[{}]:[]],ref:{type:Z.type,name:P}}:{ref:Z}}}),I(P,!1,void 0,Z)}else $=be(r,P,{}),$._f&&($._f.mount=!1),(e.shouldUnregister||R.shouldUnregister)&&!(QU(u.array,P)&&l.action)&&u.unMount.add(P)}}},Ae=()=>e.shouldFocusError&&rl(r,H,u.mount),Oe=P=>{ur(P)&&(w.state.next({disabled:P}),rl(r,(R,$)=>{const Y=be(r,$);Y&&(R.disabled=Y._f.disabled||P,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(ne=>{ne.disabled=Y._f.disabled||P}))},0,!1))},Be=(P,R)=>async $=>{let Y;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let ne=zt(a);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:Z,values:fe}=await D();n.errors=Z,ne=zt(fe)}else await Q(r);if(u.disabled.size)for(const Z of u.disabled)Nt(ne,Z);if(Nt(n.errors,"root"),hn(n.errors)){w.state.next({errors:{}});try{await P(ne,$)}catch(Z){Y=Z}}else R&&await R({...n.errors},$),Ae(),setTimeout(Ae);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hn(n.errors)&&!Y,submitCount:n.submitCount+1,errors:n.errors}),Y)throw Y},Ye=(P,R={})=>{be(r,P)&&(It(R.defaultValue)?ie(P,zt(be(i,P))):(ie(P,R.defaultValue),ot(i,P,zt(R.defaultValue))),R.keepTouched||Nt(n.touchedFields,P),R.keepDirty||(Nt(n.dirtyFields,P),n.isDirty=R.defaultValue?re(P,zt(be(i,P))):re()),R.keepError||(Nt(n.errors,P),g.isValid&&x()),w.state.next({...n}))},xt=(P,R={})=>{const $=P?zt(P):i,Y=zt($),ne=hn(P),Z=ne?i:Y;if(R.keepDefaultValues||(i=$),!R.keepValues){if(R.keepDirtyValues){const fe=new Set([...u.mount,...Object.keys(So(i,a))]);for(const $e of Array.from(fe))be(n.dirtyFields,$e)?ot(Z,$e,be(a,$e)):ie($e,be(Z,$e))}else{if(Om&&It(P))for(const fe of u.mount){const $e=be(r,fe);if($e&&$e._f){const Ge=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(Wu(Ge)){const me=Ge.closest("form");if(me){me.reset();break}}}}if(R.keepFieldsRef)for(const fe of u.mount)ie(fe,be(Z,fe));else r={}}a=e.shouldUnregister?R.keepDefaultValues?zt(i):{}:zt(Z),w.array.next({values:{...Z}}),w.state.next({values:{...Z}})}u={mount:R.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!g.isValid||!!R.keepIsValid||!!R.keepDirtyValues,l.watch=!!e.shouldUnregister,w.state.next({submitCount:R.keepSubmitCount?n.submitCount:0,isDirty:ne?!1:R.keepDirty?n.isDirty:!!(R.keepDefaultValues&&!Es(P,i)),isSubmitted:R.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ne?{}:R.keepDirtyValues?R.keepDefaultValues&&a?So(i,a):n.dirtyFields:R.keepDefaultValues&&P?So(i,P):R.keepDirty?n.dirtyFields:{},touchedFields:R.keepTouched?n.touchedFields:{},errors:R.keepErrors?n.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Et=(P,R)=>xt(Zn(P)?P(a):P,R),mn=(P,R={})=>{const $=be(r,P),Y=$&&$._f;if(Y){const ne=Y.refs?Y.refs[0]:Y.ref;ne.focus&&(ne.focus(),R.shouldSelect&&Zn(ne.select)&&ne.select())}},Ut=P=>{n={...n,...P}},rn={control:{register:Re,unregister:ce,getFieldState:A,handleSubmit:Be,setError:ye,_subscribe:Ne,_runSchema:D,_focusError:Ae,_getWatch:J,_getDirty:re,_setValid:x,_setFieldArray:N,_setDisabledField:we,_setErrors:T,_getFieldArray:se,_reset:xt,_resetDefaultValues:()=>Zn(e.defaultValues)&&e.defaultValues().then(P=>{Et(P,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:Oe,_subjects:w,_proxyFormState:g,get _fields(){return r},get _formValues(){return a},get _state(){return l},set _state(P){l=P},get _defaultValues(){return i},get _names(){return u},set _names(P){u=P},get _formState(){return n},get _options(){return e},set _options(P){e={...e,...P}}},subscribe:Te,trigger:K,register:Re,handleSubmit:Be,watch:ve,setValue:ie,getValues:G,reset:Et,resetField:Ye,clearErrors:q,unregister:ce,setError:ye,setFocus:mn,getFieldState:A};return{...rn,formControl:rn}}function Fm(t={}){const e=lt.useRef(void 0),n=lt.useRef(void 0),[r,i]=lt.useState({isDirty:!1,isValidating:!1,isLoading:Zn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Zn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Zn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...u}=pF(t);e.current={...u,formState:r}}const a=e.current.control;return a._options=t,XU(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(u=>({...u,isReady:!0})),a._formState.isReady=!0,l},[a]),lt.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),lt.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),lt.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),lt.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),lt.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==r.isDirty&&a._subjects.state.next({isDirty:l})}},[a,r.isDirty]),lt.useEffect(()=>{t.values&&!Es(t.values,n.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=t.values,i(l=>({...l}))):a._resetDefaultValues()},[a,t.values]),lt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=YU(r,a),e.current}const Cb=(t,e,n)=>{if(t&&"reportValidity"in t){const r=be(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Ik=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Cb(r.ref,n,t):r.refs&&r.refs.forEach(i=>Cb(i,n,t))}},mF=(t,e)=>{e.shouldUseNativeValidation&&Ik(t,e);const n={};for(const r in t){const i=be(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(gF(e.names||Object.keys(t),r)){const l=Object.assign({},be(n,r));ot(l,"root",a),ot(n,r,l)}else ot(n,r,a)}return n},gF=(t,e)=>t.some(n=>n.startsWith(e+"."));var yF=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var u=r.unionErrors[0].errors[0];n[l]={message:u.message,type:u.code}}else n[l]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(g){return g.errors.forEach(function(v){return t.push(v)})}),e){var h=n[l].types,p=h&&h[r.code];n[l]=kk(l,e,n,i,p?[].concat(p,r.message):r.message)}t.shift()}return n},$m=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve((function(l,u){try{var h=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(p){return a.shouldUseNativeValidation&&Ik({},a),{errors:{},values:n.raw?r:p}})}catch(p){return u(p)}return h&&h.then?h.then(void 0,u):h})(0,function(l){if((function(u){return Array.isArray(u?.errors)})(l))return{values:{},errors:mF(yF(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}};const vF=Am({email:Oo().email(),password:Oo().min(6)});function wF({onSwitchToSignup:t}){const[e,n]=Wr(),r=e.includes("?")?e.split("?")[1]:"",i=new URLSearchParams(r).get("redirect")||"/dashboard",{user:a,loading:l}=$s();b.useEffect(()=>{!l&&a&&n("/account")},[a,l,n]);const{register:u,handleSubmit:h,formState:{errors:p,isSubmitting:g}}=Fm({resolver:$m(vF)});async function v(w){const{error:k}=await Dn.auth.signInWithPassword(w);if(k)return alert(k.message);n(i)}return d.jsxs("form",{onSubmit:h(v),className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),d.jsx("input",{...u("email"),type:"email",className:"mt-1 w-full rounded-xl bg-input border border-border px-3 py-2 outline-none focus:border-ring text-foreground"}),p.email&&d.jsx("p",{className:"text-xs text-red-400 mt-1",children:p.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-muted-foreground",children:"Password"}),d.jsx("input",{...u("password"),type:"password",className:"mt-1 w-full rounded-xl bg-input border border-border px-3 py-2 outline-none focus:border-ring text-foreground"}),p.password&&d.jsx("p",{className:"text-xs text-red-400 mt-1",children:p.password.message})]}),d.jsx("div",{className:"text-sm -mt-1",children:d.jsx(yt,{className:"text-primary hover:underline",to:"/reset-password",children:"Forgot password?"})}),d.jsx("button",{disabled:g,className:"w-full rounded-xl border border-primary px-3 py-2 text-primary hover:bg-primary hover:text-primary-foreground border border-border py-2 text-foreground",children:g?"Signing in":"Sign in"}),d.jsxs("div",{className:"text-sm text-foreground",children:["Dont have an account?"," ",d.jsx("button",{type:"button",onClick:t,className:"text-primary/90 hover:underline",children:"Sign Up Now"})]})]})}const xF=Am({email:Oo().email(),password:Oo().min(8,"Min 8 chars").regex(/[0-9]/,"Include a number").regex(/[^A-Za-z0-9]/,"Include a symbol"),confirm:Oo()}).refine(t=>t.password===t.confirm,{path:["confirm"],message:"Passwords do not match"});function bF({onSwitchToLogin:t}){const[e]=Wr(),n=e.includes("?")?e.split("?")[1]:"",r=new URLSearchParams(n).get("redirect")||"/dashboard",{register:i,handleSubmit:a,formState:{errors:l,isSubmitting:u}}=Fm({resolver:$m(xF)});async function h(p){const{error:g}=await Dn.auth.signUp({email:p.email,password:p.password,options:{emailRedirectTo:`${location.origin}/#/login?redirect=${encodeURIComponent(r)}`}});if(g)return alert(g.message);alert("Check your email to verify your account.")}return d.jsxs("form",{onSubmit:a(h),className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),d.jsx("input",{...i("email"),type:"email",className:"mt-1 w-full rounded-xl bg-input border border-border px-3 py-2 outline-none focus:border-ring text-foreground"}),l.email&&d.jsx("p",{className:"text-xs text-destructive mt-1",children:l.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-muted-foreground",children:"Password"}),d.jsx("input",{...i("password"),type:"password",className:"mt-1 w-full rounded-xl bg-input border border-border px-3 py-2 outline-none focus:border-ring text-foreground"}),l.password&&d.jsx("p",{className:"text-xs text-destructive mt-1",children:l.password.message}),d.jsx("p",{className:"text-[11px] text-muted-foreground/60 mt-1",children:"Min 8 chars, include a number & a symbol."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirm password"}),d.jsx("input",{...i("confirm"),type:"password",className:"mt-1 w-full rounded-xl bg-input border border-border px-3 py-2 outline-none focus:border-ring text-foreground"}),l.confirm&&d.jsx("p",{className:"text-xs text-destructive mt-1",children:l.confirm.message})]}),d.jsx("button",{disabled:u,className:"w-full rounded-xl border border-primary px-3 py-2 text-primary hover:bg-primary hover:text-primary-foreground border border-border py-2 text-foreground",children:u?"Creating":"Sign up"}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",d.jsx("button",{type:"button",onClick:t,className:"text-primary/90 hover:underline",children:"Sign in"})]}),d.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Well email a confirmation link to finish setting up your account."})]})}function _F(){const{user:t,signOut:e,loading:n}=$s(),[r,i]=b.useState({username:null,avatar_url:null}),[a,l]=b.useState(!1),[u,h]=b.useState(!1),[p,g]=b.useState("login");if(b.useEffect(()=>{new URLSearchParams(location.hash.split("?")[1]||"").get("mode")==="signup"&&g("signup")},[]),b.useEffect(()=>{async function w(){if(!t)return;const{data:k,error:E}=await Dn.from("profiles").select("username, avatar_url").eq("id",t.id).maybeSingle();!E&&k&&(i(k),h(!!k.username))}w()},[t]),n)return d.jsx("div",{className:"p-6 text-muted-foreground",children:"Loading"});if(!t){const w=p==="login"?"Sign in":"Create account";return d.jsxs("div",{className:"px-4 pt-8",children:[d.jsx("h1",{className:"text-3xl font-semibold text-white mb-1",children:"Access your account"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"Sign in if you already have an account or create a new one to track your portfolio."}),d.jsx("div",{className:"max-w-[540px]",children:d.jsxs("div",{className:"rounded-2xl border border-border bg-card text-white shadow-2xl",children:[d.jsx("div",{className:"px-5 py-4 border-b border-border text-lg font-medium text-foreground",children:w}),d.jsx("div",{className:"p-5",children:p==="login"?d.jsx(wF,{onSwitchToSignup:()=>g("signup")}):d.jsx(bF,{onSwitchToLogin:()=>g("login")})})]})})]})}async function v(){if(!t)return;l(!0);const{error:w}=await Dn.from("profiles").upsert({id:t.id,username:r.username,avatar_url:r.avatar_url});if(l(!1),w)return console.error(w),alert("Couldnt save profile. "+w.message);h(!0),console.log("Profile saved")}return d.jsx("div",{className:"p-6 text-white",children:d.jsxs("div",{className:"max-w-3xl space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-12 w-12 rounded-full bg-white/10 flex items-center justify-center",children:d.jsx("span",{className:"text-lg",children:t?.email?.[0]?.toUpperCase()||"U"})}),d.jsx("div",{className:"text-white/90 font-medium",children:t?.email})]}),d.jsxs("div",{className:"rounded-2xl border border-border bg-card",children:[d.jsx("div",{className:"px-4 py-3 border-b border-border text-muted-foreground",children:"Profile"}),d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm text-muted-foreground",children:["Username ",u&&d.jsx("span",{className:"text-xs text-accent",children:"(locked)"})]}),d.jsx("input",{value:r.username??"",onChange:w=>!u&&i(k=>({...k,username:w.target.value})),disabled:u,className:`mt-1 w-full rounded-xl bg-input border border-border px-3 py-2 outline-none focus:border-ring text-foreground ${u?"opacity-60 cursor-not-allowed":""}`})]}),!u&&d.jsx("button",{onClick:v,disabled:a,className:"rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 active:bg-primary/80 px-3 py-2 font-medium transition-all disabled:opacity-50",children:a?"Saving":"Save changes"}),u&&d.jsx("p",{className:"text-xs text-accent",children:"Username saved and locked. Cannot be changed."})]})]}),d.jsxs("div",{className:"rounded-2xl border border-border bg-card",children:[d.jsx("div",{className:"px-4 py-3 border-b border-border text-muted-foreground",children:"Security"}),d.jsx("div",{className:"p-4 space-y-3 text-muted-foreground",children:d.jsx("a",{className:"text-primary hover:underline",href:"/#/reset-password",children:"Change/Reset password"})})]}),d.jsx("div",{className:"pt-2",children:d.jsx("button",{onClick:e,className:"rounded-xl border border-primary px-3 py-2 text-primary hover:bg-primary hover:text-primary-foreground border border-border px-4 py-2 text-foreground",children:"Sign out"})})]})})}function Ba(t,e=0){const n=typeof t=="number"?t:Number(t);return Number.isFinite(n)?n:e}function Mp(t,e=0,n=1){return Math.min(n,Math.max(e,t))}const su=new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1});async function SF(){const t={lastUpdated:new Date().toISOString(),marketOverview:null,symbolInsights:[],heuristicHighlights:[]};try{const e=await fetch("https://api.binance.com/api/v3/ticker/24hr");if(!e.ok)return t;const i=(await e.json()).filter(V=>V.symbol.endsWith("USDT")).map(V=>{const re=Ba(V.lastPrice),J=Ba(V.highPrice),se=Ba(V.lowPrice),X=Ba(V.priceChangePercent),de=Math.max(1e-8,J-se),ie=Math.max(0,Math.min(1,(re-se)/de));return{...V,_pos:ie,_chg:X,_qv:Ba(V.quoteVolume)}}),a=[...i].sort((V,re)=>re._chg-V._chg),l=[...i].sort((V,re)=>re._pos-V._pos),u=[...i].sort((V,re)=>re._qv-V._qv),h=l.filter(V=>V._chg>3&&V._pos>.7).slice(0,5),p=a.slice(0,5),g=u.slice(0,5),v=i.filter(V=>V._chg>15&&V._pos>.9).slice(0,5),w=h.map(V=>V.symbol.replace("USDT","")),k=p.map(V=>V.symbol.replace("USDT","")),E=g.map(V=>V.symbol.replace("USDT","")),x=v.map(V=>V.symbol.replace("USDT","")),_=h.length?[{label:"Avg 24h %",value:`${(h.reduce((V,re)=>V+re._chg,0)/h.length).toFixed(1)}%`},{label:"Avg range pos",value:`${(h.reduce((V,re)=>V+re._pos,0)/h.length*100).toFixed(0)}%`}]:void 0,N=p.length?[{label:"Top change",value:`${p[0]._chg.toFixed(1)}%`},{label:"Median change",value:`${p[Math.min(p.length-1,Math.floor(p.length/2))]._chg.toFixed(1)}%`}]:void 0,C=g.length?[{label:"Top volume",value:`${su.format(g[0]._qv)} USDT`},{label:"Avg volume",value:`${su.format(g.reduce((V,re)=>V+re._qv,0)/g.length)} USDT`}]:void 0,T=v.length?[{label:"Max 24h %",value:`${Math.max(...v.map(V=>V._chg)).toFixed(1)}%`},{label:"Count",value:`${v.length}`}]:void 0,I=[{title:"Breakout candidates near 24h highs",detail:w.length?w.join(", "):"No clear breakouts right now.",tags:["breakout","price-action"],metrics:_},{title:"Top momentum leaders (24h %)",detail:k.length?k.join(", "):"No strong momentum standouts.",tags:["momentum"],metrics:N},{title:"Highest liquidity (quote volume)",detail:E.length?E.join(", "):"Low liquidity market.",tags:["liquidity"],metrics:C},{title:"Potentially overheated (extended move)",detail:x.length?x.join(", "):"No overheated clusters.",tags:["risk","overextension"],metrics:T}],U=i.length===0?0:i.reduce((V,re)=>V+re._chg,0)/i.length,L=i.filter(V=>V._chg>0).length,D=i.reduce((V,re)=>V+re._qv,0),z={overallSentiment:U>2?"bullish - broad upside momentum":U<-2?"bearish - downside pressure dominating":"neutral - mixed 24h performance",keyInsights:I.slice(0,3).map(V=>V.detail),tradingRecommendations:U>2?["Consider momentum continuation setups","Use trailing stops to protect gains"]:U<-2?["Prioritize downside protection","Size positions conservatively"]:["Wait for confirmation before new entries","Monitor liquidity leaders for breakouts"],riskAssessment:D>0?`Market breadth: ${L}/${i.length} advancers. Quote volume ${su.format(D)} USDT indicates ${D>5e9?"healthy":"muted"} participation.`:"Limited data available for risk assessment."},Q=p.slice(0,4).map(V=>{const re=V._chg>0?"bullish":V._chg<0?"bearish":"neutral",J=V._qv>1e9?"institutional":V._qv>2e8?"elevated":"steady",se=re==="bullish"?"Monitor for continuation if volume stays elevated.":re==="bearish"?"Consider defensive positioning or wait for stabilization.":"Wait for confirmation before taking action.";return{symbol:V.symbol.replace("USDT",""),analysisType:"quant-screen",signal:re,confidence:Mp((Math.abs(V._chg)/12+V._pos)/2),recommendation:se,reasoning:`24h change ${V._chg.toFixed(2)}%, range position ${(V._pos*100).toFixed(0)}%, quote volume ${su.format(V._qv)} USDT.`,timeframe:"24h",metadata:{technicalScore:Math.round(Mp(50+V._chg,0,100)),volumeAnalysis:`${J} volume`,marketCondition:V._pos>.7?"pressing highs":V._pos<.3?"near lows":"mid-range",riskLevel:Math.abs(V._chg)>10?"high":Math.abs(V._chg)>6?"medium":"balanced"}}});return{lastUpdated:new Date().toISOString(),marketOverview:z,symbolInsights:Q,heuristicHighlights:I}}catch{return t}}async function kF(){try{const t=await Us("/api/ai/insights");if(t.ok)return await t.json()}catch{}return await SF()}function EF(){const{isAuthenticated:t}=Hr(),{toast:e}=C_(),[n,r]=b.useState({lastUpdated:null,marketOverview:null,symbolInsights:[],heuristicHighlights:[]}),i=l=>({lastUpdated:l.lastUpdated&&typeof l.lastUpdated=="string"?l.lastUpdated:new Date().toISOString(),marketOverview:l.marketOverview&&typeof l.marketOverview=="object"?l.marketOverview:null,symbolInsights:Array.isArray(l.symbolInsights)?l.symbolInsights:[],heuristicHighlights:Array.isArray(l.heuristicHighlights)?l.heuristicHighlights:[]}),a=pn({queryKey:["ai-insights"],queryFn:kF,enabled:!1,retry:!1,refetchOnWindowFocus:!1,onSuccess:l=>{r(i(l)),e({title:"Insights updated"})},onError:()=>{e({title:"Failed to load insights",variant:"destructive"})}});return b.useEffect(()=>{t&&!n.marketOverview&&n.symbolInsights.length===0&&n.heuristicHighlights.length===0&&!a.isFetching&&a.refetch()},[t]),d.jsx("div",{className:"flex-1 overflow-hidden",children:d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("h1",{className:"flex min-w-0 items-center gap-2 break-keep whitespace-normal text-2xl font-bold text-foreground",children:[d.jsx(Po,{className:"w-6 h-6"}),d.jsx("span",{className:"min-w-0 overflow-hidden text-ellipsis whitespace-nowrap",children:"AI Insights"})]}),d.jsx("p",{className:"text-muted-foreground",children:"Market themes & signals, refreshed on demand."}),n.lastUpdated&&(()=>{const l=new Date(n.lastUpdated);return Number.isNaN(l.getTime())?null:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated ",wk(l,{addSuffix:!0})]})})()]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ke,{variant:"link",asChild:!0,className:"whitespace-nowrap",children:d.jsx(yt,{href:"/gainers",children:"View full gainers table"})}),d.jsxs(Ke,{variant:"outline",size:"sm",onClick:()=>void a.refetch(),disabled:!t||a.isFetching,className:"min-h-[44px]","data-testid":"button-refresh-insights",children:[d.jsx(Xu,{className:`w-4 h-4 sm:mr-2 ${a.isFetching?"animate-spin":""}`}),d.jsx("span",{className:"hidden sm:inline",children:a.isFetching?"Refreshing...":"Refresh"})]})]})]}),d.jsxs("div",{className:"grid gap-6",children:[d.jsxs(et,{className:"border-border",children:[d.jsxs(Sn,{className:"space-y-1",children:[d.jsxs(kn,{className:"flex items-center gap-2",children:[d.jsx(Po,{className:"w-5 h-5 text-accent"}),d.jsx("span",{children:"Market Overview"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Sentiment snapshot, key narratives, and risk context for the broader market."})]}),d.jsx(tt,{className:"space-y-6",children:n.marketOverview?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Overall sentiment"}),d.jsx("p",{className:"mt-2 text-lg font-semibold text-foreground",children:n.marketOverview.overallSentiment})]}),n.marketOverview.keyInsights?.length?d.jsxs("div",{children:[d.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Key insights"}),d.jsx("ul",{className:"mt-2 space-y-2 text-sm text-foreground/90 list-disc list-inside",children:n.marketOverview.keyInsights.map((l,u)=>d.jsx("li",{children:l},u))})]}):null,n.marketOverview.tradingRecommendations?.length?d.jsxs("div",{children:[d.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Trading notes"}),d.jsx("ul",{className:"mt-2 space-y-2 text-sm text-foreground/90 list-disc list-inside",children:n.marketOverview.tradingRecommendations.map((l,u)=>d.jsx("li",{children:l},u))})]}):null,n.marketOverview.riskAssessment?d.jsxs("div",{children:[d.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Risk assessment"}),d.jsx("p",{className:"mt-2 text-sm text-foreground/90",children:n.marketOverview.riskAssessment})]}):null]}):d.jsx("p",{className:"text-sm text-muted-foreground",children:"No market overview available yet. Refresh to generate the latest summary."})})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsxs(et,{className:"border-border",children:[d.jsxs(Sn,{className:"space-y-1",children:[d.jsxs(kn,{className:"flex items-center gap-2",children:[d.jsx(k_,{className:"w-5 h-5 text-accent"}),d.jsx("span",{children:"Featured Signals"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-ranked opportunities with confidence scores and supporting context."})]}),d.jsx(tt,{className:"space-y-4",children:n.symbolInsights.length?n.symbolInsights.slice(0,4).map(l=>{const u=l.confidence?Math.round(Mp(l.confidence)*100):null,h=[l.metadata?.technicalScore!==void 0?{label:"Tech score",value:`${l.metadata.technicalScore}`}:null,l.metadata?.volumeAnalysis?{label:"Volume",value:l.metadata.volumeAnalysis}:null,l.metadata?.marketCondition?{label:"Market",value:l.metadata.marketCondition}:null,l.metadata?.riskLevel?{label:"Risk",value:l.metadata.riskLevel}:null].filter(Boolean),p=l.signal==="bullish"?"bg-emerald-500/15 text-emerald-400 border-emerald-500/30":l.signal==="bearish"?"bg-red-500/15 text-red-400 border-red-500/30":"bg-muted text-muted-foreground border-border";return d.jsxs("div",{className:"rounded-xl border border-border/80 bg-background/40 p-4 shadow-sm",children:[d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx("span",{className:"text-lg font-semibold tracking-tight text-foreground",children:l.symbol}),l.signal?d.jsx(Xn,{variant:"outline",className:p,children:l.signal}):null,l.timeframe?d.jsx(Xn,{variant:"default",className:"bg-muted text-muted-foreground",children:l.timeframe}):null]}),l.recommendation?d.jsx("p",{className:"mt-1 text-sm text-foreground/90",children:l.recommendation}):null]}),d.jsx("div",{className:"flex items-center gap-2",children:u!==null?d.jsxs(Xn,{variant:"default",className:"bg-accent/10 text-accent",children:["Confidence ",u,"%"]}):null})]}),h.length?d.jsx("dl",{className:"mt-3 grid grid-cols-2 gap-x-4 gap-y-2 text-xs text-muted-foreground sm:text-sm",children:h.map(g=>d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("dt",{className:"capitalize",children:g.label}),d.jsx("dd",{className:"font-medium text-foreground",children:g.value})]},`${l.symbol}-${g.label}`))}):null,l.reasoning?d.jsx("p",{className:"mt-3 text-sm leading-relaxed text-muted-foreground",children:l.reasoning}):null]},`${l.symbol}-${l.timeframe??""}`)}):d.jsx("p",{className:"text-sm text-muted-foreground",children:"No featured signals right now. Refresh to pull the latest AI rankings."})})]}),d.jsxs(et,{className:"border-border",children:[d.jsxs(Sn,{className:"space-y-1",children:[d.jsxs(kn,{className:"flex items-center gap-2",children:[d.jsx(pm,{className:"w-5 h-5 text-accent"}),d.jsx("span",{children:"Quant Highlights"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Breakout, momentum, and liquidity heuristics with supporting stats."})]}),d.jsx(tt,{className:"grid gap-4",children:n.heuristicHighlights.length?n.heuristicHighlights.map((l,u)=>{const h=l.tags.includes("breakout")?d.jsx(E_,{className:"w-5 h-5 text-accent"}):l.tags.includes("momentum")?d.jsx(Ur,{className:"w-5 h-5 text-accent"}):l.tags.includes("risk")?d.jsx(iO,{className:"w-5 h-5 text-destructive"}):d.jsx(Po,{className:"w-5 h-5 text-foreground"});return d.jsxs("div",{className:"rounded-xl border border-border/80 bg-background/40 p-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[h,d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground",children:l.title}),d.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:l.detail})]})]}),l.metrics?.length?d.jsx("dl",{className:"mt-3 grid grid-cols-2 gap-x-4 gap-y-2 text-xs text-muted-foreground sm:text-sm",children:l.metrics.map(p=>d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("dt",{children:p.label}),d.jsx("dd",{className:"font-medium text-foreground",children:p.value})]},`${l.title}-${p.label}`))}):null,d.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:l.tags.map(p=>d.jsx(Xn,{variant:"default",className:"text-xs",children:p},p))})]},`${l.title}-${u}`)}):d.jsx("p",{className:"text-sm text-muted-foreground",children:"Quant heuristics are unavailable. Refresh to regenerate the analytics snapshot."})})]})]})]})]})})}const CF={};var NF={};function TF(){const t=typeof import.meta<"u"?CF?.VITE_API_BASE:void 0,e=typeof process<"u"?NF?.NEXT_PUBLIC_API_BASE:void 0,n=(t??e??"").trim();return n?n.replace(/\/+$/,""):""}function jF({filter:t="latest",kind:e="all",currencies:n="",search:r="",q:i="",page:a=1}={}){const l=n.trim().toUpperCase(),u=TF(),h=new URLSearchParams({kind:e,page:String(a)});t!=="latest"&&h.set("filter",t),l&&h.set("currencies",l);const g=(r!==""?r:i).trim();g&&h.set("search",g);const w=`${u?`${u}`:""}/api/news?${h.toString()}`;return pn({queryKey:["news",{filter:t,kind:e,currencies:l,search:g,page:a}],queryFn:async()=>{const k=await fetch(w);if(!k.ok)throw new Error(await k.text());return k.json()},staleTime:300*1e3,gcTime:1440*60*1e3})}var Uh="rovingFocusGroup.onEntryFocus",PF={bubbles:!1,cancelable:!0},Il="RovingFocusGroup",[Lp,Rk,IF]=z_(Il),[RF,Ak]=Nl(Il,[IF]),[AF,OF]=RF(Il),Ok=b.forwardRef((t,e)=>d.jsx(Lp.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Lp.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(DF,{...t,ref:e})})}));Ok.displayName=Il;var DF=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...v}=t,w=b.useRef(null),k=Lt(e,w),E=_m(a),[x,_]=Du({prop:l,defaultProp:u??null,onChange:h,caller:Il}),[N,C]=b.useState(!1),T=Rs(p),I=Rk(n),U=b.useRef(!1),[L,D]=b.useState(0);return b.useEffect(()=>{const z=w.current;if(z)return z.addEventListener(Uh,T),()=>z.removeEventListener(Uh,T)},[T]),d.jsx(AF,{scope:n,orientation:r,dir:E,loop:i,currentTabStopId:x,onItemFocus:b.useCallback(z=>_(z),[_]),onItemShiftTab:b.useCallback(()=>C(!0),[]),onFocusableItemAdd:b.useCallback(()=>D(z=>z+1),[]),onFocusableItemRemove:b.useCallback(()=>D(z=>z-1),[]),children:d.jsx(ct.div,{tabIndex:N||L===0?-1:0,"data-orientation":r,...v,ref:k,style:{outline:"none",...t.style},onMouseDown:it(t.onMouseDown,()=>{U.current=!0}),onFocus:it(t.onFocus,z=>{const Q=!U.current;if(z.target===z.currentTarget&&Q&&!N){const V=new CustomEvent(Uh,PF);if(z.currentTarget.dispatchEvent(V),!V.defaultPrevented){const re=I().filter(ie=>ie.focusable),J=re.find(ie=>ie.active),se=re.find(ie=>ie.id===x),de=[J,se,...re].filter(Boolean).map(ie=>ie.ref.current);Lk(de,g)}}U.current=!1}),onBlur:it(t.onBlur,()=>C(!1))})})}),Dk="RovingFocusGroupItem",Mk=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:l,...u}=t,h=Tl(),p=a||h,g=OF(Dk,n),v=g.currentTabStopId===p,w=Rk(n),{onFocusableItemAdd:k,onFocusableItemRemove:E,currentTabStopId:x}=g;return b.useEffect(()=>{if(r)return k(),()=>E()},[r,k,E]),d.jsx(Lp.ItemSlot,{scope:n,id:p,focusable:r,active:i,children:d.jsx(ct.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...u,ref:e,onMouseDown:it(t.onMouseDown,_=>{r?g.onItemFocus(p):_.preventDefault()}),onFocus:it(t.onFocus,()=>g.onItemFocus(p)),onKeyDown:it(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){g.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const N=UF(_,g.orientation,g.dir);if(N!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let T=w().filter(I=>I.focusable).map(I=>I.ref.current);if(N==="last")T.reverse();else if(N==="prev"||N==="next"){N==="prev"&&T.reverse();const I=T.indexOf(_.currentTarget);T=g.loop?FF(T,I+1):T.slice(I+1)}setTimeout(()=>Lk(T))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:x!=null}):l})})});Mk.displayName=Dk;var MF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function LF(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function UF(t,e,n){const r=LF(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return MF[r]}function Lk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function FF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var $F=Ok,BF=Mk;function VF(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var Uk=t=>{const{present:e,children:n}=t,r=zF(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),a=Lt(r.ref,WF(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:a}):null};Uk.displayName="Presence";function zF(t){const[e,n]=b.useState(),r=b.useRef(null),i=b.useRef(t),a=b.useRef("none"),l=t?"mounted":"unmounted",[u,h]=VF(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=iu(r.current);a.current=u==="mounted"?p:"none"},[u]),Zt(()=>{const p=r.current,g=i.current;if(g!==t){const w=a.current,k=iu(p);t?h("MOUNT"):k==="none"||p?.display==="none"?h("UNMOUNT"):h(g&&w!==k?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),Zt(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,v=k=>{const x=iu(r.current).includes(CSS.escape(k.animationName));if(k.target===e&&x&&(h("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},w=k=>{k.target===e&&(a.current=iu(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function iu(t){return t?.animationName||"none"}function WF(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cd="Tabs",[HF]=Nl(cd,[Ak]),Fk=Ak(),[qF,Bm]=HF(cd),$k=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:u,activationMode:h="automatic",...p}=t,g=_m(u),[v,w]=Du({prop:r,onChange:i,defaultProp:a??"",caller:cd});return d.jsx(qF,{scope:n,baseId:Tl(),value:v,onValueChange:w,orientation:l,dir:g,activationMode:h,children:d.jsx(ct.div,{dir:g,"data-orientation":l,...p,ref:e})})});$k.displayName=cd;var Bk="TabsList",Vk=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=Bm(Bk,n),l=Fk(n);return d.jsx($F,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:d.jsx(ct.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});Vk.displayName=Bk;var zk="TabsTrigger",Wk=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,l=Bm(zk,n),u=Fk(n),h=Kk(l.baseId,r),p=Gk(l.baseId,r),g=r===l.value;return d.jsx(BF,{asChild:!0,...u,focusable:!i,active:g,children:d.jsx(ct.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...a,ref:e,onMouseDown:it(t.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?l.onValueChange(r):v.preventDefault()}),onKeyDown:it(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&l.onValueChange(r)}),onFocus:it(t.onFocus,()=>{const v=l.activationMode!=="manual";!g&&!i&&v&&l.onValueChange(r)})})})});Wk.displayName=zk;var Hk="TabsContent",qk=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...l}=t,u=Bm(Hk,n),h=Kk(u.baseId,r),p=Gk(u.baseId,r),g=r===u.value,v=b.useRef(g);return b.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),d.jsx(Uk,{present:i||g,children:({present:w})=>d.jsx(ct.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!w,id:p,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:w&&a})})});qk.displayName=Hk;function Kk(t,e){return`${t}-trigger-${e}`}function Gk(t,e){return`${t}-content-${e}`}var KF=$k,Qk=Vk,Jk=Wk,Zk=qk;const GF=KF,Yk=b.forwardRef(({className:t,...e},n)=>d.jsx(Qk,{ref:n,className:rt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Yk.displayName=Qk.displayName;const Xk=b.forwardRef(({className:t,...e},n)=>d.jsx(Jk,{ref:n,className:rt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Xk.displayName=Jk.displayName;const QF=b.forwardRef(({className:t,...e},n)=>d.jsx(Zk,{ref:n,className:rt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));QF.displayName=Zk.displayName;const JF=[{value:"latest",label:"Latest"},{value:"hot",label:"Hot"},{value:"rising",label:"Rising"},{value:"bullish",label:"Bullish"},{value:"bearish",label:"Bearish"},{value:"important",label:"Important"}],Fh=["","BTC","ETH","SOL","XRP","AVAX","ADA","BNB","DOGE"];function ZF({article:t}){const e=b.useMemo(()=>{try{return lU(new Date(t.publishedAt),{addSuffix:!0})}catch{return"recently"}},[t.publishedAt]);return d.jsxs("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"block rounded-xl border border-border bg-card p-4 transition hover:border-primary/50 hover:bg-card/80",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[d.jsx(Xn,{variant:"default",className:"bg-muted text-foreground",children:t.source.name}),t.source.domain&&d.jsx("span",{className:"truncate text-muted-foreground/80",children:t.source.domain}),d.jsx("span",{"aria-hidden":"true",children:""}),d.jsx("span",{children:e}),t.currencies.length>0&&d.jsx("div",{className:"ml-auto flex flex-wrap gap-2",children:t.currencies.map(n=>d.jsx(Xn,{variant:"outline",className:"text-foreground",children:n},n))})]}),d.jsxs("div",{className:"mt-3 flex items-start gap-3",children:[d.jsx("h3",{className:"flex-1 text-base font-semibold leading-6 text-foreground",children:t.title}),d.jsx(hp,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":"true"})]})]})}function YF(){const[t,e]=b.useState("latest"),[n,r]=b.useState("news"),[i,a]=b.useState(""),[l,u]=b.useState(1),[h,p]=b.useState(""),[g,v]=b.useState("");b.useEffect(()=>{const L=setTimeout(()=>{u(1),v(h.trim())},400);return()=>clearTimeout(L)},[h]);const{data:w,isLoading:k,isFetching:E,isError:x,error:_}=jF({filter:t,kind:n,currencies:i,q:g,page:l}),N=xr(),C=w?.data??[],T=!!w?.paging?.next,I=async()=>{await N.invalidateQueries({queryKey:["news"]})},U=x&&_ instanceof Error?_.message:null;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-semibold text-foreground sm:text-2xl",children:"News & Insights"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Stay ahead with curated headlines and sentiment straight from CryptoPanic."})]}),d.jsxs(Ke,{variant:"outline",size:"sm",onClick:I,disabled:E,className:"min-h-[44px]",children:[d.jsx(Xu,{className:"w-4 h-4 sm:mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(GF,{value:t,onValueChange:L=>{e(L),u(1)},children:d.jsx(Yk,{className:"w-full justify-start overflow-x-auto bg-muted/60",children:JF.map(L=>d.jsx(Xk,{value:L.value,className:"capitalize text-xs sm:text-sm",children:L.label},L.value))})}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx(Ke,{size:"sm",variant:n==="news"?"default":"outline",onClick:()=>{r("news"),u(1)},className:"text-xs",children:"News"}),d.jsx(Ke,{size:"sm",variant:n==="media"?"default":"outline",onClick:()=>{r("media"),u(1)},className:"text-xs",children:"Media"})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[Fh.slice(0,5).map(L=>{const D=i===L||!L&&i==="",z=L||"All";return d.jsx(Ke,{size:"sm",variant:D?"default":"outline",onClick:()=>{a(L),u(1)},className:"text-xs",children:z},z)}),Fh.length>5&&d.jsxs(Ke,{size:"sm",variant:"outline",onClick:()=>a(""),className:"text-xs",children:["+",Fh.length-5]})]}),d.jsx(bm,{value:h,onChange:L=>p(L.target.value),placeholder:"Search headlines",className:"w-full text-sm"})]}),d.jsxs("div",{className:"grid gap-3",children:[k&&d.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading news"}),x&&d.jsxs("div",{className:"rounded-md border border-destructive/40 bg-destructive/10 p-3 text-sm text-destructive",children:["Failed to load news",U?`: ${U}`:"."]}),!k&&!E&&!x&&C.length===0&&d.jsx("div",{className:"rounded-md border border-border bg-card/60 p-6 text-center text-sm text-muted-foreground",children:"No articles found for the current filters."}),C.map(L=>d.jsx(ZF,{article:L},L.id)),E&&!k&&d.jsx("div",{className:"text-xs text-muted-foreground",children:"Refreshing"})]}),d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-border pt-4 text-xs text-muted-foreground",children:[d.jsx("span",{children:"Source: CryptoPanic"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Ke,{size:"sm",variant:"outline",disabled:l<=1,onClick:()=>u(L=>Math.max(1,L-1)),children:"Previous"}),d.jsx(Ke,{size:"sm",variant:"outline",disabled:!T,onClick:()=>u(L=>L+1),children:"Next"})]})]})]})}function XF({title:t,children:e}){return d.jsx("div",{className:"min-h-[calc(100vh-56px)] flex items-center justify-center px-4 py-8",children:d.jsxs("div",{className:"w-full max-w-[420px] rounded-2xl border border-border bg-card text-white shadow-2xl",children:[d.jsx("div",{className:"px-5 sm:px-6 py-4 border-b border-border text-lg sm:text-xl font-medium text-foreground",children:t}),d.jsx("div",{className:"p-5 sm:p-6",children:e})]})})}const e$=Am({email:Oo().email()});function t$(){const{register:t,handleSubmit:e,formState:{errors:n,isSubmitting:r}}=Fm({resolver:$m(e$)});async function i(a){const{error:l}=await Dn.auth.resetPasswordForEmail(a.email,{redirectTo:`${location.origin}/#/account`});if(l)return alert(l.message);alert("If that email exists, we sent a reset link.")}return d.jsx(XF,{title:"Reset password",children:d.jsxs("form",{onSubmit:e(i),className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),d.jsx("input",{...t("email"),type:"email",className:"mt-1 w-full rounded-xl bg-card border border-white/10 px-3 py-2 outline-none focus:border-white/20"}),n.email&&d.jsx("p",{className:"text-xs text-red-400 mt-1",children:n.email.message})]}),d.jsx("button",{disabled:r,className:"w-full rounded-xl bg-white/10 hover:bg-white/15 border border-white/15 py-2",children:r?"Sending":"Send reset link"}),d.jsx("div",{className:"text-sm",children:d.jsx(yt,{className:"text-primary/90 hover:underline",to:"/account",children:"Back to account"})})]})})}function Ar({children:t}){const[e,n]=b.useState(!1);return d.jsxs("div",{className:"flex h-screen bg-background text-white",children:[d.jsx(xO,{isOpen:e,onClose:()=>n(!1)}),d.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[d.jsx(_O,{onMenuClick:()=>n(!e)}),d.jsx("main",{className:"flex-1 overflow-y-auto bg-background text-foreground",children:t})]})]})}function n$(){return d.jsx(KA,{children:d.jsxs(wI,{children:[d.jsx(dn,{path:"/",children:d.jsx(Va,{to:"/dashboard"})}),d.jsx(dn,{path:"/login",children:d.jsx(Va,{to:"/account"})}),d.jsx(dn,{path:"/signup",children:d.jsx(Va,{to:"/account"})}),d.jsx(dn,{path:"/reset-password",component:t$}),d.jsx(dn,{path:"/dashboard",children:d.jsx(Ar,{children:d.jsx(P2,{})})}),d.jsx(dn,{path:"/portfolio",children:d.jsx(Ar,{children:d.jsx(L2,{})})}),d.jsx(dn,{path:"/gainers",children:d.jsx(Ar,{children:d.jsx(z2,{})})}),d.jsx(dn,{path:"/analyse/:symbol?",children:d.jsx(Ar,{children:d.jsx(pU,{})})}),d.jsx(dn,{path:"/watchlist",children:d.jsx(Ar,{children:d.jsx(ox,{children:d.jsx(yU,{})})})}),d.jsx(dn,{path:"/alerts",children:d.jsx(Ar,{children:d.jsx(ox,{children:d.jsx(xU,{})})})}),d.jsx(dn,{path:"/account",children:d.jsx(Ar,{children:d.jsx(_F,{})})}),d.jsx(dn,{path:"/ai-insights",children:d.jsx(Ar,{children:d.jsx(EF,{})})}),d.jsx(dn,{path:"/news",children:d.jsx(Ar,{children:d.jsx(YF,{})})}),d.jsx(dn,{children:d.jsx(Va,{to:"/dashboard"})})]})})}const e1=new Lb({defaultOptions:{queries:{staleTime:2e4,refetchOnWindowFocus:!1,retry:1}}}),t1=document.getElementById("root");if(!t1)throw new Error("Root element not found");let $h=null;function r$(){const t=d.jsx(lt.StrictMode,{children:d.jsxs(TC,{client:e1,children:[d.jsx(kI,{children:d.jsx(Q0,{hook:Z0,children:d.jsx(ZP,{children:d.jsx(SI,{children:d.jsx(n$,{})})})})}),d.jsx(VC,{initialIsOpen:!1})]})});$h||($h=iC.createRoot(t1)),$h.render(t)}r$();export{OM as A,Wr as B,DM as C,H_ as D,Dn as E,K_ as F,e1 as G,BF as I,Uk as P,AM as R,Nl as a,lS as b,ze as c,_m as d,z_ as e,Ak as f,yS as g,Lt as h,it as i,d as j,KM as k,ct as l,Q2 as m,sD as n,NS as o,dl as p,$F as q,b as r,MM as s,j_ as t,Rs as u,Du as v,Tl as w,rt as x,tO as y,$s as z};
